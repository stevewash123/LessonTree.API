[2025-03-06 06:07:48 INF] Starting application with logs directory: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\logs
[2025-03-06 06:07:49 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[2025-03-06 06:07:49 WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
[2025-03-06 06:07:49 INF] User profile is available. Using 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-03-06 06:07:49 INF] Applying migrations to LessonTree.db...
[2025-03-06 06:07:49 DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2025-03-06 06:07:49 DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
[2025-03-06 06:07:50 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 06:07:50 DBG] Creating DbConnection.
[2025-03-06 06:07:50 DBG] Created DbConnection. (14ms).
[2025-03-06 06:07:50 DBG] Migrating using database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Creating DbConnection.
[2025-03-06 06:07:50 DBG] Created DbConnection. (2ms).
[2025-03-06 06:07:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 06:07:50 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 06:07:50 DBG] Created DbCommand for 'ExecuteScalar' (5ms).
[2025-03-06 06:07:50 DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
[2025-03-06 06:07:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 06:07:50 INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 06:07:50 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (5ms).
[2025-03-06 06:07:50 DBG] Creating DbConnection.
[2025-03-06 06:07:50 DBG] Created DbConnection. (1ms).
[2025-03-06 06:07:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 06:07:50 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 06:07:50 DBG] Created DbCommand for 'ExecuteScalar' (1ms).
[2025-03-06 06:07:50 DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
[2025-03-06 06:07:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 06:07:50 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 06:07:50 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 06:07:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:07:50 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 06:07:50 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 06:07:50 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 06:07:50 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 06:07:50 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 06:07:50 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 06:07:50 INF] No migrations were applied. The database is already up to date.
[2025-03-06 06:07:50 DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
[2025-03-06 06:07:50 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 06:07:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:50 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:07:50 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 06:07:50 DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
[2025-03-06 06:07:50 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 06:07:50 INF] Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 06:07:51 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:07:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 61ms reading results.
[2025-03-06 06:07:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (5ms).
[2025-03-06 06:07:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:07:51 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 06:07:51 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 06:07:51 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 06:07:51 INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 06:07:51 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:07:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 06:07:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 06:07:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:07:51 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 06:07:51 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 06:07:51 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 06:07:51 INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 06:07:51 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:07:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 06:07:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 06:07:51 DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
[2025-03-06 06:07:51 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TwoFactorEnabled (bool) Required, 13], [Property: User.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 06:07:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:07:51 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 06:07:51 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 06:07:51 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 06:07:51 INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 06:07:51 DBG] Context 'LessonTreeContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:07:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 32ms reading results.
[2025-03-06 06:07:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 06:07:51 DBG] Compiling query expression: 
'DbSet<Course>()
    .Any()'
[2025-03-06 06:07:51 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Courses AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .Single()'
[2025-03-06 06:07:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:07:51 DBG] Created DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 06:07:51 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 06:07:51 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 06:07:51 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 06:07:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 06:07:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:07:51 DBG] 'LessonTreeContext' disposed.
[2025-03-06 06:07:51 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:07:51 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:07:51 DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
[2025-03-06 06:07:51 DBG] Hosting starting
[2025-03-06 06:07:51 DBG] Reading data from file 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys\key-289f7250-d4bf-48f6-ba65-112fa6af0fd7.xml'.
[2025-03-06 06:07:51 DBG] Found key {289f7250-d4bf-48f6-ba65-112fa6af0fd7}.
[2025-03-06 06:07:51 DBG] Considering key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} with expiration date 2025-05-07 18:34:01Z as default key.
[2025-03-06 06:07:51 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 06:07:51 DBG] Decrypting secret element using Windows DPAPI.
[2025-03-06 06:07:51 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 06:07:51 DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
[2025-03-06 06:07:51 DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
[2025-03-06 06:07:51 DBG] Using key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} as the default key.
[2025-03-06 06:07:51 DBG] Key ring with default key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} was loaded during application startup.
[2025-03-06 06:07:51 INF] Now listening on: https://localhost:7238
[2025-03-06 06:07:51 INF] Now listening on: http://localhost:5046
[2025-03-06 06:07:51 DBG] Loaded hosting startup assembly LessonTree.API
[2025-03-06 06:07:51 DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
[2025-03-06 06:07:51 DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
[2025-03-06 06:07:51 DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
[2025-03-06 06:07:51 INF] Application started. Press Ctrl+C to shut down.
[2025-03-06 06:07:51 INF] Hosting environment: Development
[2025-03-06 06:07:51 INF] Content root path: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api
[2025-03-06 06:07:51 DBG] Hosting started
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCH" accepted.
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCH" started.
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCI" accepted.
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCI" started.
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCI" received FIN.
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCH" received FIN.
[2025-03-06 06:07:52 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 06:07:52 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCI" stopped.
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCH" stopped.
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCI" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCH" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCJ" accepted.
[2025-03-06 06:07:52 DBG] Connection id "0HNASJSHO5KCJ" started.
[2025-03-06 06:07:52 DBG] Connection 0HNASJSHO5KCJ established using the following protocol: "Tls13"
[2025-03-06 06:07:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.html - null null
[2025-03-06 06:07:52 DBG] Wildcard detected, all requests with hosts will be allowed.
[2025-03-06 06:07:52 DBG] No candidates found for the request path '/swagger/index.html'
[2025-03-06 06:07:52 DBG] Request did not match any endpoints
[2025-03-06 06:07:52 INF] Middleware: Handling GET request to /swagger/index.html
[2025-03-06 06:07:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:07:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:07:52 DBG] Response markup is scheduled to include Browser Link script injection.
[2025-03-06 06:07:52 DBG] Response markup is scheduled to include browser refresh script injection.
[2025-03-06 06:07:52 DBG] Response markup was updated to include Browser Link script injection.
[2025-03-06 06:07:52 DBG] Response markup was updated to include browser refresh script injection.
[2025-03-06 06:07:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.html - 200 null text/html;charset=utf-8 305.4294ms
[2025-03-06 06:07:53 INF] Request starting HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - null null
[2025-03-06 06:07:53 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/swagger-ui-bundle.js - null null
[2025-03-06 06:07:53 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/swagger-ui.css - null null
[2025-03-06 06:07:53 DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
[2025-03-06 06:07:53 DBG] No candidates found for the request path '/swagger/swagger-ui.css'
[2025-03-06 06:07:53 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/swagger-ui-standalone-preset.js - null null
[2025-03-06 06:07:53 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.css - null null
[2025-03-06 06:07:53 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.js - null null
[2025-03-06 06:07:53 INF] Request starting HTTP/2 GET https://localhost:7238/_vs/browserLink - null null
[2025-03-06 06:07:53 INF] Request finished HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 67.0118ms
[2025-03-06 06:07:53 DBG] Request did not match any endpoints
[2025-03-06 06:07:53 DBG] Request did not match any endpoints
[2025-03-06 06:07:53 INF] Middleware: Handling GET request to /swagger/swagger-ui-bundle.js
[2025-03-06 06:07:53 INF] Middleware: Handling GET request to /swagger/swagger-ui.css
[2025-03-06 06:07:53 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:07:53 DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
[2025-03-06 06:07:53 DBG] No candidates found for the request path '/swagger/index.css'
[2025-03-06 06:07:53 DBG] No candidates found for the request path '/swagger/index.js'
[2025-03-06 06:07:53 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:07:53 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:07:53 DBG] Request did not match any endpoints
[2025-03-06 06:07:53 DBG] Request did not match any endpoints
[2025-03-06 06:07:53 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:07:53 INF] Middleware: Handling GET request to /swagger/swagger-ui-standalone-preset.js
[2025-03-06 06:07:53 INF] Middleware: Handling GET request to /swagger/index.css
[2025-03-06 06:07:53 INF] The file /swagger-ui-bundle.js was not modified
[2025-03-06 06:07:53 INF] The file /swagger-ui.css was not modified
[2025-03-06 06:07:53 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:07:53 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:07:53 DBG] Handled. Status code: 304 File: /swagger-ui-bundle.js
[2025-03-06 06:07:53 DBG] Handled. Status code: 304 File: /swagger-ui.css
[2025-03-06 06:07:53 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:07:53 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:07:53 DBG] Request did not match any endpoints
[2025-03-06 06:07:53 INF] Request finished HTTP/2 GET https://localhost:7238/_vs/browserLink - 200 null text/javascript; charset=UTF-8 115.4498ms
[2025-03-06 06:07:53 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/swagger-ui-bundle.js - 304 null text/javascript 155.6171ms
[2025-03-06 06:07:53 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/swagger-ui.css - 304 null text/css 158.1362ms
[2025-03-06 06:07:53 INF] The file /swagger-ui-standalone-preset.js was not modified
[2025-03-06 06:07:53 INF] The file /index.css was not modified
[2025-03-06 06:07:53 INF] Middleware: Handling GET request to /swagger/index.js
[2025-03-06 06:07:53 DBG] Handled. Status code: 304 File: /swagger-ui-standalone-preset.js
[2025-03-06 06:07:53 DBG] Handled. Status code: 304 File: /index.css
[2025-03-06 06:07:53 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:07:53 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/swagger-ui-standalone-preset.js - 304 null text/javascript 197.3844ms
[2025-03-06 06:07:53 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.css - 304 null text/css 204.5936ms
[2025-03-06 06:07:53 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:07:53 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.js - 200 null application/javascript;charset=utf-8 208.155ms
[2025-03-06 06:07:53 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - null null
[2025-03-06 06:07:53 DBG] No candidates found for the request path '/swagger/v1/swagger.json'
[2025-03-06 06:07:53 DBG] Request did not match any endpoints
[2025-03-06 06:07:53 INF] Middleware: Handling GET request to /swagger/v1/swagger.json
[2025-03-06 06:07:53 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:07:53 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:07:53 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 261.8245ms
[2025-03-06 06:08:01 DBG] Connection id "0HNASJSHO5KCK" accepted.
[2025-03-06 06:08:01 DBG] Connection id "0HNASJSHO5KCK" started.
[2025-03-06 06:08:01 DBG] Connection 0HNASJSHO5KCK established using the following protocol: "Tls13"
[2025-03-06 06:08:01 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 06:08:01 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:08:01 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 06:08:01 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 06:08:01 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:08:01 INF] CORS policy execution successful.
[2025-03-06 06:08:01 DBG] The request is a preflight request.
[2025-03-06 06:08:01 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 54.4985ms
[2025-03-06 06:08:01 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 06:08:01 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:08:01 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 06:08:01 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:08:01 INF] Middleware: Handling GET request to /api/course
[2025-03-06 06:08:01 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:08:01 INF] CORS policy execution successful.
[2025-03-06 06:08:01 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:08:01 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:08:01 DBG] Successfully validated the token.
[2025-03-06 06:08:01 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 06:08:01 DBG] Authorization was successful.
[2025-03-06 06:08:01 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 06:08:01 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:08:01 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 06:08:01 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 06:08:01 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 06:08:01 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 06:08:01 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 06:08:01 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 06:08:01 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:08:02 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:08:02 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 06:08:02 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 06:08:02 DBG] Compiling query expression: 
'DbSet<Course>()
    .Include(c => c.Topics)
    .ThenInclude(t => t.SubTopics)
    .ThenInclude(st => st.Lessons)'
[2025-03-06 06:08:02 DBG] Including navigation: 'Course.Topics'.
[2025-03-06 06:08:02 DBG] Including navigation: 'Topic.SubTopics'.
[2025-03-06 06:08:02 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-03-06 06:08:02 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-03-06 06:08:02 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Course>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Course.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Course.Description (string) Required, 1], [Property: Course.Title (string) Required, 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Topic.CourseId (int) Required FK Index, 4], [Property: Topic.Description (string) Required, 5], [Property: Topic.Title (string) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: SubTopic.Description (string), 8], [Property: SubTopic.Title (string) Required, 9], [Property: SubTopic.TopicId (int) Required FK Index, 10] }
            5 -> 7
            6 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Lesson.Content (string) Required, 12], [Property: Lesson.SubTopicId (int) Required FK Index, 13], [Property: Lesson.Title (string) Required, 14] }
            7 -> 11
        SELECT c.Id, c.Description, c.Title, t1.Id, t1.CourseId, t1.Description, t1.Title, t1.Id0, t1.Description0, t1.Title0, t1.TopicId, t1.Id00, t1.Content, t1.SubTopicId, t1.Title00
        FROM Courses AS c
        LEFT JOIN 
        (
            SELECT t.Id, t.CourseId, t.Description, t.Title, t0.Id AS Id0, t0.Description AS Description0, t0.Title AS Title0, t0.TopicId, t0.Id0 AS Id00, t0.Content, t0.SubTopicId, t0.Title0 AS Title00
            FROM Topics AS t
            LEFT JOIN 
            (
                SELECT s.Id, s.Description, s.Title, s.TopicId, l.Id AS Id0, l.Content, l.SubTopicId, l.Title AS Title0
                FROM SubTopics AS s
                LEFT JOIN Lessons AS l ON s.Id == l.SubTopicId
            ) AS t0 ON t.Id == t0.TopicId
        ) AS t1 ON c.Id == t1.CourseId
        ORDER BY c.Id ASC, t1.Id ASC, t1.Id0 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Course>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)'
[2025-03-06 06:08:02 DBG] Creating DbConnection.
[2025-03-06 06:08:02 DBG] Created DbConnection. (1ms).
[2025-03-06 06:08:02 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:08:02 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:02 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:08:02 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 06:08:02 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 06:08:02 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:08:02 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:02 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:02 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 273ms reading results.
[2025-03-06 06:08:02 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:02 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 06:08:02 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 06:08:02 DBG] No information found on request to perform content negotiation.
[2025-03-06 06:08:02 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 06:08:02 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 06:08:02 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 06:08:02 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 06:08:02 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 904.2363ms
[2025-03-06 06:08:02 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:08:02 INF] HTTP GET /api/course responded 200 in 975.3826 ms
[2025-03-06 06:08:02 DBG] 'LessonTreeContext' disposed.
[2025-03-06 06:08:02 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:08:02 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 06:08:02 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 1369.6591ms
[2025-03-06 06:08:18 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 06:08:18 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 06:08:18 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 06:08:18 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 06:08:18 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:08:18 INF] CORS policy execution successful.
[2025-03-06 06:08:18 DBG] The request is a preflight request.
[2025-03-06 06:08:18 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 12.9312ms
[2025-03-06 06:08:18 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 34
[2025-03-06 06:08:18 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 06:08:18 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 06:08:18 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 06:08:18 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 06:08:18 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:08:18 INF] CORS policy execution successful.
[2025-03-06 06:08:18 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:08:18 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:08:18 DBG] Successfully validated the token.
[2025-03-06 06:08:18 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 06:08:18 DBG] Authorization was successful.
[2025-03-06 06:08:18 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 06:08:18 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 06:08:18 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 06:08:18 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 06:08:18 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 06:08:18 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 06:08:18 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 06:08:18 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 06:08:18 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 06:08:18 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 06:08:18 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 06:08:18 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 06:08:18 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 06:08:18 DBG] Connection id "0HNASJSHO5KCK", Request id "0HNASJSHO5KCK:00000007": started reading request body.
[2025-03-06 06:08:18 DBG] Connection id "0HNASJSHO5KCK", Request id "0HNASJSHO5KCK:00000007": done reading request body.
[2025-03-06 06:08:18 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 06:08:18 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 06:08:18 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 06:08:18 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 06:08:18 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 06:08:18 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 06:08:18 DBG] Entering MoveLesson with Lesson ID: 46, New SubTopic ID: 11
[2025-03-06 06:08:18 DBG] Moving Lesson ID: 46 to SubTopic ID: 11
[2025-03-06 06:08:18 DBG] Retrieving lesson by ID: 46
[2025-03-06 06:08:18 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 06:08:18 DBG] Compiling query expression: 
'DbSet<Lesson>()
    .Include(l => l.SubTopic)
    .FirstOrDefault(l => l.Id == __id_0)'
[2025-03-06 06:08:18 DBG] Including navigation: 'Lesson.SubTopic'.
[2025-03-06 06:08:18 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Lesson>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Lesson.Content (string) Required, 1], [Property: Lesson.SubTopicId (int) Required FK Index, 2], [Property: Lesson.Title (string) Required, 3] }
            1 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SubTopic.Description (string), 5], [Property: SubTopic.Title (string) Required, 6], [Property: SubTopic.TopicId (int) Required FK Index, 7] }
        SELECT TOP(1) l.Id, l.Content, l.SubTopicId, l.Title, s.Id, s.Description, s.Title, s.TopicId
        FROM Lessons AS l
        INNER JOIN SubTopics AS s ON l.SubTopicId == s.Id
        WHERE l.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Lesson>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 06:08:18 DBG] Creating DbConnection.
[2025-03-06 06:08:18 DBG] Created DbConnection. (1ms).
[2025-03-06 06:08:18 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:08:18 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 06:08:18 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 06:08:18 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 06:08:18 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 9ms reading results.
[2025-03-06 06:08:18 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:08:18 DBG] Retrieving subtopic by ID: 11
[2025-03-06 06:08:18 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .FirstOrDefault(st => st.Id == __id_0)'
[2025-03-06 06:08:18 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubTopic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Description (string), 1], [Property: SubTopic.Title (string) Required, 2], [Property: SubTopic.TopicId (int) Required FK Index, 3] }
        SELECT TOP(1) s.Id, s.Description, s.Title, s.TopicId
        FROM SubTopics AS s
        WHERE s.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 06:08:18 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:08:18 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 06:08:18 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 06:08:18 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 06:08:18 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 06:08:18 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:08:18 DBG] Updating lesson in database: Kinetic Energy
[2025-03-06 06:08:18 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 06:08:18 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 06:08:18 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 06:08:18 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 06:08:18 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:08:18 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 06:08:18 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 06:08:18 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 19), @p1='?' (DbType = Int32), @p2='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 06:08:18 INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 19), @p1='?' (DbType = Int32), @p2='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 06:08:18 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 06:08:18 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:08:18 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 06:08:18 INF] Moved Lesson ID: 46 to SubTopic ID: 11
[2025-03-06 06:08:18 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 06:08:18 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 291.2718ms
[2025-03-06 06:08:18 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 06:08:18 INF] HTTP POST /api/Lesson/move responded 200 in 311.1844 ms
[2025-03-06 06:08:18 DBG] 'LessonTreeContext' disposed.
[2025-03-06 06:08:18 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:08:18 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Topic - null null
[2025-03-06 06:08:18 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 336.0324ms
[2025-03-06 06:08:18 DBG] 1 candidate(s) found for the request path '/api/Topic'
[2025-03-06 06:08:18 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 06:08:18 INF] Middleware: Handling OPTIONS request to /api/Topic
[2025-03-06 06:08:18 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:08:18 INF] CORS policy execution successful.
[2025-03-06 06:08:18 DBG] The request is a preflight request.
[2025-03-06 06:08:18 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Topic - 204 null null 12.466ms
[2025-03-06 06:08:18 INF] Request starting HTTP/2 GET https://localhost:7238/api/Topic - null null
[2025-03-06 06:08:18 DBG] 1 candidate(s) found for the request path '/api/Topic'
[2025-03-06 06:08:18 DBG] Endpoint 'LessonTree.API.Controllers.TopicController.GetTopics (LessonTree.API)' with route pattern 'api/Topic' is valid for the request path '/api/Topic'
[2025-03-06 06:08:18 DBG] Request matched endpoint 'LessonTree.API.Controllers.TopicController.GetTopics (LessonTree.API)'
[2025-03-06 06:08:18 INF] Middleware: Handling GET request to /api/Topic
[2025-03-06 06:08:18 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:08:18 INF] CORS policy execution successful.
[2025-03-06 06:08:18 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:08:18 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:08:18 DBG] Successfully validated the token.
[2025-03-06 06:08:18 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 06:08:18 DBG] Authorization was successful.
[2025-03-06 06:08:18 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 06:08:18 INF] Executing endpoint 'LessonTree.API.Controllers.TopicController.GetTopics (LessonTree.API)'
[2025-03-06 06:08:18 INF] Route matched with {action = "GetTopics", controller = "Topic"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetTopics() on controller LessonTree.API.Controllers.TopicController (LessonTree.API).
[2025-03-06 06:08:18 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 06:08:18 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 06:08:18 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 06:08:18 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 06:08:18 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 06:08:18 DBG] Executing controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 06:08:18 DBG] Executed controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 06:08:18 INF] Incoming request: GET /api/Topic, Query: , Body: 
[2025-03-06 06:08:18 DBG] Fetching all topics
[2025-03-06 06:08:18 DBG] Retrieving all topics
[2025-03-06 06:08:18 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 06:08:18 DBG] Compiling query expression: 
'DbSet<Topic>()
    .Include(t => t.SubTopics)
    .ThenInclude(s => s.Lessons)'
[2025-03-06 06:08:18 DBG] Including navigation: 'Topic.SubTopics'.
[2025-03-06 06:08:18 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-03-06 06:08:18 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-03-06 06:08:18 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CourseId (int) Required FK Index, 1], [Property: Topic.Description (string) Required, 2], [Property: Topic.Title (string) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SubTopic.Description (string), 5], [Property: SubTopic.Title (string) Required, 6], [Property: SubTopic.TopicId (int) Required FK Index, 7] }
            3 -> 4
            4 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Lesson.Content (string) Required, 9], [Property: Lesson.SubTopicId (int) Required FK Index, 10], [Property: Lesson.Title (string) Required, 11] }
            5 -> 8
        SELECT t.Id, t.CourseId, t.Description, t.Title, t0.Id, t0.Description, t0.Title, t0.TopicId, t0.Id0, t0.Content, t0.SubTopicId, t0.Title0
        FROM Topics AS t
        LEFT JOIN 
        (
            SELECT s.Id, s.Description, s.Title, s.TopicId, l.Id AS Id0, l.Content, l.SubTopicId, l.Title AS Title0
            FROM SubTopics AS s
            LEFT JOIN Lessons AS l ON s.Id == l.SubTopicId
        ) AS t0 ON t.Id == t0.TopicId
        ORDER BY t.Id ASC, t0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)'
[2025-03-06 06:08:18 DBG] Creating DbConnection.
[2025-03-06 06:08:18 DBG] Created DbConnection. (0ms).
[2025-03-06 06:08:18 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:08:18 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 06:08:18 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 06:08:18 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id", "t0"."Description", "t0"."Title", "t0"."TopicId", "t0"."Id0", "t0"."Content", "t0"."SubTopicId", "t0"."Title0"
FROM "Topics" AS "t"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t0" ON "t"."Id" = "t0"."TopicId"
ORDER BY "t"."Id", "t0"."Id"
[2025-03-06 06:08:18 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id", "t0"."Description", "t0"."Title", "t0"."TopicId", "t0"."Id0", "t0"."Content", "t0"."SubTopicId", "t0"."Title0"
FROM "Topics" AS "t"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t0" ON "t"."Id" = "t0"."TopicId"
ORDER BY "t"."Id", "t0"."Id"
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:08:18 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 101ms reading results.
[2025-03-06 06:08:18 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:08:18 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 06:08:18 DBG] No information found on request to perform content negotiation.
[2025-03-06 06:08:18 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 06:08:18 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 06:08:18 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 06:08:18 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.TopicResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 06:08:18 INF] Executed action LessonTree.API.Controllers.TopicController.GetTopics (LessonTree.API) in 176.8566ms
[2025-03-06 06:08:18 INF] Executed endpoint 'LessonTree.API.Controllers.TopicController.GetTopics (LessonTree.API)'
[2025-03-06 06:08:18 INF] HTTP GET /api/Topic responded 200 in 190.4056 ms
[2025-03-06 06:08:18 DBG] 'LessonTreeContext' disposed.
[2025-03-06 06:08:18 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:08:18 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:08:18 INF] Request finished HTTP/2 GET https://localhost:7238/api/Topic - 200 null application/json; charset=utf-8 213.9366ms
[2025-03-06 06:16:20 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 06:16:20 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:16:20 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 06:16:20 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 06:16:20 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:16:20 INF] CORS policy execution successful.
[2025-03-06 06:16:20 DBG] The request is a preflight request.
[2025-03-06 06:16:20 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 16.8619ms
[2025-03-06 06:16:20 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 06:16:20 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:16:20 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 06:16:20 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:16:20 INF] Middleware: Handling GET request to /api/course
[2025-03-06 06:16:20 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:16:20 INF] CORS policy execution successful.
[2025-03-06 06:16:20 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:16:20 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:16:20 DBG] Successfully validated the token.
[2025-03-06 06:16:20 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 06:16:20 DBG] Authorization was successful.
[2025-03-06 06:16:20 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 06:16:20 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:16:20 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 06:16:20 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 06:16:20 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 06:16:20 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 06:16:20 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 06:16:20 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 06:16:20 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:16:20 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:16:20 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 06:16:20 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 06:16:20 DBG] Creating DbConnection.
[2025-03-06 06:16:20 DBG] Created DbConnection. (0ms).
[2025-03-06 06:16:20 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:16:20 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:16:20 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:16:20 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 06:16:20 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 06:16:20 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:16:20 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:16:20 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:16:20 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 120ms reading results.
[2025-03-06 06:16:20 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:16:20 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:16:20 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 06:16:20 DBG] No information found on request to perform content negotiation.
[2025-03-06 06:16:20 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 06:16:20 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 06:16:20 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 06:16:20 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 06:16:20 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 176.0794ms
[2025-03-06 06:16:20 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:16:20 INF] HTTP GET /api/course responded 200 in 192.8846 ms
[2025-03-06 06:16:20 DBG] 'LessonTreeContext' disposed.
[2025-03-06 06:16:20 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:16:20 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:16:20 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 224.3635ms
[2025-03-06 06:23:36 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 06:23:36 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:23:36 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 06:23:36 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 06:23:36 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:23:36 INF] CORS policy execution successful.
[2025-03-06 06:23:36 DBG] The request is a preflight request.
[2025-03-06 06:23:36 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 15.1763ms
[2025-03-06 06:23:36 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 06:23:36 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:23:36 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 06:23:36 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:23:36 INF] Middleware: Handling GET request to /api/course
[2025-03-06 06:23:36 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:23:36 INF] CORS policy execution successful.
[2025-03-06 06:23:36 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:23:36 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:23:36 DBG] Successfully validated the token.
[2025-03-06 06:23:36 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 06:23:36 DBG] Authorization was successful.
[2025-03-06 06:23:36 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 06:23:36 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:23:36 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 06:23:36 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 06:23:36 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 06:23:36 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 06:23:36 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 06:23:36 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 06:23:36 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:23:36 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:23:36 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 06:23:36 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 06:23:36 DBG] Creating DbConnection.
[2025-03-06 06:23:36 DBG] Created DbConnection. (2ms).
[2025-03-06 06:23:36 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:23:36 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:23:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:23:36 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 06:23:36 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 06:23:36 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:23:36 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:36 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:23:37 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:23:37 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 125ms reading results.
[2025-03-06 06:23:37 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:23:37 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:23:37 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 06:23:37 DBG] No information found on request to perform content negotiation.
[2025-03-06 06:23:37 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 06:23:37 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 06:23:37 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 06:23:37 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 06:23:37 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 187.0594ms
[2025-03-06 06:23:37 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:23:37 INF] HTTP GET /api/course responded 200 in 236.4878 ms
[2025-03-06 06:23:37 DBG] 'LessonTreeContext' disposed.
[2025-03-06 06:23:37 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:23:37 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:23:37 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 266.8818ms
[2025-03-06 06:29:42 DBG] Connection id "0HNASJSHO5KCJ" received FIN.
[2025-03-06 06:29:42 DBG] Connection id "0HNASJSHO5KCK" received FIN.
[2025-03-06 06:29:42 DBG] Connection id "0HNASJSHO5KCK" is closed. The last processed stream ID was 19.
[2025-03-06 06:29:42 DBG] Connection id "0HNASJSHO5KCJ" is closed. The last processed stream ID was 17.
[2025-03-06 06:29:42 DBG] The connection queue processing loop for 0HNASJSHO5KCJ completed.
[2025-03-06 06:29:42 DBG] The connection queue processing loop for 0HNASJSHO5KCK completed.
[2025-03-06 06:29:42 DBG] Connection id "0HNASJSHO5KCK" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 06:29:42 DBG] Connection id "0HNASJSHO5KCJ" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 06:29:42 DBG] Connection id "0HNASJSHO5KCK" stopped.
[2025-03-06 06:29:42 DBG] Connection id "0HNASJSHO5KCJ" stopped.
[2025-03-06 06:30:01 DBG] Connection id "0HNASJSHO5KCL" accepted.
[2025-03-06 06:30:01 DBG] Connection id "0HNASJSHO5KCL" started.
[2025-03-06 06:30:01 DBG] Connection 0HNASJSHO5KCL established using the following protocol: "Tls13"
[2025-03-06 06:30:01 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 06:30:01 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:30:01 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 06:30:01 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 06:30:01 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:30:01 INF] CORS policy execution successful.
[2025-03-06 06:30:01 DBG] The request is a preflight request.
[2025-03-06 06:30:01 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 19.8326ms
[2025-03-06 06:30:01 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 06:30:01 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:30:01 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 06:30:01 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:30:01 INF] Middleware: Handling GET request to /api/course
[2025-03-06 06:30:01 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:30:01 INF] CORS policy execution successful.
[2025-03-06 06:30:01 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:30:01 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:30:01 DBG] Successfully validated the token.
[2025-03-06 06:30:01 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 06:30:01 DBG] Authorization was successful.
[2025-03-06 06:30:01 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 06:30:01 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:30:01 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 06:30:01 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 06:30:01 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 06:30:01 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 06:30:01 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 06:30:01 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 06:30:01 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:30:01 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:30:01 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 06:30:01 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 06:30:01 DBG] Creating DbConnection.
[2025-03-06 06:30:01 DBG] Created DbConnection. (3ms).
[2025-03-06 06:30:01 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:30:01 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:30:01 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:30:01 DBG] Created DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 06:30:01 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 06:30:01 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:30:01 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:30:02 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:30:02 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 199ms reading results.
[2025-03-06 06:30:02 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:30:02 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 06:30:02 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 06:30:02 DBG] No information found on request to perform content negotiation.
[2025-03-06 06:30:02 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 06:30:02 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 06:30:02 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 06:30:02 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 06:30:02 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 282.6335ms
[2025-03-06 06:30:02 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:30:02 INF] HTTP GET /api/course responded 200 in 313.1682 ms
[2025-03-06 06:30:02 DBG] 'LessonTreeContext' disposed.
[2025-03-06 06:30:02 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:30:02 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 06:30:02 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 358.9433ms
[2025-03-06 06:46:44 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 06:46:44 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:46:44 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 06:46:44 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 06:46:44 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:46:44 INF] CORS policy execution successful.
[2025-03-06 06:46:44 DBG] The request is a preflight request.
[2025-03-06 06:46:44 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 17.1437ms
[2025-03-06 06:46:44 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 06:46:44 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:46:44 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 06:46:44 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:46:44 INF] Middleware: Handling GET request to /api/course
[2025-03-06 06:46:44 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:46:44 INF] CORS policy execution successful.
[2025-03-06 06:46:44 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:46:44 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:46:44 DBG] Successfully validated the token.
[2025-03-06 06:46:44 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 06:46:44 DBG] Authorization was successful.
[2025-03-06 06:46:44 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 06:46:44 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:46:44 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 06:46:44 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 06:46:44 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 06:46:44 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 06:46:44 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 06:46:44 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 06:46:44 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:46:44 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:46:44 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 06:46:44 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 06:46:44 DBG] Creating DbConnection.
[2025-03-06 06:46:44 DBG] Created DbConnection. (21ms).
[2025-03-06 06:46:44 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:46:44 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:46:44 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:46:44 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 06:46:44 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 06:46:44 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:46:44 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:46:44 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:46:44 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 131ms reading results.
[2025-03-06 06:46:44 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:46:44 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:46:44 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 06:46:44 DBG] No information found on request to perform content negotiation.
[2025-03-06 06:46:44 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 06:46:44 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 06:46:44 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 06:46:44 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 06:46:44 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 204.242ms
[2025-03-06 06:46:44 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:46:44 INF] HTTP GET /api/course responded 200 in 222.1198 ms
[2025-03-06 06:46:44 DBG] 'LessonTreeContext' disposed.
[2025-03-06 06:46:44 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:46:44 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:46:44 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 256.5537ms
[2025-03-06 06:52:00 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 06:52:00 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:52:00 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 06:52:00 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 06:52:00 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:52:00 INF] CORS policy execution successful.
[2025-03-06 06:52:00 DBG] The request is a preflight request.
[2025-03-06 06:52:00 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 34.9159ms
[2025-03-06 06:52:00 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 06:52:00 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 06:52:00 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 06:52:00 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:52:00 INF] Middleware: Handling GET request to /api/course
[2025-03-06 06:52:00 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 06:52:00 INF] CORS policy execution successful.
[2025-03-06 06:52:00 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 06:52:00 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 06:52:00 DBG] Successfully validated the token.
[2025-03-06 06:52:00 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 06:52:00 DBG] Authorization was successful.
[2025-03-06 06:52:00 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 06:52:00 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:52:00 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 06:52:00 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 06:52:00 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 06:52:00 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 06:52:00 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 06:52:00 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 06:52:00 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:52:00 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 06:52:00 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 06:52:00 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 06:52:00 DBG] Creating DbConnection.
[2025-03-06 06:52:00 DBG] Created DbConnection. (0ms).
[2025-03-06 06:52:00 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:52:00 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:52:00 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 06:52:00 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 06:52:00 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 06:52:00 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:52:00 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 06:52:00 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:52:00 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 132ms reading results.
[2025-03-06 06:52:00 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 06:52:01 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:52:01 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 06:52:01 DBG] No information found on request to perform content negotiation.
[2025-03-06 06:52:01 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 06:52:01 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 06:52:01 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 06:52:01 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 06:52:01 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 186.2494ms
[2025-03-06 06:52:01 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 06:52:01 INF] HTTP GET /api/course responded 200 in 208.3147 ms
[2025-03-06 06:52:01 DBG] 'LessonTreeContext' disposed.
[2025-03-06 06:52:01 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 06:52:01 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 06:52:01 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 240.4189ms
[2025-03-06 06:59:42 DBG] Connection id "0HNASJSHO5KCL" received FIN.
[2025-03-06 06:59:42 DBG] Connection id "0HNASJSHO5KCL" is closed. The last processed stream ID was 11.
[2025-03-06 06:59:42 DBG] Connection id "0HNASJSHO5KCL" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 06:59:42 DBG] The connection queue processing loop for 0HNASJSHO5KCL completed.
[2025-03-06 06:59:42 DBG] Connection id "0HNASJSHO5KCL" stopped.
[2025-03-06 09:01:30 DBG] Connection id "0HNASJSHO5KCM" accepted.
[2025-03-06 09:01:30 DBG] Connection id "0HNASJSHO5KCM" started.
[2025-03-06 09:01:30 DBG] Connection 0HNASJSHO5KCM established using the following protocol: "Tls13"
[2025-03-06 09:01:30 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:01:30 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:01:30 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:01:30 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:01:30 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:01:30 INF] CORS policy execution successful.
[2025-03-06 09:01:30 DBG] The request is a preflight request.
[2025-03-06 09:01:30 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 37.3036ms
[2025-03-06 09:01:30 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:01:30 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:01:30 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:01:30 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:01:30 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:01:30 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:01:30 INF] CORS policy execution successful.
[2025-03-06 09:01:30 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:01:30 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:01:30 DBG] Successfully validated the token.
[2025-03-06 09:01:30 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:01:30 DBG] Authorization was successful.
[2025-03-06 09:01:30 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:01:30 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:01:30 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:01:30 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:01:30 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:01:30 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:01:30 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:01:30 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:01:30 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:01:30 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:01:30 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:01:30 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:01:30 DBG] Creating DbConnection.
[2025-03-06 09:01:30 DBG] Created DbConnection. (2ms).
[2025-03-06 09:01:30 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:01:30 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:01:30 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:01:30 DBG] Created DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:01:30 DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
[2025-03-06 09:01:30 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:01:30 INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:01:30 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:01:30 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 322ms reading results.
[2025-03-06 09:01:30 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:01:30 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 09:01:30 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:01:30 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:01:30 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:01:30 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:01:30 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:01:30 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:01:30 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 475.9859ms
[2025-03-06 09:01:30 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:01:30 INF] HTTP GET /api/course responded 200 in 527.3922 ms
[2025-03-06 09:01:30 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:01:30 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:01:30 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 09:01:30 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 596.0183ms
[2025-03-06 09:03:10 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:03:10 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:03:10 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:03:10 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:03:10 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:03:10 INF] CORS policy execution successful.
[2025-03-06 09:03:10 DBG] The request is a preflight request.
[2025-03-06 09:03:10 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 92.0875ms
[2025-03-06 09:03:10 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:03:10 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:03:10 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:03:10 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:03:10 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:03:10 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:03:10 INF] CORS policy execution successful.
[2025-03-06 09:03:10 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:03:10 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:03:10 DBG] Successfully validated the token.
[2025-03-06 09:03:10 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:03:10 DBG] Authorization was successful.
[2025-03-06 09:03:10 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:03:10 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:03:10 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:03:10 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:03:10 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:03:10 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:03:10 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:03:10 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:03:10 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:03:10 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:03:10 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:03:10 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:03:10 DBG] Creating DbConnection.
[2025-03-06 09:03:10 DBG] Created DbConnection. (1ms).
[2025-03-06 09:03:10 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:03:10 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:03:10 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:03:10 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:03:10 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:03:10 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:03:10 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:10 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:03:10 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 286ms reading results.
[2025-03-06 09:03:10 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:03:10 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:03:10 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:03:10 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:03:10 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:03:10 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:03:10 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:03:10 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:03:10 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 367.7576ms
[2025-03-06 09:03:10 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:03:10 INF] HTTP GET /api/course responded 200 in 409.5937 ms
[2025-03-06 09:03:10 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:03:10 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:03:10 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:03:10 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 478.7949ms
[2025-03-06 09:03:32 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:03:32 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:03:32 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:03:32 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:03:32 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:03:32 INF] CORS policy execution successful.
[2025-03-06 09:03:32 DBG] The request is a preflight request.
[2025-03-06 09:03:32 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 27.4368ms
[2025-03-06 09:03:32 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:03:32 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:03:32 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:03:32 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:03:32 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:03:32 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:03:32 INF] CORS policy execution successful.
[2025-03-06 09:03:32 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:03:32 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:03:32 DBG] Successfully validated the token.
[2025-03-06 09:03:32 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:03:32 DBG] Authorization was successful.
[2025-03-06 09:03:32 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:03:32 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:03:32 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:03:32 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:03:32 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:03:32 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:03:32 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:03:32 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:03:32 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:03:32 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:03:32 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:03:32 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:03:32 DBG] Creating DbConnection.
[2025-03-06 09:03:32 DBG] Created DbConnection. (2ms).
[2025-03-06 09:03:32 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:03:32 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:03:32 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:03:32 DBG] Created DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 09:03:32 DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
[2025-03-06 09:03:32 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:03:32 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:32 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:03:32 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 388ms reading results.
[2025-03-06 09:03:32 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:03:32 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 09:03:32 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:03:32 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:03:32 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:03:33 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:03:33 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:03:33 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:03:33 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 522.5489ms
[2025-03-06 09:03:33 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:03:33 INF] HTTP GET /api/course responded 200 in 569.5969 ms
[2025-03-06 09:03:33 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:03:33 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:03:33 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 09:03:33 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 646.4888ms
[2025-03-06 09:03:57 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:03:57 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:03:57 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:03:57 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:03:57 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:03:57 INF] CORS policy execution successful.
[2025-03-06 09:03:57 DBG] The request is a preflight request.
[2025-03-06 09:03:57 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 32.9207ms
[2025-03-06 09:03:57 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:03:57 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:03:57 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:03:57 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:03:57 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:03:57 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:03:57 INF] CORS policy execution successful.
[2025-03-06 09:03:57 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:03:57 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:03:58 DBG] Successfully validated the token.
[2025-03-06 09:03:58 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:03:58 DBG] Authorization was successful.
[2025-03-06 09:03:58 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:03:58 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:03:58 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:03:58 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:03:58 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:03:58 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:03:58 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:03:58 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:03:58 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:03:58 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:03:58 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:03:58 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:03:58 DBG] Creating DbConnection.
[2025-03-06 09:03:58 DBG] Created DbConnection. (2ms).
[2025-03-06 09:03:58 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:03:58 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:03:58 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:03:58 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:03:58 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:03:58 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:03:58 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:03:58 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:03:58 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 274ms reading results.
[2025-03-06 09:03:58 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:03:58 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:03:58 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:03:58 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:03:58 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:03:58 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:03:58 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:03:58 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:03:58 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 366.6133ms
[2025-03-06 09:03:58 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:03:58 INF] HTTP GET /api/course responded 200 in 394.8556 ms
[2025-03-06 09:03:58 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:03:58 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:03:58 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:03:58 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 453.2724ms
[2025-03-06 09:04:15 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:04:15 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:04:15 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:04:15 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:04:15 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:04:15 INF] CORS policy execution successful.
[2025-03-06 09:04:15 DBG] The request is a preflight request.
[2025-03-06 09:04:15 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 20.9368ms
[2025-03-06 09:04:15 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:04:15 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:04:15 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:04:15 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:04:15 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:04:15 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:04:15 INF] CORS policy execution successful.
[2025-03-06 09:04:15 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:04:15 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:04:15 DBG] Successfully validated the token.
[2025-03-06 09:04:15 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:04:15 DBG] Authorization was successful.
[2025-03-06 09:04:15 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:04:15 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:04:15 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:04:15 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:04:15 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:04:15 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:04:15 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:04:15 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:04:15 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:04:15 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:04:15 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:04:15 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:04:15 DBG] Creating DbConnection.
[2025-03-06 09:04:15 DBG] Created DbConnection. (3ms).
[2025-03-06 09:04:15 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:04:15 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:04:15 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:04:15 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:04:15 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:04:15 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:04:15 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:04:16 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:04:16 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 271ms reading results.
[2025-03-06 09:04:16 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:04:16 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:04:16 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:04:16 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:04:16 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:04:16 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:04:16 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:04:16 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:04:16 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 349.2314ms
[2025-03-06 09:04:16 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:04:16 INF] HTTP GET /api/course responded 200 in 384.5330 ms
[2025-03-06 09:04:16 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:04:16 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:04:16 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:04:16 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 452.0224ms
[2025-03-06 09:18:02 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:18:02 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:18:02 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:18:02 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:18:02 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:18:02 INF] CORS policy execution successful.
[2025-03-06 09:18:02 DBG] The request is a preflight request.
[2025-03-06 09:18:02 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 67.3058ms
[2025-03-06 09:18:02 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:18:02 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:18:02 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:18:02 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:18:02 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:18:02 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:18:02 INF] CORS policy execution successful.
[2025-03-06 09:18:02 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:18:02 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:18:02 DBG] Successfully validated the token.
[2025-03-06 09:18:02 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:18:02 DBG] Authorization was successful.
[2025-03-06 09:18:02 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:18:02 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:18:02 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:18:02 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:18:02 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:18:02 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:18:02 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:18:02 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:18:02 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:18:02 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:18:02 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:18:02 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:18:02 DBG] Creating DbConnection.
[2025-03-06 09:18:02 DBG] Created DbConnection. (3ms).
[2025-03-06 09:18:02 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:18:02 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:18:02 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:18:02 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:18:02 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 09:18:02 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:18:02 INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:18:03 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:18:03 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 309ms reading results.
[2025-03-06 09:18:03 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:18:03 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:18:03 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:18:03 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:18:03 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:18:03 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:18:03 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:18:03 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:18:03 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 410.5444ms
[2025-03-06 09:18:03 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:18:03 INF] HTTP GET /api/course responded 200 in 455.1963 ms
[2025-03-06 09:18:03 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:18:03 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:18:03 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:18:03 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 519.833ms
[2025-03-06 09:28:13 DBG] Connection id "0HNASJSHO5KCM" received FIN.
[2025-03-06 09:28:13 DBG] Connection id "0HNASJSHO5KCM" is closed. The last processed stream ID was 23.
[2025-03-06 09:28:13 DBG] The connection queue processing loop for 0HNASJSHO5KCM completed.
[2025-03-06 09:28:13 DBG] Connection id "0HNASJSHO5KCM" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:28:13 DBG] Connection id "0HNASJSHO5KCM" stopped.
[2025-03-06 09:30:58 DBG] Connection id "0HNASJSHO5KCN" accepted.
[2025-03-06 09:30:58 DBG] Connection id "0HNASJSHO5KCN" started.
[2025-03-06 09:30:58 DBG] Connection 0HNASJSHO5KCN established using the following protocol: "Tls13"
[2025-03-06 09:30:59 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:30:59 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:30:59 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:30:59 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:30:59 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:30:59 INF] CORS policy execution successful.
[2025-03-06 09:30:59 DBG] The request is a preflight request.
[2025-03-06 09:30:59 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 58.1668ms
[2025-03-06 09:30:59 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:30:59 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:30:59 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:30:59 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:30:59 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:30:59 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:30:59 INF] CORS policy execution successful.
[2025-03-06 09:30:59 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:30:59 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:30:59 DBG] Successfully validated the token.
[2025-03-06 09:30:59 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:30:59 DBG] Authorization was successful.
[2025-03-06 09:30:59 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:30:59 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:30:59 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:30:59 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:30:59 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:30:59 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:30:59 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:30:59 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:30:59 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:30:59 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:30:59 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:30:59 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:30:59 DBG] Creating DbConnection.
[2025-03-06 09:30:59 DBG] Created DbConnection. (2ms).
[2025-03-06 09:30:59 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:30:59 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:30:59 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:30:59 DBG] Created DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:30:59 DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
[2025-03-06 09:30:59 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:30:59 INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:30:59 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:30:59 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 405ms reading results.
[2025-03-06 09:30:59 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:30:59 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (5ms).
[2025-03-06 09:30:59 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:30:59 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:30:59 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:30:59 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:30:59 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:30:59 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:30:59 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 586.3193ms
[2025-03-06 09:30:59 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:30:59 INF] HTTP GET /api/course responded 200 in 685.6234 ms
[2025-03-06 09:30:59 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:30:59 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:30:59 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:30:59 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 849.2973ms
[2025-03-06 09:31:05 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:31:05 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:31:05 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:31:05 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:31:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:31:05 INF] CORS policy execution successful.
[2025-03-06 09:31:05 DBG] The request is a preflight request.
[2025-03-06 09:31:05 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 24.1521ms
[2025-03-06 09:31:05 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:31:05 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:31:05 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:31:05 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:31:05 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:31:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:31:06 INF] CORS policy execution successful.
[2025-03-06 09:31:06 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:31:06 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:31:06 DBG] Successfully validated the token.
[2025-03-06 09:31:06 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:31:06 DBG] Authorization was successful.
[2025-03-06 09:31:06 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:31:06 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:31:06 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:31:06 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:31:06 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:31:06 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:31:06 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:31:06 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:31:06 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:31:06 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:31:06 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:31:06 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:31:06 DBG] Creating DbConnection.
[2025-03-06 09:31:06 DBG] Created DbConnection. (1ms).
[2025-03-06 09:31:06 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:31:06 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:31:06 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:31:06 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:31:06 DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
[2025-03-06 09:31:06 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:31:06 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:31:06 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:31:06 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 365ms reading results.
[2025-03-06 09:31:06 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:31:06 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:31:06 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:31:06 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:31:06 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:31:06 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:31:06 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:31:06 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:31:06 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 522.8504ms
[2025-03-06 09:31:06 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:31:06 INF] HTTP GET /api/course responded 200 in 567.2709 ms
[2025-03-06 09:31:06 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:31:06 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:31:06 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 09:31:06 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 642.4511ms
[2025-03-06 09:51:50 INF] Starting application with logs directory: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\logs
[2025-03-06 09:51:50 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[2025-03-06 09:51:50 WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
[2025-03-06 09:51:50 INF] User profile is available. Using 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-03-06 09:51:50 INF] Applying migrations to LessonTree.db...
[2025-03-06 09:51:50 DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2025-03-06 09:51:50 DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
[2025-03-06 09:51:50 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:51:50 DBG] Creating DbConnection.
[2025-03-06 09:51:50 DBG] Created DbConnection. (12ms).
[2025-03-06 09:51:50 DBG] Migrating using database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Creating DbConnection.
[2025-03-06 09:51:50 DBG] Created DbConnection. (1ms).
[2025-03-06 09:51:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:51:50 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 09:51:50 DBG] Created DbCommand for 'ExecuteScalar' (4ms).
[2025-03-06 09:51:50 DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
[2025-03-06 09:51:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:51:50 INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:51:50 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (6ms).
[2025-03-06 09:51:50 DBG] Creating DbConnection.
[2025-03-06 09:51:50 DBG] Created DbConnection. (1ms).
[2025-03-06 09:51:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:51:50 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 09:51:50 DBG] Created DbCommand for 'ExecuteScalar' (1ms).
[2025-03-06 09:51:50 DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
[2025-03-06 09:51:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:51:50 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:51:50 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:51:50 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:51:50 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:51:50 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:51:50 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 09:51:50 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 09:51:50 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 09:51:50 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:50 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:51:50 INF] No migrations were applied. The database is already up to date.
[2025-03-06 09:51:51 DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
[2025-03-06 09:51:51 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 09:51:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:51:51 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:51:51 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 09:51:51 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:51:51 INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:51:51 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:51:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 50ms reading results.
[2025-03-06 09:51:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 09:51:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:51:51 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:51:51 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:51:51 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:51:51 INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:51:51 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:51:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 09:51:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:51:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:51:51 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:51:51 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:51:51 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:51:51 INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:51:51 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:51:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 09:51:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 09:51:51 DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
[2025-03-06 09:51:51 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TwoFactorEnabled (bool) Required, 13], [Property: User.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 09:51:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:51:51 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:51:51 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:51:51 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 09:51:51 INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 09:51:51 DBG] Context 'LessonTreeContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:51:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 35ms reading results.
[2025-03-06 09:51:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:51:51 DBG] Compiling query expression: 
'DbSet<Course>()
    .Any()'
[2025-03-06 09:51:51 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Courses AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .Single()'
[2025-03-06 09:51:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:51:51 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:51:51 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:51:51 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 09:51:51 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 09:51:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 09:51:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:51:51 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:51:51 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:51:51 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 09:51:51 DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
[2025-03-06 09:51:51 DBG] Hosting starting
[2025-03-06 09:51:51 DBG] Reading data from file 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys\key-289f7250-d4bf-48f6-ba65-112fa6af0fd7.xml'.
[2025-03-06 09:51:51 DBG] Found key {289f7250-d4bf-48f6-ba65-112fa6af0fd7}.
[2025-03-06 09:51:51 DBG] Considering key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} with expiration date 2025-05-07 18:34:01Z as default key.
[2025-03-06 09:51:51 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 09:51:51 DBG] Decrypting secret element using Windows DPAPI.
[2025-03-06 09:51:51 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 09:51:51 DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
[2025-03-06 09:51:51 DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
[2025-03-06 09:51:51 DBG] Using key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} as the default key.
[2025-03-06 09:51:51 DBG] Key ring with default key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} was loaded during application startup.
[2025-03-06 09:51:51 INF] Now listening on: https://localhost:7238
[2025-03-06 09:51:51 INF] Now listening on: http://localhost:5046
[2025-03-06 09:51:51 DBG] Loaded hosting startup assembly LessonTree.API
[2025-03-06 09:51:51 DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
[2025-03-06 09:51:51 DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
[2025-03-06 09:51:51 DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
[2025-03-06 09:51:51 DBG] Connection id "0HNASNPN2ADUC" received FIN.
[2025-03-06 09:51:51 DBG] Connection id "0HNASNPN2ADUC" accepted.
[2025-03-06 09:51:51 DBG] Connection id "0HNASNPN2ADUC" started.
[2025-03-06 09:51:51 INF] Application started. Press Ctrl+C to shut down.
[2025-03-06 09:51:51 INF] Hosting environment: Development
[2025-03-06 09:51:51 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 09:51:51 INF] Content root path: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api
[2025-03-06 09:51:51 DBG] Hosting started
[2025-03-06 09:51:51 DBG] Connection id "0HNASNPN2ADUC" stopped.
[2025-03-06 09:51:51 DBG] Connection id "0HNASNPN2ADUC" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:51:52 DBG] Connection id "0HNASNPN2ADUD" accepted.
[2025-03-06 09:51:52 DBG] Connection id "0HNASNPN2ADUD" started.
[2025-03-06 09:51:52 DBG] Connection id "0HNASNPN2ADUE" accepted.
[2025-03-06 09:51:52 DBG] Connection id "0HNASNPN2ADUE" started.
[2025-03-06 09:51:52 DBG] Connection id "0HNASNPN2ADUE" received FIN.
[2025-03-06 09:51:52 DBG] Connection 0HNASNPN2ADUD established using the following protocol: "Tls13"
[2025-03-06 09:51:52 DBG] Connection 0HNASNPN2ADUE established using the following protocol: "Tls13"
[2025-03-06 09:51:52 DBG] Connection id "0HNASNPN2ADUE" is closed. The last processed stream ID was 0.
[2025-03-06 09:51:52 DBG] Connection id "0HNASNPN2ADUE" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:51:52 DBG] The connection queue processing loop for 0HNASNPN2ADUE completed.
[2025-03-06 09:51:52 DBG] Connection id "0HNASNPN2ADUE" stopped.
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger - null null
[2025-03-06 09:51:52 DBG] Wildcard detected, all requests with hosts will be allowed.
[2025-03-06 09:51:52 DBG] No candidates found for the request path '/swagger'
[2025-03-06 09:51:52 DBG] Request did not match any endpoints
[2025-03-06 09:51:52 INF] Middleware: Handling GET request to /swagger
[2025-03-06 09:51:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:51:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger - 301 0 null 181.1361ms
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.html - null null
[2025-03-06 09:51:52 DBG] No candidates found for the request path '/swagger/index.html'
[2025-03-06 09:51:52 DBG] Request did not match any endpoints
[2025-03-06 09:51:52 INF] Middleware: Handling GET request to /swagger/index.html
[2025-03-06 09:51:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:51:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:51:52 DBG] Response markup is scheduled to include Browser Link script injection.
[2025-03-06 09:51:52 DBG] Response markup is scheduled to include browser refresh script injection.
[2025-03-06 09:51:52 DBG] Response markup was updated to include Browser Link script injection.
[2025-03-06 09:51:52 DBG] Response markup was updated to include browser refresh script injection.
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.html - 200 null text/html;charset=utf-8 84.1008ms
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/swagger-ui.css - null null
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.css - null null
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/swagger-ui-bundle.js - null null
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.js - null null
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/swagger-ui-standalone-preset.js - null null
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - null null
[2025-03-06 09:51:52 DBG] No candidates found for the request path '/swagger/swagger-ui.css'
[2025-03-06 09:51:52 DBG] No candidates found for the request path '/swagger/index.css'
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/_vs/browserLink - null null
[2025-03-06 09:51:52 DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
[2025-03-06 09:51:52 DBG] No candidates found for the request path '/swagger/index.js'
[2025-03-06 09:51:52 DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
[2025-03-06 09:51:52 DBG] Request did not match any endpoints
[2025-03-06 09:51:52 DBG] Request did not match any endpoints
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 34.0578ms
[2025-03-06 09:51:52 DBG] Request did not match any endpoints
[2025-03-06 09:51:52 DBG] Request did not match any endpoints
[2025-03-06 09:51:52 DBG] Request did not match any endpoints
[2025-03-06 09:51:52 INF] Middleware: Handling GET request to /swagger/swagger-ui.css
[2025-03-06 09:51:52 INF] Middleware: Handling GET request to /swagger/index.css
[2025-03-06 09:51:52 INF] Middleware: Handling GET request to /swagger/swagger-ui-bundle.js
[2025-03-06 09:51:52 INF] Middleware: Handling GET request to /swagger/index.js
[2025-03-06 09:51:52 INF] Middleware: Handling GET request to /swagger/swagger-ui-standalone-preset.js
[2025-03-06 09:51:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:51:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:51:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.4445ms
[2025-03-06 09:51:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:51:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:51:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:51:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:51:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:51:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:51:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.js - 200 null application/javascript;charset=utf-8 104.4129ms
[2025-03-06 09:51:52 INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
[2025-03-06 09:51:52 INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.css - 200 202 text/css 118.618ms
[2025-03-06 09:51:52 INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/swagger-ui.css - 200 154948 text/css 125.9355ms
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 133.7839ms
[2025-03-06 09:51:52 INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 151.0175ms
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/favicon-32x32.png - null null
[2025-03-06 09:51:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - null null
[2025-03-06 09:51:52 DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
[2025-03-06 09:51:52 DBG] No candidates found for the request path '/swagger/v1/swagger.json'
[2025-03-06 09:51:52 DBG] Request did not match any endpoints
[2025-03-06 09:51:52 DBG] Request did not match any endpoints
[2025-03-06 09:51:52 INF] Middleware: Handling GET request to /swagger/favicon-32x32.png
[2025-03-06 09:51:52 INF] Middleware: Handling GET request to /swagger/v1/swagger.json
[2025-03-06 09:51:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:51:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:51:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:51:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:51:52 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2025-03-06 09:51:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/favicon-32x32.png - 200 628 image/png 38.882ms
[2025-03-06 09:51:53 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.7498ms
[2025-03-06 09:52:14 INF] Starting application with logs directory: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\logs
[2025-03-06 09:52:14 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[2025-03-06 09:52:14 WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
[2025-03-06 09:52:14 INF] User profile is available. Using 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-03-06 09:52:14 INF] Applying migrations to LessonTree.db...
[2025-03-06 09:52:15 DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2025-03-06 09:52:15 DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
[2025-03-06 09:52:15 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:52:15 DBG] Creating DbConnection.
[2025-03-06 09:52:15 DBG] Created DbConnection. (10ms).
[2025-03-06 09:52:15 DBG] Migrating using database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Creating DbConnection.
[2025-03-06 09:52:15 DBG] Created DbConnection. (2ms).
[2025-03-06 09:52:15 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:15 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 09:52:15 DBG] Created DbCommand for 'ExecuteScalar' (3ms).
[2025-03-06 09:52:15 DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
[2025-03-06 09:52:15 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:52:15 INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:52:15 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (7ms).
[2025-03-06 09:52:15 DBG] Creating DbConnection.
[2025-03-06 09:52:15 DBG] Created DbConnection. (1ms).
[2025-03-06 09:52:15 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:52:15 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 09:52:15 DBG] Created DbCommand for 'ExecuteScalar' (1ms).
[2025-03-06 09:52:15 DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
[2025-03-06 09:52:15 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:52:15 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:52:15 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:52:15 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:15 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:52:15 DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
[2025-03-06 09:52:15 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 09:52:15 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 09:52:15 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 09:52:15 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:15 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:15 INF] No migrations were applied. The database is already up to date.
[2025-03-06 09:52:15 DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
[2025-03-06 09:52:15 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 09:52:16 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:16 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:52:16 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 09:52:16 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:16 INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:16 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:52:16 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 58ms reading results.
[2025-03-06 09:52:16 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (6ms).
[2025-03-06 09:52:16 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:16 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:52:16 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 09:52:16 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:16 INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:16 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:52:16 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 9ms reading results.
[2025-03-06 09:52:16 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:52:16 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:16 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:52:16 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:52:16 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:16 INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:16 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:52:16 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 6ms reading results.
[2025-03-06 09:52:16 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:16 DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
[2025-03-06 09:52:16 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TwoFactorEnabled (bool) Required, 13], [Property: User.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 09:52:16 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:16 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:52:16 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:52:16 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 09:52:16 INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 09:52:16 DBG] Context 'LessonTreeContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:52:16 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 53ms reading results.
[2025-03-06 09:52:16 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:16 DBG] Compiling query expression: 
'DbSet<Course>()
    .Any()'
[2025-03-06 09:52:16 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Courses AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .Single()'
[2025-03-06 09:52:16 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:16 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:52:16 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:52:16 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 09:52:16 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 09:52:16 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 09:52:16 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:16 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:52:16 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:16 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 09:52:16 DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
[2025-03-06 09:52:16 DBG] Hosting starting
[2025-03-06 09:52:16 DBG] Reading data from file 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys\key-289f7250-d4bf-48f6-ba65-112fa6af0fd7.xml'.
[2025-03-06 09:52:16 DBG] Found key {289f7250-d4bf-48f6-ba65-112fa6af0fd7}.
[2025-03-06 09:52:16 DBG] Considering key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} with expiration date 2025-05-07 18:34:01Z as default key.
[2025-03-06 09:52:16 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 09:52:16 DBG] Decrypting secret element using Windows DPAPI.
[2025-03-06 09:52:16 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 09:52:16 DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
[2025-03-06 09:52:16 DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
[2025-03-06 09:52:16 DBG] Using key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} as the default key.
[2025-03-06 09:52:16 DBG] Key ring with default key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} was loaded during application startup.
[2025-03-06 09:52:16 INF] Now listening on: https://localhost:7238
[2025-03-06 09:52:16 INF] Now listening on: http://localhost:5046
[2025-03-06 09:52:16 DBG] Loaded hosting startup assembly LessonTree.API
[2025-03-06 09:52:16 DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
[2025-03-06 09:52:16 DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
[2025-03-06 09:52:16 DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
[2025-03-06 09:52:16 DBG] Connection id "0HNASNPUI4NRC" accepted.
[2025-03-06 09:52:16 DBG] Connection id "0HNASNPUI4NRC" started.
[2025-03-06 09:52:16 DBG] Connection id "0HNASNPUI4NRC" received FIN.
[2025-03-06 09:52:16 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 09:52:17 INF] Application started. Press Ctrl+C to shut down.
[2025-03-06 09:52:17 INF] Hosting environment: Development
[2025-03-06 09:52:17 INF] Content root path: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api
[2025-03-06 09:52:17 DBG] Connection id "0HNASNPUI4NRC" stopped.
[2025-03-06 09:52:17 DBG] Hosting started
[2025-03-06 09:52:17 DBG] Connection id "0HNASNPUI4NRC" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:52:17 DBG] Connection id "0HNASNPUI4NRD" accepted.
[2025-03-06 09:52:17 DBG] Connection id "0HNASNPUI4NRD" started.
[2025-03-06 09:52:17 DBG] Connection 0HNASNPUI4NRD established using the following protocol: "Tls13"
[2025-03-06 09:52:17 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.html - null null
[2025-03-06 09:52:17 DBG] Wildcard detected, all requests with hosts will be allowed.
[2025-03-06 09:52:17 DBG] No candidates found for the request path '/swagger/index.html'
[2025-03-06 09:52:17 DBG] Request did not match any endpoints
[2025-03-06 09:52:17 INF] Middleware: Handling GET request to /swagger/index.html
[2025-03-06 09:52:17 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:52:17 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:52:17 DBG] Response markup is scheduled to include Browser Link script injection.
[2025-03-06 09:52:17 DBG] Response markup is scheduled to include browser refresh script injection.
[2025-03-06 09:52:17 DBG] Response markup was updated to include Browser Link script injection.
[2025-03-06 09:52:17 DBG] Response markup was updated to include browser refresh script injection.
[2025-03-06 09:52:17 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.html - 200 null text/html;charset=utf-8 348.5217ms
[2025-03-06 09:52:17 INF] Request starting HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - null null
[2025-03-06 09:52:17 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.js - null null
[2025-03-06 09:52:17 DBG] No candidates found for the request path '/swagger/index.js'
[2025-03-06 09:52:17 DBG] Request did not match any endpoints
[2025-03-06 09:52:17 INF] Middleware: Handling GET request to /swagger/index.js
[2025-03-06 09:52:17 INF] Request starting HTTP/2 GET https://localhost:7238/_vs/browserLink - null null
[2025-03-06 09:52:17 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:52:17 INF] Request finished HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 44.7549ms
[2025-03-06 09:52:17 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:52:17 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.js - 200 null application/javascript;charset=utf-8 76.2886ms
[2025-03-06 09:52:17 INF] Request finished HTTP/2 GET https://localhost:7238/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.7694ms
[2025-03-06 09:52:18 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - null null
[2025-03-06 09:52:18 DBG] No candidates found for the request path '/swagger/v1/swagger.json'
[2025-03-06 09:52:18 DBG] Request did not match any endpoints
[2025-03-06 09:52:18 INF] Middleware: Handling GET request to /swagger/v1/swagger.json
[2025-03-06 09:52:18 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:52:18 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:52:18 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 294.0536ms
[2025-03-06 09:52:54 INF] Starting application with logs directory: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\logs
[2025-03-06 09:52:55 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[2025-03-06 09:52:55 WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
[2025-03-06 09:52:55 INF] User profile is available. Using 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-03-06 09:52:55 INF] Applying migrations to LessonTree.db...
[2025-03-06 09:52:55 DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2025-03-06 09:52:55 DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
[2025-03-06 09:52:56 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:52:56 DBG] Creating DbConnection.
[2025-03-06 09:52:56 DBG] Created DbConnection. (8ms).
[2025-03-06 09:52:56 DBG] Migrating using database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Creating DbConnection.
[2025-03-06 09:52:56 DBG] Created DbConnection. (2ms).
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:52:56 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 09:52:56 DBG] Created DbCommand for 'ExecuteScalar' (4ms).
[2025-03-06 09:52:56 DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:52:56 INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:52:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (6ms).
[2025-03-06 09:52:56 DBG] Creating DbConnection.
[2025-03-06 09:52:56 DBG] Created DbConnection. (2ms).
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:52:56 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 09:52:56 DBG] Created DbCommand for 'ExecuteScalar' (2ms).
[2025-03-06 09:52:56 DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:52:56 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:52:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:56 DBG] Created DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:52:56 DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
[2025-03-06 09:52:56 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 09:52:56 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 09:52:56 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 09:52:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:56 INF] No migrations were applied. The database is already up to date.
[2025-03-06 09:52:56 DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
[2025-03-06 09:52:56 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:56 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:52:56 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 09:52:56 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:56 INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:56 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:52:56 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 56ms reading results.
[2025-03-06 09:52:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:56 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:52:56 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:52:56 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:56 INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:56 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:52:56 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 09:52:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:56 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:52:56 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 09:52:56 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:56 INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:52:56 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:52:56 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 6ms reading results.
[2025-03-06 09:52:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:56 DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
[2025-03-06 09:52:56 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TwoFactorEnabled (bool) Required, 13], [Property: User.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:56 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:52:56 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:52:56 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 09:52:56 INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 09:52:56 DBG] Context 'LessonTreeContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:52:56 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 41ms reading results.
[2025-03-06 09:52:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:52:56 DBG] Compiling query expression: 
'DbSet<Course>()
    .Any()'
[2025-03-06 09:52:56 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Courses AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .Single()'
[2025-03-06 09:52:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:52:56 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:52:56 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:52:56 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 09:52:56 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 09:52:56 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 09:52:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:56 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:52:56 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:52:56 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:52:57 DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
[2025-03-06 09:52:57 DBG] Hosting starting
[2025-03-06 09:52:57 DBG] Reading data from file 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys\key-289f7250-d4bf-48f6-ba65-112fa6af0fd7.xml'.
[2025-03-06 09:52:57 DBG] Found key {289f7250-d4bf-48f6-ba65-112fa6af0fd7}.
[2025-03-06 09:52:57 DBG] Considering key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} with expiration date 2025-05-07 18:34:01Z as default key.
[2025-03-06 09:52:57 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 09:52:57 DBG] Decrypting secret element using Windows DPAPI.
[2025-03-06 09:52:57 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 09:52:57 DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
[2025-03-06 09:52:57 DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
[2025-03-06 09:52:57 DBG] Using key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} as the default key.
[2025-03-06 09:52:57 DBG] Key ring with default key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} was loaded during application startup.
[2025-03-06 09:52:57 INF] Now listening on: https://localhost:7238
[2025-03-06 09:52:57 INF] Now listening on: http://localhost:5046
[2025-03-06 09:52:57 DBG] Loaded hosting startup assembly LessonTree.API
[2025-03-06 09:52:57 DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
[2025-03-06 09:52:57 DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
[2025-03-06 09:52:57 DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
[2025-03-06 09:52:57 INF] Application started. Press Ctrl+C to shut down.
[2025-03-06 09:52:57 INF] Hosting environment: Development
[2025-03-06 09:52:57 INF] Content root path: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api
[2025-03-06 09:52:57 DBG] Hosting started
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMI" accepted.
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMI" started.
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMJ" accepted.
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMJ" started.
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMI" received FIN.
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMJ" received FIN.
[2025-03-06 09:52:57 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 09:52:57 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMI" stopped.
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMJ" stopped.
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMI" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:52:57 DBG] Connection id "0HNASNQANFHMJ" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:52:58 DBG] Connection id "0HNASNQANFHMK" accepted.
[2025-03-06 09:52:58 DBG] Connection id "0HNASNQANFHMK" started.
[2025-03-06 09:52:58 DBG] Connection 0HNASNQANFHMK established using the following protocol: "Tls13"
[2025-03-06 09:52:58 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.html - null null
[2025-03-06 09:52:58 DBG] Wildcard detected, all requests with hosts will be allowed.
[2025-03-06 09:52:58 DBG] No candidates found for the request path '/swagger/index.html'
[2025-03-06 09:52:58 DBG] Request did not match any endpoints
[2025-03-06 09:52:58 INF] Middleware: Handling GET request to /swagger/index.html
[2025-03-06 09:52:58 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:52:58 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:52:58 DBG] Response markup is scheduled to include Browser Link script injection.
[2025-03-06 09:52:58 DBG] Response markup is scheduled to include browser refresh script injection.
[2025-03-06 09:52:58 DBG] Response markup was updated to include Browser Link script injection.
[2025-03-06 09:52:58 DBG] Response markup was updated to include browser refresh script injection.
[2025-03-06 09:52:58 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.html - 200 null text/html;charset=utf-8 338.0933ms
[2025-03-06 09:52:58 INF] Request starting HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - null null
[2025-03-06 09:52:58 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.js - null null
[2025-03-06 09:52:58 DBG] No candidates found for the request path '/swagger/index.js'
[2025-03-06 09:52:58 DBG] Request did not match any endpoints
[2025-03-06 09:52:58 INF] Middleware: Handling GET request to /swagger/index.js
[2025-03-06 09:52:58 INF] Request finished HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 21.6195ms
[2025-03-06 09:52:58 INF] Request starting HTTP/2 GET https://localhost:7238/_vs/browserLink - null null
[2025-03-06 09:52:58 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:52:58 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:52:58 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.js - 200 null application/javascript;charset=utf-8 49.5734ms
[2025-03-06 09:52:58 INF] Request finished HTTP/2 GET https://localhost:7238/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.0068ms
[2025-03-06 09:52:58 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - null null
[2025-03-06 09:52:58 DBG] No candidates found for the request path '/swagger/v1/swagger.json'
[2025-03-06 09:52:58 DBG] Request did not match any endpoints
[2025-03-06 09:52:58 INF] Middleware: Handling GET request to /swagger/v1/swagger.json
[2025-03-06 09:52:58 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:52:58 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:52:58 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 152.8954ms
[2025-03-06 09:54:54 INF] Starting application with logs directory: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\logs
[2025-03-06 09:54:54 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[2025-03-06 09:54:54 WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
[2025-03-06 09:54:54 INF] User profile is available. Using 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-03-06 09:54:54 INF] Applying migrations to LessonTree.db...
[2025-03-06 09:54:54 DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2025-03-06 09:54:54 DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
[2025-03-06 09:54:55 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:54:55 DBG] Creating DbConnection.
[2025-03-06 09:54:55 DBG] Created DbConnection. (10ms).
[2025-03-06 09:54:55 DBG] Migrating using database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Creating DbConnection.
[2025-03-06 09:54:55 DBG] Created DbConnection. (3ms).
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:54:55 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 09:54:55 DBG] Created DbCommand for 'ExecuteScalar' (3ms).
[2025-03-06 09:54:55 DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:54:55 INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:54:55 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 09:54:55 DBG] Creating DbConnection.
[2025-03-06 09:54:55 DBG] Created DbConnection. (2ms).
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:54:55 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 09:54:55 DBG] Created DbCommand for 'ExecuteScalar' (1ms).
[2025-03-06 09:54:55 DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:54:55 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 09:54:55 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:54:55 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:54:55 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:54:55 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 09:54:55 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 09:54:55 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 09:54:55 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:54:55 INF] No migrations were applied. The database is already up to date.
[2025-03-06 09:54:55 DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
[2025-03-06 09:54:55 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:54:55 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:54:55 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 09:54:55 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:54:55 INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:54:55 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:54:55 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 56ms reading results.
[2025-03-06 09:54:55 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:54:55 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:54:55 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:54:55 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:54:55 INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:54:55 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:54:55 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 09:54:55 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:54:55 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:54:55 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:54:55 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:54:55 INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 09:54:55 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:54:55 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 09:54:55 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:54:55 DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
[2025-03-06 09:54:55 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TwoFactorEnabled (bool) Required, 13], [Property: User.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:54:55 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:54:55 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:54:55 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 09:54:55 INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 09:54:55 DBG] Context 'LessonTreeContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:54:55 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 34ms reading results.
[2025-03-06 09:54:55 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:54:55 DBG] Compiling query expression: 
'DbSet<Course>()
    .Any()'
[2025-03-06 09:54:55 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Courses AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .Single()'
[2025-03-06 09:54:55 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:55 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:54:55 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:54:55 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 09:54:56 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 09:54:56 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 09:54:56 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:56 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 09:54:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:54:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:54:56 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:54:56 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:54:56 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 09:54:56 DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
[2025-03-06 09:54:56 DBG] Hosting starting
[2025-03-06 09:54:56 DBG] Reading data from file 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys\key-289f7250-d4bf-48f6-ba65-112fa6af0fd7.xml'.
[2025-03-06 09:54:56 DBG] Found key {289f7250-d4bf-48f6-ba65-112fa6af0fd7}.
[2025-03-06 09:54:56 DBG] Considering key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} with expiration date 2025-05-07 18:34:01Z as default key.
[2025-03-06 09:54:56 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 09:54:56 DBG] Decrypting secret element using Windows DPAPI.
[2025-03-06 09:54:56 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 09:54:56 DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
[2025-03-06 09:54:56 DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
[2025-03-06 09:54:56 DBG] Using key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} as the default key.
[2025-03-06 09:54:56 DBG] Key ring with default key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} was loaded during application startup.
[2025-03-06 09:54:56 INF] Now listening on: https://localhost:7238
[2025-03-06 09:54:56 INF] Now listening on: http://localhost:5046
[2025-03-06 09:54:56 DBG] Loaded hosting startup assembly LessonTree.API
[2025-03-06 09:54:56 DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
[2025-03-06 09:54:56 DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
[2025-03-06 09:54:56 DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
[2025-03-06 09:54:56 INF] Application started. Press Ctrl+C to shut down.
[2025-03-06 09:54:56 INF] Hosting environment: Development
[2025-03-06 09:54:56 INF] Content root path: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api
[2025-03-06 09:54:56 DBG] Hosting started
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR5" accepted.
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR6" accepted.
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR5" started.
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR6" started.
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR5" received FIN.
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR6" received FIN.
[2025-03-06 09:54:56 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 09:54:56 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR6" stopped.
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR5" stopped.
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR6" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:54:56 DBG] Connection id "0HNASNRE7DUR5" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:54:57 DBG] Connection id "0HNASNRE7DUR7" accepted.
[2025-03-06 09:54:57 DBG] Connection id "0HNASNRE7DUR7" started.
[2025-03-06 09:54:57 DBG] Connection 0HNASNRE7DUR7 established using the following protocol: "Tls13"
[2025-03-06 09:54:57 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.html - null null
[2025-03-06 09:54:57 DBG] Wildcard detected, all requests with hosts will be allowed.
[2025-03-06 09:54:57 DBG] No candidates found for the request path '/swagger/index.html'
[2025-03-06 09:54:57 DBG] Request did not match any endpoints
[2025-03-06 09:54:57 INF] Middleware: Handling GET request to /swagger/index.html
[2025-03-06 09:54:57 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:54:57 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:54:57 DBG] Response markup is scheduled to include Browser Link script injection.
[2025-03-06 09:54:57 DBG] Response markup is scheduled to include browser refresh script injection.
[2025-03-06 09:54:57 DBG] Response markup was updated to include Browser Link script injection.
[2025-03-06 09:54:57 DBG] Response markup was updated to include browser refresh script injection.
[2025-03-06 09:54:57 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.html - 200 null text/html;charset=utf-8 297.1412ms
[2025-03-06 09:54:57 INF] Request starting HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - null null
[2025-03-06 09:54:57 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.js - null null
[2025-03-06 09:54:57 DBG] No candidates found for the request path '/swagger/index.js'
[2025-03-06 09:54:57 DBG] Request did not match any endpoints
[2025-03-06 09:54:57 INF] Middleware: Handling GET request to /swagger/index.js
[2025-03-06 09:54:57 INF] Request finished HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 22.9554ms
[2025-03-06 09:54:57 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:54:57 INF] Request starting HTTP/2 GET https://localhost:7238/_vs/browserLink - null null
[2025-03-06 09:54:57 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:54:57 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.js - 200 null application/javascript;charset=utf-8 45.4512ms
[2025-03-06 09:54:57 INF] Request finished HTTP/2 GET https://localhost:7238/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.9113ms
[2025-03-06 09:54:57 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - null null
[2025-03-06 09:54:57 DBG] No candidates found for the request path '/swagger/v1/swagger.json'
[2025-03-06 09:54:57 DBG] Request did not match any endpoints
[2025-03-06 09:54:57 INF] Middleware: Handling GET request to /swagger/v1/swagger.json
[2025-03-06 09:54:57 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:54:57 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:54:57 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 158.0441ms
[2025-03-06 09:55:07 INF] Request starting HTTP/2 GET https://localhost:7238/api/Course - null null
[2025-03-06 09:55:07 DBG] 1 candidate(s) found for the request path '/api/Course'
[2025-03-06 09:55:07 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/Course'
[2025-03-06 09:55:07 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:55:07 INF] Middleware: Handling GET request to /api/Course
[2025-03-06 09:55:07 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:55:07 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:55:07 DBG] AuthenticationScheme: Bearer was not authenticated.
[2025-03-06 09:55:07 DBG] Policy authentication schemes Bearer did not succeed
[2025-03-06 09:55:07 INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
[2025-03-06 09:55:07 INF] AuthenticationScheme: Bearer was challenged.
[2025-03-06 09:55:07 INF] Request finished HTTP/2 GET https://localhost:7238/api/Course - 401 0 null 145.2953ms
[2025-03-06 09:55:25 DBG] Connection id "0HNASNRE7DUR8" accepted.
[2025-03-06 09:55:25 DBG] Connection id "0HNASNRE7DUR8" started.
[2025-03-06 09:55:25 DBG] Connection 0HNASNRE7DUR8 established using the following protocol: "Tls13"
[2025-03-06 09:55:25 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:55:25 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:55:25 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:55:25 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:55:25 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:55:25 INF] CORS policy execution successful.
[2025-03-06 09:55:25 DBG] The request is a preflight request.
[2025-03-06 09:55:25 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 32.9062ms
[2025-03-06 09:55:25 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:55:25 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:55:25 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:55:25 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:55:25 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:55:25 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:55:25 INF] CORS policy execution successful.
[2025-03-06 09:55:26 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:55:26 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:55:26 DBG] Successfully validated the token.
[2025-03-06 09:55:26 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:55:26 DBG] Authorization was successful.
[2025-03-06 09:55:26 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:55:26 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:55:26 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:55:26 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:55:26 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:55:26 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:55:26 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:55:26 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:55:26 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:55:26 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:55:26 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:55:40 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:55:40 DBG] Compiling query expression: 
'DbSet<Course>()
    .Include(c => c.Topics)
    .ThenInclude(t => t.SubTopics)
    .ThenInclude(st => st.Lessons)'
[2025-03-06 09:55:40 DBG] Including navigation: 'Course.Topics'.
[2025-03-06 09:55:40 DBG] Including navigation: 'Topic.SubTopics'.
[2025-03-06 09:55:40 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-03-06 09:55:40 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-03-06 09:55:40 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Course>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Course.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Course.Description (string) Required, 1], [Property: Course.Title (string) Required, 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Topic.CourseId (int) Required FK Index, 4], [Property: Topic.Description (string) Required, 5], [Property: Topic.Title (string) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: SubTopic.Description (string), 8], [Property: SubTopic.Title (string) Required, 9], [Property: SubTopic.TopicId (int) Required FK Index, 10] }
            5 -> 7
            6 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Lesson.Content (string) Required, 12], [Property: Lesson.SubTopicId (int) Required FK Index, 13], [Property: Lesson.Title (string) Required, 14] }
            7 -> 11
        SELECT c.Id, c.Description, c.Title, t1.Id, t1.CourseId, t1.Description, t1.Title, t1.Id0, t1.Description0, t1.Title0, t1.TopicId, t1.Id00, t1.Content, t1.SubTopicId, t1.Title00
        FROM Courses AS c
        LEFT JOIN 
        (
            SELECT t.Id, t.CourseId, t.Description, t.Title, t0.Id AS Id0, t0.Description AS Description0, t0.Title AS Title0, t0.TopicId, t0.Id0 AS Id00, t0.Content, t0.SubTopicId, t0.Title0 AS Title00
            FROM Topics AS t
            LEFT JOIN 
            (
                SELECT s.Id, s.Description, s.Title, s.TopicId, l.Id AS Id0, l.Content, l.SubTopicId, l.Title AS Title0
                FROM SubTopics AS s
                LEFT JOIN Lessons AS l ON s.Id == l.SubTopicId
            ) AS t0 ON t.Id == t0.TopicId
        ) AS t1 ON c.Id == t1.CourseId
        ORDER BY c.Id ASC, t1.Id ASC, t1.Id0 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Course>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)'
[2025-03-06 09:55:40 DBG] Creating DbConnection.
[2025-03-06 09:55:40 DBG] Created DbConnection. (1ms).
[2025-03-06 09:55:40 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:55:40 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:55:40 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:55:40 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:55:40 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:55:40 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:55:40 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:55:40 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:55:40 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 257ms reading results.
[2025-03-06 09:55:40 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:55:40 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 09:56:18 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:56:18 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:56:18 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:56:18 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:56:18 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:56:18 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:56:18 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 52043.9608ms
[2025-03-06 09:56:18 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:56:18 INF] HTTP GET /api/course responded 200 in 52115.0179 ms
[2025-03-06 09:56:18 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:56:18 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:56:18 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:56:18 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 52345.6092ms
[2025-03-06 09:57:21 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 09:57:21 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 09:57:21 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:57:21 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 09:57:21 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:57:21 INF] CORS policy execution successful.
[2025-03-06 09:57:21 DBG] The request is a preflight request.
[2025-03-06 09:57:21 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 21.9439ms
[2025-03-06 09:57:21 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 32
[2025-03-06 09:57:21 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 09:57:21 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 09:57:21 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 09:57:21 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 09:57:21 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:57:21 INF] CORS policy execution successful.
[2025-03-06 09:57:21 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:57:21 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:57:21 DBG] Successfully validated the token.
[2025-03-06 09:57:21 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:57:21 DBG] Authorization was successful.
[2025-03-06 09:57:21 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:57:21 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 09:57:21 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 09:57:21 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:57:21 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:57:21 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:57:21 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:57:21 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:57:21 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 09:57:21 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 09:57:21 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 09:57:21 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 09:57:21 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 09:57:21 DBG] Connection id "0HNASNRE7DUR8", Request id "0HNASNRE7DUR8:00000007": started reading request body.
[2025-03-06 09:57:21 DBG] Connection id "0HNASNRE7DUR8", Request id "0HNASNRE7DUR8:00000007": done reading request body.
[2025-03-06 09:57:21 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 09:57:21 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 09:57:21 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 09:57:21 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 09:57:21 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 09:57:21 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 09:57:21 DBG] Entering MoveLesson with Lesson ID: 6, New SubTopic ID: 4
[2025-03-06 09:57:21 DBG] Moving Lesson ID: 6 to SubTopic ID: 4
[2025-03-06 09:57:21 DBG] Retrieving lesson by ID: 6
[2025-03-06 09:57:21 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:57:21 DBG] Compiling query expression: 
'DbSet<Lesson>()
    .Include(l => l.SubTopic)
    .FirstOrDefault(l => l.Id == __id_0)'
[2025-03-06 09:57:21 DBG] Including navigation: 'Lesson.SubTopic'.
[2025-03-06 09:57:21 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Lesson>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Lesson.Content (string) Required, 1], [Property: Lesson.SubTopicId (int) Required FK Index, 2], [Property: Lesson.Title (string) Required, 3] }
            1 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SubTopic.Description (string), 5], [Property: SubTopic.Title (string) Required, 6], [Property: SubTopic.TopicId (int) Required FK Index, 7] }
        SELECT TOP(1) l.Id, l.Content, l.SubTopicId, l.Title, s.Id, s.Description, s.Title, s.TopicId
        FROM Lessons AS l
        INNER JOIN SubTopics AS s ON l.SubTopicId == s.Id
        WHERE l.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Lesson>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 09:57:21 DBG] Creating DbConnection.
[2025-03-06 09:57:21 DBG] Created DbConnection. (1ms).
[2025-03-06 09:57:21 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:57:21 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:57:21 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:57:21 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 09:57:21 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 09:57:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:21 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:21 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 12ms reading results.
[2025-03-06 09:57:21 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:57:21 DBG] Retrieving subtopic by ID: 4
[2025-03-06 09:57:21 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .FirstOrDefault(st => st.Id == __id_0)'
[2025-03-06 09:57:21 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubTopic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Description (string), 1], [Property: SubTopic.Title (string) Required, 2], [Property: SubTopic.TopicId (int) Required FK Index, 3] }
        SELECT TOP(1) s.Id, s.Description, s.Title, s.TopicId
        FROM SubTopics AS s
        WHERE s.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 09:57:21 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:57:21 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:57:21 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:57:21 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 09:57:21 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 09:57:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:21 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 09:57:21 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:57:21 DBG] Updating lesson in database: Simple Sentences
[2025-03-06 09:57:21 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:21 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 09:57:21 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 09:57:21 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 09:57:21 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:21 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 09:57:21 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:57:21 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:57:21 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:57:21 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 24), @p1='?' (DbType = Int32), @p2='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 09:57:21 INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 24), @p1='?' (DbType = Int32), @p2='?' (Size = 16)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 09:57:21 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 8ms reading results.
[2025-03-06 09:57:21 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:57:21 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:21 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 09:57:21 INF] Moved Lesson ID: 6 to SubTopic ID: 4
[2025-03-06 09:57:21 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 09:57:21 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 453.441ms
[2025-03-06 09:57:21 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 09:57:21 INF] HTTP POST /api/Lesson/move responded 200 in 484.1952 ms
[2025-03-06 09:57:21 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:57:21 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:57:21 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:57:21 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 522.1535ms
[2025-03-06 09:57:51 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:57:51 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:57:51 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:57:51 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:57:51 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:57:51 INF] CORS policy execution successful.
[2025-03-06 09:57:51 DBG] The request is a preflight request.
[2025-03-06 09:57:51 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 27.4526ms
[2025-03-06 09:57:51 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:57:51 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:57:51 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:57:51 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:57:51 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:57:51 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:57:51 INF] CORS policy execution successful.
[2025-03-06 09:57:51 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:57:51 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:57:51 DBG] Successfully validated the token.
[2025-03-06 09:57:51 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:57:51 DBG] Authorization was successful.
[2025-03-06 09:57:51 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:57:51 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:57:51 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:57:51 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:57:51 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:57:51 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:57:51 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:57:51 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:57:51 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:57:51 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:57:51 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:57:56 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:57:56 DBG] Creating DbConnection.
[2025-03-06 09:57:56 DBG] Created DbConnection. (1ms).
[2025-03-06 09:57:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:57:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:56 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:57:56 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:57:56 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:57:56 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:57:56 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:57:56 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:56 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 150ms reading results.
[2025-03-06 09:57:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:57:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 09:57:56 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:57:56 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:57:56 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:57:56 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:57:56 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:57:56 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:57:56 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 5675.5535ms
[2025-03-06 09:57:56 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:57:56 INF] HTTP GET /api/course responded 200 in 5707.3459 ms
[2025-03-06 09:57:56 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:57:56 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:57:56 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 09:57:56 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 5760.8184ms
[2025-03-06 09:58:13 DBG] Connection id "0HNASNRE7DUR8" received FIN.
[2025-03-06 09:58:13 DBG] Connection id "0HNASNRE7DUR7" received FIN.
[2025-03-06 09:58:13 DBG] Connection id "0HNASNRE7DUR8" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:58:13 DBG] Connection id "0HNASNRE7DUR8" is closed. The last processed stream ID was 11.
[2025-03-06 09:58:13 DBG] Connection id "0HNASNRE7DUR7" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 09:58:13 DBG] Connection id "0HNASNRE7DUR7" is closed. The last processed stream ID was 11.
[2025-03-06 09:58:13 DBG] The connection queue processing loop for 0HNASNRE7DUR8 completed.
[2025-03-06 09:58:13 DBG] The connection queue processing loop for 0HNASNRE7DUR7 completed.
[2025-03-06 09:58:13 DBG] Connection id "0HNASNRE7DUR8" stopped.
[2025-03-06 09:58:13 DBG] Connection id "0HNASNRE7DUR7" stopped.
[2025-03-06 09:58:20 DBG] Connection id "0HNASNRE7DUR9" accepted.
[2025-03-06 09:58:20 DBG] Connection id "0HNASNRE7DUR9" started.
[2025-03-06 09:58:20 DBG] Connection 0HNASNRE7DUR9 established using the following protocol: "Tls13"
[2025-03-06 09:58:20 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 09:58:20 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 09:58:20 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:58:20 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 09:58:20 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:58:20 INF] CORS policy execution successful.
[2025-03-06 09:58:20 DBG] The request is a preflight request.
[2025-03-06 09:58:20 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 16.4425ms
[2025-03-06 09:58:20 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 33
[2025-03-06 09:58:20 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 09:58:20 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 09:58:20 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 09:58:20 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 09:58:20 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:58:20 INF] CORS policy execution successful.
[2025-03-06 09:58:20 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:58:20 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:58:20 DBG] Successfully validated the token.
[2025-03-06 09:58:20 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:58:20 DBG] Authorization was successful.
[2025-03-06 09:58:20 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:58:20 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 09:58:20 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 09:58:20 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:58:20 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:58:20 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:58:20 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:58:20 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:58:20 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 09:58:20 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 09:58:20 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 09:58:20 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 09:58:20 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 09:58:20 DBG] Connection id "0HNASNRE7DUR9", Request id "0HNASNRE7DUR9:00000003": started reading request body.
[2025-03-06 09:58:20 DBG] Connection id "0HNASNRE7DUR9", Request id "0HNASNRE7DUR9:00000003": done reading request body.
[2025-03-06 09:58:20 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 09:58:20 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 09:58:20 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 09:58:20 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 09:58:20 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 09:58:20 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 09:58:20 DBG] Entering MoveLesson with Lesson ID: 14, New SubTopic ID: 3
[2025-03-06 09:58:20 DBG] Moving Lesson ID: 14 to SubTopic ID: 3
[2025-03-06 09:58:20 DBG] Retrieving lesson by ID: 14
[2025-03-06 09:58:20 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:58:20 DBG] Creating DbConnection.
[2025-03-06 09:58:20 DBG] Created DbConnection. (1ms).
[2025-03-06 09:58:20 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:58:20 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:58:20 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:58:20 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 09:58:20 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 09:58:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:58:20 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:58:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:58:20 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 10ms reading results.
[2025-03-06 09:58:20 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:58:20 DBG] Retrieving subtopic by ID: 3
[2025-03-06 09:58:20 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:58:20 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 09:58:20 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:58:20 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 09:58:20 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 09:58:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:58:20 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 09:58:20 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:58:20 DBG] Updating lesson in database: Quotation Marks
[2025-03-06 09:58:20 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:58:20 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 09:58:20 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 09:58:20 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 09:58:20 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:58:20 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 09:58:20 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:58:20 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 09:58:20 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 09:58:20 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 16), @p1='?' (DbType = Int32), @p2='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 09:58:20 INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 16), @p1='?' (DbType = Int32), @p2='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 09:58:20 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 09:58:20 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:58:20 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:58:20 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 09:58:20 INF] Moved Lesson ID: 14 to SubTopic ID: 3
[2025-03-06 09:58:20 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 09:58:20 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 165.5922ms
[2025-03-06 09:58:20 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 09:58:20 INF] HTTP POST /api/Lesson/move responded 200 in 186.7482 ms
[2025-03-06 09:58:20 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:58:20 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:58:20 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:58:20 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 224.1671ms
[2025-03-06 09:59:12 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 09:59:12 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:59:12 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 09:59:12 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 09:59:12 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:59:12 INF] CORS policy execution successful.
[2025-03-06 09:59:12 DBG] The request is a preflight request.
[2025-03-06 09:59:12 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 34.4848ms
[2025-03-06 09:59:12 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 09:59:12 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 09:59:12 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 09:59:12 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:59:12 INF] Middleware: Handling GET request to /api/course
[2025-03-06 09:59:12 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 09:59:12 INF] CORS policy execution successful.
[2025-03-06 09:59:12 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 09:59:12 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 09:59:12 DBG] Successfully validated the token.
[2025-03-06 09:59:12 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 09:59:12 DBG] Authorization was successful.
[2025-03-06 09:59:12 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 09:59:12 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:59:12 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 09:59:12 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 09:59:12 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 09:59:12 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 09:59:12 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 09:59:12 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 09:59:12 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:59:12 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 09:59:12 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 09:59:12 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 09:59:12 DBG] Creating DbConnection.
[2025-03-06 09:59:12 DBG] Created DbConnection. (1ms).
[2025-03-06 09:59:12 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:59:12 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:59:12 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 09:59:12 DBG] Created DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 09:59:12 DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
[2025-03-06 09:59:12 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:59:12 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 09:59:13 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:59:13 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 292ms reading results.
[2025-03-06 09:59:13 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 09:59:13 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 09:59:13 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 09:59:13 DBG] No information found on request to perform content negotiation.
[2025-03-06 09:59:13 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 09:59:13 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 09:59:13 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 09:59:13 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 09:59:13 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 388.6654ms
[2025-03-06 09:59:13 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 09:59:13 INF] HTTP GET /api/course responded 200 in 420.5825 ms
[2025-03-06 09:59:13 DBG] 'LessonTreeContext' disposed.
[2025-03-06 09:59:13 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 09:59:13 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 09:59:13 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 475.3446ms
[2025-03-06 10:19:04 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 10:19:05 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:19:05 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 10:19:05 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 10:19:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:19:05 INF] CORS policy execution successful.
[2025-03-06 10:19:05 DBG] The request is a preflight request.
[2025-03-06 10:19:05 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 51.4424ms
[2025-03-06 10:19:05 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 10:19:05 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:19:05 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 10:19:05 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:19:05 INF] Middleware: Handling GET request to /api/course
[2025-03-06 10:19:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:19:05 INF] CORS policy execution successful.
[2025-03-06 10:19:05 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 10:19:05 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 10:19:05 DBG] Successfully validated the token.
[2025-03-06 10:19:05 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 10:19:05 DBG] Authorization was successful.
[2025-03-06 10:19:05 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 10:19:05 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:19:05 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 10:19:05 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 10:19:05 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 10:19:05 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 10:19:05 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 10:19:05 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 10:19:05 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:19:05 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:19:05 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 10:19:05 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 10:19:05 DBG] Creating DbConnection.
[2025-03-06 10:19:05 DBG] Created DbConnection. (2ms).
[2025-03-06 10:19:05 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:19:05 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:19:05 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 10:19:05 DBG] Created DbCommand for 'ExecuteReader' (9ms).
[2025-03-06 10:19:05 DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
[2025-03-06 10:19:05 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:19:05 INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:19:05 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:19:05 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 445ms reading results.
[2025-03-06 10:19:05 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:19:05 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (7ms).
[2025-03-06 10:19:05 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 10:19:05 DBG] No information found on request to perform content negotiation.
[2025-03-06 10:19:05 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 10:19:05 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 10:19:05 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 10:19:05 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 10:19:05 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 700.5604ms
[2025-03-06 10:19:05 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:19:05 INF] HTTP GET /api/course responded 200 in 802.7801 ms
[2025-03-06 10:19:05 DBG] 'LessonTreeContext' disposed.
[2025-03-06 10:19:05 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:19:05 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 10:19:05 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 922.609ms
[2025-03-06 10:23:57 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 10:23:57 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:23:57 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 10:23:57 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 10:23:57 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:23:57 INF] CORS policy execution successful.
[2025-03-06 10:23:57 DBG] The request is a preflight request.
[2025-03-06 10:23:57 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 64.314ms
[2025-03-06 10:23:57 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 10:23:57 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:23:57 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 10:23:57 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:23:57 INF] Middleware: Handling GET request to /api/course
[2025-03-06 10:23:57 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:23:57 INF] CORS policy execution successful.
[2025-03-06 10:23:57 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 10:23:57 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 10:23:57 DBG] Successfully validated the token.
[2025-03-06 10:23:57 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 10:23:57 DBG] Authorization was successful.
[2025-03-06 10:23:57 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 10:23:57 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:23:57 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 10:23:57 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 10:23:57 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 10:23:57 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 10:23:57 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 10:23:57 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 10:23:57 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:23:57 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:23:57 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 10:23:57 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 10:23:57 DBG] Creating DbConnection.
[2025-03-06 10:23:57 DBG] Created DbConnection. (3ms).
[2025-03-06 10:23:57 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:23:57 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:23:57 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 10:23:57 DBG] Created DbCommand for 'ExecuteReader' (8ms).
[2025-03-06 10:23:57 DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
[2025-03-06 10:23:58 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:23:58 INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:23:58 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:23:58 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 915ms reading results.
[2025-03-06 10:23:58 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:23:58 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (7ms).
[2025-03-06 10:23:58 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 10:23:58 DBG] No information found on request to perform content negotiation.
[2025-03-06 10:23:59 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 10:23:59 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 10:23:59 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 10:23:59 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 10:23:59 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 1152.8358ms
[2025-03-06 10:23:59 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:23:59 INF] HTTP GET /api/course responded 200 in 1237.9487 ms
[2025-03-06 10:23:59 DBG] 'LessonTreeContext' disposed.
[2025-03-06 10:23:59 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:23:59 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (6ms).
[2025-03-06 10:23:59 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 1378.4161ms
[2025-03-06 10:28:13 DBG] Connection id "0HNASNRE7DUR9" received FIN.
[2025-03-06 10:28:13 DBG] Connection id "0HNASNRE7DUR9" is closed. The last processed stream ID was 15.
[2025-03-06 10:28:13 DBG] The connection queue processing loop for 0HNASNRE7DUR9 completed.
[2025-03-06 10:28:13 DBG] Connection id "0HNASNRE7DUR9" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 10:28:13 DBG] Connection id "0HNASNRE7DUR9" stopped.
[2025-03-06 10:29:01 DBG] Connection id "0HNASNRE7DURA" accepted.
[2025-03-06 10:29:02 DBG] Connection id "0HNASNRE7DURA" started.
[2025-03-06 10:29:02 DBG] Connection 0HNASNRE7DURA established using the following protocol: "Tls13"
[2025-03-06 10:29:02 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 10:29:02 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:29:02 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 10:29:02 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 10:29:02 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:29:02 INF] CORS policy execution successful.
[2025-03-06 10:29:02 DBG] The request is a preflight request.
[2025-03-06 10:29:02 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 45.6233ms
[2025-03-06 10:29:02 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 10:29:02 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:29:02 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 10:29:02 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:29:02 INF] Middleware: Handling GET request to /api/course
[2025-03-06 10:29:02 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:29:02 INF] CORS policy execution successful.
[2025-03-06 10:29:02 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 10:29:02 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 10:29:02 DBG] Successfully validated the token.
[2025-03-06 10:29:02 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 10:29:02 DBG] Authorization was successful.
[2025-03-06 10:29:02 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 10:29:02 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:29:02 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 10:29:02 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 10:29:02 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 10:29:02 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 10:29:02 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 10:29:02 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 10:29:02 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:29:02 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:29:02 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 10:29:02 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 10:29:02 DBG] Creating DbConnection.
[2025-03-06 10:29:02 DBG] Created DbConnection. (2ms).
[2025-03-06 10:29:02 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:29:02 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:29:02 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 10:29:02 DBG] Created DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 10:29:02 DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
[2025-03-06 10:29:02 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:29:02 INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:03 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:29:03 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:29:03 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 702ms reading results.
[2025-03-06 10:29:03 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:29:03 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (12ms).
[2025-03-06 10:29:03 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 10:29:03 DBG] No information found on request to perform content negotiation.
[2025-03-06 10:29:03 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 10:29:03 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 10:29:03 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 10:29:03 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 10:29:03 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 927.8962ms
[2025-03-06 10:29:03 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:29:03 INF] HTTP GET /api/course responded 200 in 1013.4820 ms
[2025-03-06 10:29:03 DBG] 'LessonTreeContext' disposed.
[2025-03-06 10:29:03 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:29:03 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (6ms).
[2025-03-06 10:29:03 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 1110.3844ms
[2025-03-06 10:33:40 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 10:33:40 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:33:40 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 10:33:40 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 10:33:40 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:33:40 INF] CORS policy execution successful.
[2025-03-06 10:33:40 DBG] The request is a preflight request.
[2025-03-06 10:33:40 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 44.1679ms
[2025-03-06 10:33:40 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 10:33:40 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:33:40 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 10:33:40 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:33:40 INF] Middleware: Handling GET request to /api/course
[2025-03-06 10:33:40 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:33:40 INF] CORS policy execution successful.
[2025-03-06 10:33:40 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 10:33:40 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 10:33:40 DBG] Successfully validated the token.
[2025-03-06 10:33:40 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 10:33:40 DBG] Authorization was successful.
[2025-03-06 10:33:40 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 10:33:40 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:33:40 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 10:33:40 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 10:33:40 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 10:33:40 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 10:33:40 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 10:33:40 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 10:33:40 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:33:40 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:33:40 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 10:33:40 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 10:33:40 DBG] Creating DbConnection.
[2025-03-06 10:33:40 DBG] Created DbConnection. (4ms).
[2025-03-06 10:33:40 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:33:40 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:33:40 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 10:33:40 DBG] Created DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 10:33:40 DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
[2025-03-06 10:33:40 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:33:40 INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:33:40 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:33:40 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 510ms reading results.
[2025-03-06 10:33:40 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:33:40 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (5ms).
[2025-03-06 10:33:40 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 10:33:40 DBG] No information found on request to perform content negotiation.
[2025-03-06 10:33:40 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 10:33:40 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 10:33:40 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 10:33:40 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 10:33:40 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 677.935ms
[2025-03-06 10:33:40 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:33:40 INF] HTTP GET /api/course responded 200 in 720.7791 ms
[2025-03-06 10:33:41 DBG] 'LessonTreeContext' disposed.
[2025-03-06 10:33:41 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:33:41 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 10:33:41 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 798.7253ms
[2025-03-06 10:35:26 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 10:35:26 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:35:26 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 10:35:26 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 10:35:26 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:35:26 INF] CORS policy execution successful.
[2025-03-06 10:35:26 DBG] The request is a preflight request.
[2025-03-06 10:35:26 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 83.5713ms
[2025-03-06 10:35:26 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 10:35:26 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:35:26 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 10:35:26 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:35:26 INF] Middleware: Handling GET request to /api/course
[2025-03-06 10:35:26 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:35:26 INF] CORS policy execution successful.
[2025-03-06 10:35:26 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 10:35:26 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 10:35:26 DBG] Successfully validated the token.
[2025-03-06 10:35:26 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 10:35:26 DBG] Authorization was successful.
[2025-03-06 10:35:26 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 10:35:26 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:35:26 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 10:35:26 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 10:35:26 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 10:35:26 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 10:35:26 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 10:35:26 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 10:35:26 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:35:26 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:35:26 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 10:35:26 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 10:35:26 DBG] Creating DbConnection.
[2025-03-06 10:35:26 DBG] Created DbConnection. (9ms).
[2025-03-06 10:35:26 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:35:26 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:35:26 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 10:35:26 DBG] Created DbCommand for 'ExecuteReader' (12ms).
[2025-03-06 10:35:26 DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
[2025-03-06 10:35:26 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:35:26 INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:26 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:35:27 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:35:27 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 816ms reading results.
[2025-03-06 10:35:27 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:35:27 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (5ms).
[2025-03-06 10:35:27 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 10:35:27 DBG] No information found on request to perform content negotiation.
[2025-03-06 10:35:27 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 10:35:27 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 10:35:27 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 10:35:27 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 10:35:27 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 1043.9488ms
[2025-03-06 10:35:27 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:35:27 INF] HTTP GET /api/course responded 200 in 1107.6208 ms
[2025-03-06 10:35:27 DBG] 'LessonTreeContext' disposed.
[2025-03-06 10:35:27 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:35:27 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (5ms).
[2025-03-06 10:35:27 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 1234.9887ms
[2025-03-06 10:37:53 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 10:37:54 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:37:54 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 10:37:54 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 10:37:54 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:37:54 INF] CORS policy execution successful.
[2025-03-06 10:37:54 DBG] The request is a preflight request.
[2025-03-06 10:37:54 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 116.2204ms
[2025-03-06 10:37:54 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 10:37:54 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:37:54 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 10:37:54 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:37:54 INF] Middleware: Handling GET request to /api/course
[2025-03-06 10:37:54 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:37:54 INF] CORS policy execution successful.
[2025-03-06 10:37:54 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 10:37:54 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 10:37:54 DBG] Successfully validated the token.
[2025-03-06 10:37:54 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 10:37:54 DBG] Authorization was successful.
[2025-03-06 10:37:54 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 10:37:54 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:37:54 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 10:37:54 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 10:37:54 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 10:37:54 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 10:37:54 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 10:37:54 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 10:37:54 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:37:54 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:37:54 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 10:37:54 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 10:37:54 DBG] Creating DbConnection.
[2025-03-06 10:37:54 DBG] Created DbConnection. (23ms).
[2025-03-06 10:37:54 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:37:54 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:37:54 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 10:37:54 DBG] Created DbCommand for 'ExecuteReader' (7ms).
[2025-03-06 10:37:54 DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
[2025-03-06 10:37:54 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:37:54 INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:37:55 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:37:55 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 600ms reading results.
[2025-03-06 10:37:55 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:37:55 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 10:37:55 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 10:37:55 DBG] No information found on request to perform content negotiation.
[2025-03-06 10:37:55 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 10:37:55 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 10:37:55 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 10:37:55 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 10:37:55 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 1227.1588ms
[2025-03-06 10:37:55 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:37:55 INF] HTTP GET /api/course responded 200 in 1300.2993 ms
[2025-03-06 10:37:55 DBG] 'LessonTreeContext' disposed.
[2025-03-06 10:37:55 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:37:55 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (6ms).
[2025-03-06 10:37:55 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 1450.2982ms
[2025-03-06 10:38:24 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 10:38:24 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:38:24 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 10:38:24 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 10:38:24 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:38:24 INF] CORS policy execution successful.
[2025-03-06 10:38:24 DBG] The request is a preflight request.
[2025-03-06 10:38:24 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 45.0152ms
[2025-03-06 10:38:24 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 10:38:24 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:38:24 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 10:38:24 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:38:24 INF] Middleware: Handling GET request to /api/course
[2025-03-06 10:38:24 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:38:24 INF] CORS policy execution successful.
[2025-03-06 10:38:24 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 10:38:24 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 10:38:24 DBG] Successfully validated the token.
[2025-03-06 10:38:24 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 10:38:24 DBG] Authorization was successful.
[2025-03-06 10:38:24 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 10:38:24 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:38:24 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 10:38:24 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 10:38:24 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 10:38:24 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 10:38:24 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 10:38:24 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 10:38:24 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:38:24 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:38:24 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 10:38:24 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 10:38:24 DBG] Creating DbConnection.
[2025-03-06 10:38:24 DBG] Created DbConnection. (5ms).
[2025-03-06 10:38:24 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:38:24 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:38:24 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 10:38:24 DBG] Created DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 10:38:24 DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
[2025-03-06 10:38:24 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:38:24 INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:38:24 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:38:24 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 521ms reading results.
[2025-03-06 10:38:24 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:38:24 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 10:38:24 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 10:38:24 DBG] No information found on request to perform content negotiation.
[2025-03-06 10:38:24 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 10:38:24 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 10:38:24 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 10:38:24 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 10:38:24 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 655.4576ms
[2025-03-06 10:38:24 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:38:24 INF] HTTP GET /api/course responded 200 in 724.2337 ms
[2025-03-06 10:38:24 DBG] 'LessonTreeContext' disposed.
[2025-03-06 10:38:24 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:38:24 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (7ms).
[2025-03-06 10:38:24 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 860.2095ms
[2025-03-06 10:41:47 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 10:41:47 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:41:47 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 10:41:47 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 10:41:47 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:41:47 INF] CORS policy execution successful.
[2025-03-06 10:41:47 DBG] The request is a preflight request.
[2025-03-06 10:41:47 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 65.3257ms
[2025-03-06 10:41:47 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 10:41:47 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 10:41:47 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 10:41:47 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:41:47 INF] Middleware: Handling GET request to /api/course
[2025-03-06 10:41:47 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 10:41:47 INF] CORS policy execution successful.
[2025-03-06 10:41:47 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 10:41:47 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 10:41:47 DBG] Successfully validated the token.
[2025-03-06 10:41:47 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 10:41:47 DBG] Authorization was successful.
[2025-03-06 10:41:47 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 10:41:47 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:41:47 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 10:41:47 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 10:41:47 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 10:41:47 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 10:41:47 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 10:41:47 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 10:41:47 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:41:47 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 10:41:47 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 10:41:47 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 10:41:47 DBG] Creating DbConnection.
[2025-03-06 10:41:47 DBG] Created DbConnection. (4ms).
[2025-03-06 10:41:47 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:41:47 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:41:47 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 10:41:47 DBG] Created DbCommand for 'ExecuteReader' (9ms).
[2025-03-06 10:41:47 DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
[2025-03-06 10:41:47 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:41:47 INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 10:41:47 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:47 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:47 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:47 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 10:41:48 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:41:48 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 621ms reading results.
[2025-03-06 10:41:48 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 10:41:48 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (5ms).
[2025-03-06 10:41:48 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 10:41:48 DBG] No information found on request to perform content negotiation.
[2025-03-06 10:41:48 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 10:41:48 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 10:41:48 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 10:41:48 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 10:41:48 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 834.4602ms
[2025-03-06 10:41:48 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 10:41:48 INF] HTTP GET /api/course responded 200 in 991.5611 ms
[2025-03-06 10:41:48 DBG] 'LessonTreeContext' disposed.
[2025-03-06 10:41:48 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 10:41:48 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (7ms).
[2025-03-06 10:41:48 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 1111.0389ms
[2025-03-06 10:58:13 DBG] Connection id "0HNASNRE7DURA" received FIN.
[2025-03-06 10:58:13 DBG] Connection id "0HNASNRE7DURA" is closed. The last processed stream ID was 23.
[2025-03-06 10:58:13 DBG] The connection queue processing loop for 0HNASNRE7DURA completed.
[2025-03-06 10:58:13 DBG] Connection id "0HNASNRE7DURA" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 10:58:13 DBG] Connection id "0HNASNRE7DURA" stopped.
[2025-03-06 13:57:56 INF] Starting application with logs directory: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\logs
[2025-03-06 13:57:56 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[2025-03-06 13:57:56 WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
[2025-03-06 13:57:56 INF] User profile is available. Using 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-03-06 13:57:56 INF] Applying migrations to LessonTree.db...
[2025-03-06 13:57:57 DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2025-03-06 13:57:57 DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
[2025-03-06 13:57:57 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 13:57:57 DBG] Creating DbConnection.
[2025-03-06 13:57:57 DBG] Created DbConnection. (17ms).
[2025-03-06 13:57:57 DBG] Migrating using database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Creating DbConnection.
[2025-03-06 13:57:57 DBG] Created DbConnection. (4ms).
[2025-03-06 13:57:57 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 13:57:57 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 13:57:57 DBG] Created DbCommand for 'ExecuteScalar' (8ms).
[2025-03-06 13:57:57 DBG] Initialized DbCommand for 'ExecuteScalar' (25ms).
[2025-03-06 13:57:57 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 13:57:57 INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 13:57:57 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (8ms).
[2025-03-06 13:57:57 DBG] Creating DbConnection.
[2025-03-06 13:57:57 DBG] Created DbConnection. (3ms).
[2025-03-06 13:57:57 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 13:57:57 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 13:57:57 DBG] Created DbCommand for 'ExecuteScalar' (2ms).
[2025-03-06 13:57:57 DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
[2025-03-06 13:57:57 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 13:57:57 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 13:57:57 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 13:57:57 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 13:57:57 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 13:57:57 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 13:57:57 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 13:57:57 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 13:57:57 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 7ms reading results.
[2025-03-06 13:57:57 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:57 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 13:57:57 INF] No migrations were applied. The database is already up to date.
[2025-03-06 13:57:58 DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
[2025-03-06 13:57:58 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 13:57:58 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 13:57:58 DBG] Created DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 13:57:58 DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
[2025-03-06 13:57:58 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 13:57:58 INF] Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 13:57:58 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 13:57:58 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 107ms reading results.
[2025-03-06 13:57:58 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (6ms).
[2025-03-06 13:57:58 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 13:57:58 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 13:57:58 DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
[2025-03-06 13:57:58 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 13:57:58 INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 13:57:58 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 13:57:58 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 9ms reading results.
[2025-03-06 13:57:58 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 13:57:58 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 13:57:58 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 13:57:58 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 13:57:58 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 13:57:58 INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 13:57:58 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 13:57:58 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 6ms reading results.
[2025-03-06 13:57:58 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 13:57:58 DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
[2025-03-06 13:57:58 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TwoFactorEnabled (bool) Required, 13], [Property: User.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 13:57:58 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 13:57:58 DBG] Created DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 13:57:58 DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
[2025-03-06 13:57:58 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 13:57:58 INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 13:57:58 DBG] Context 'LessonTreeContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 13:57:58 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 50ms reading results.
[2025-03-06 13:57:58 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 13:57:58 DBG] Compiling query expression: 
'DbSet<Course>()
    .Any()'
[2025-03-06 13:57:58 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Courses AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .Single()'
[2025-03-06 13:57:58 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 13:57:58 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 13:57:58 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 13:57:58 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 13:57:58 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 13:57:58 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 13:57:58 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 13:57:58 DBG] 'LessonTreeContext' disposed.
[2025-03-06 13:57:58 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 13:57:58 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 13:57:59 DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
[2025-03-06 13:57:59 DBG] Hosting starting
[2025-03-06 13:57:59 DBG] Reading data from file 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys\key-289f7250-d4bf-48f6-ba65-112fa6af0fd7.xml'.
[2025-03-06 13:57:59 DBG] Found key {289f7250-d4bf-48f6-ba65-112fa6af0fd7}.
[2025-03-06 13:57:59 DBG] Considering key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} with expiration date 2025-05-07 18:34:01Z as default key.
[2025-03-06 13:57:59 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 13:57:59 DBG] Decrypting secret element using Windows DPAPI.
[2025-03-06 13:57:59 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 13:57:59 DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
[2025-03-06 13:57:59 DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
[2025-03-06 13:57:59 DBG] Using key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} as the default key.
[2025-03-06 13:57:59 DBG] Key ring with default key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} was loaded during application startup.
[2025-03-06 13:57:59 INF] Now listening on: https://localhost:7238
[2025-03-06 13:57:59 INF] Now listening on: http://localhost:5046
[2025-03-06 13:57:59 DBG] Loaded hosting startup assembly LessonTree.API
[2025-03-06 13:57:59 DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
[2025-03-06 13:57:59 DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
[2025-03-06 13:57:59 DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
[2025-03-06 13:57:59 INF] Application started. Press Ctrl+C to shut down.
[2025-03-06 13:57:59 INF] Hosting environment: Development
[2025-03-06 13:57:59 INF] Content root path: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api
[2025-03-06 13:57:59 DBG] Hosting started
[2025-03-06 13:57:59 DBG] Connection id "0HNASS389UBRI" accepted.
[2025-03-06 13:57:59 DBG] Connection id "0HNASS389UBRI" started.
[2025-03-06 13:57:59 DBG] Connection id "0HNASS389UBRI" received FIN.
[2025-03-06 13:57:59 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 13:57:59 DBG] Connection id "0HNASS389UBRI" stopped.
[2025-03-06 13:57:59 DBG] Connection id "0HNASS389UBRI" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 13:58:00 DBG] Connection id "0HNASS389UBRJ" accepted.
[2025-03-06 13:58:00 DBG] Connection id "0HNASS389UBRJ" started.
[2025-03-06 13:58:00 DBG] Connection 0HNASS389UBRJ established using the following protocol: "Tls13"
[2025-03-06 13:58:00 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.html - null null
[2025-03-06 13:58:00 DBG] Wildcard detected, all requests with hosts will be allowed.
[2025-03-06 13:58:00 DBG] No candidates found for the request path '/swagger/index.html'
[2025-03-06 13:58:00 DBG] Request did not match any endpoints
[2025-03-06 13:58:00 INF] Middleware: Handling GET request to /swagger/index.html
[2025-03-06 13:58:00 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 13:58:00 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 13:58:00 DBG] Response markup is scheduled to include Browser Link script injection.
[2025-03-06 13:58:00 DBG] Response markup is scheduled to include browser refresh script injection.
[2025-03-06 13:58:00 DBG] Response markup was updated to include Browser Link script injection.
[2025-03-06 13:58:00 DBG] Response markup was updated to include browser refresh script injection.
[2025-03-06 13:58:00 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.html - 200 null text/html;charset=utf-8 265.5284ms
[2025-03-06 13:58:00 INF] Request starting HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - null null
[2025-03-06 13:58:00 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.js - null null
[2025-03-06 13:58:00 DBG] No candidates found for the request path '/swagger/index.js'
[2025-03-06 13:58:00 DBG] Request did not match any endpoints
[2025-03-06 13:58:00 INF] Middleware: Handling GET request to /swagger/index.js
[2025-03-06 13:58:00 INF] Request starting HTTP/2 GET https://localhost:7238/_vs/browserLink - null null
[2025-03-06 13:58:00 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 13:58:00 INF] Request finished HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 32.1966ms
[2025-03-06 13:58:00 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 13:58:00 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.js - 200 null application/javascript;charset=utf-8 67.645ms
[2025-03-06 13:58:00 INF] Request finished HTTP/2 GET https://localhost:7238/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.3456ms
[2025-03-06 13:58:00 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - null null
[2025-03-06 13:58:00 DBG] No candidates found for the request path '/swagger/v1/swagger.json'
[2025-03-06 13:58:00 DBG] Request did not match any endpoints
[2025-03-06 13:58:00 INF] Middleware: Handling GET request to /swagger/v1/swagger.json
[2025-03-06 13:58:00 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 13:58:00 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 13:58:00 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 173.5479ms
[2025-03-06 13:58:13 DBG] Connection id "0HNASS389UBRJ" received FIN.
[2025-03-06 13:58:13 DBG] Connection id "0HNASS389UBRJ" is closed. The last processed stream ID was 9.
[2025-03-06 13:58:13 DBG] The connection queue processing loop for 0HNASS389UBRJ completed.
[2025-03-06 13:58:13 DBG] Connection id "0HNASS389UBRJ" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 13:58:13 DBG] Connection id "0HNASS389UBRJ" stopped.
[2025-03-06 14:05:22 DBG] Connection id "0HNASS389UBRK" accepted.
[2025-03-06 14:05:22 DBG] Connection id "0HNASS389UBRK" started.
[2025-03-06 14:05:22 DBG] Connection 0HNASS389UBRK established using the following protocol: "Tls13"
[2025-03-06 14:05:22 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:05:22 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:05:22 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:05:22 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:05:22 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:05:22 INF] CORS policy execution successful.
[2025-03-06 14:05:22 DBG] The request is a preflight request.
[2025-03-06 14:05:22 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 27.4016ms
[2025-03-06 14:05:22 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:05:22 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:05:22 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:05:22 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:05:22 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:05:22 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:05:22 INF] CORS policy execution successful.
[2025-03-06 14:05:22 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:05:23 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:05:23 DBG] Successfully validated the token.
[2025-03-06 14:05:23 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:05:23 DBG] Authorization was successful.
[2025-03-06 14:05:23 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:05:23 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:05:23 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:05:23 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:05:23 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:05:23 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:05:23 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:05:23 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:05:23 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:05:23 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:05:23 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:05:23 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:05:23 DBG] Compiling query expression: 
'DbSet<Course>()
    .Include(c => c.Topics)
    .ThenInclude(t => t.SubTopics)
    .ThenInclude(st => st.Lessons)'
[2025-03-06 14:05:23 DBG] Including navigation: 'Course.Topics'.
[2025-03-06 14:05:23 DBG] Including navigation: 'Topic.SubTopics'.
[2025-03-06 14:05:23 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-03-06 14:05:23 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-03-06 14:05:23 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Course>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Course.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Course.Description (string) Required, 1], [Property: Course.Title (string) Required, 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Topic.CourseId (int) Required FK Index, 4], [Property: Topic.Description (string) Required, 5], [Property: Topic.Title (string) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: SubTopic.Description (string), 8], [Property: SubTopic.Title (string) Required, 9], [Property: SubTopic.TopicId (int) Required FK Index, 10] }
            5 -> 7
            6 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Lesson.Content (string) Required, 12], [Property: Lesson.SubTopicId (int) Required FK Index, 13], [Property: Lesson.Title (string) Required, 14] }
            7 -> 11
        SELECT c.Id, c.Description, c.Title, t1.Id, t1.CourseId, t1.Description, t1.Title, t1.Id0, t1.Description0, t1.Title0, t1.TopicId, t1.Id00, t1.Content, t1.SubTopicId, t1.Title00
        FROM Courses AS c
        LEFT JOIN 
        (
            SELECT t.Id, t.CourseId, t.Description, t.Title, t0.Id AS Id0, t0.Description AS Description0, t0.Title AS Title0, t0.TopicId, t0.Id0 AS Id00, t0.Content, t0.SubTopicId, t0.Title0 AS Title00
            FROM Topics AS t
            LEFT JOIN 
            (
                SELECT s.Id, s.Description, s.Title, s.TopicId, l.Id AS Id0, l.Content, l.SubTopicId, l.Title AS Title0
                FROM SubTopics AS s
                LEFT JOIN Lessons AS l ON s.Id == l.SubTopicId
            ) AS t0 ON t.Id == t0.TopicId
        ) AS t1 ON c.Id == t1.CourseId
        ORDER BY c.Id ASC, t1.Id ASC, t1.Id0 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Course>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)'
[2025-03-06 14:05:23 DBG] Creating DbConnection.
[2025-03-06 14:05:23 DBG] Created DbConnection. (1ms).
[2025-03-06 14:05:23 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:05:23 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:05:23 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:05:23 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 14:05:23 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:05:23 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:05:23 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:05:23 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:05:23 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 170ms reading results.
[2025-03-06 14:05:23 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:05:23 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:05:23 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:05:23 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:05:23 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:05:23 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:05:23 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:05:23 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:05:23 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 546.17ms
[2025-03-06 14:05:23 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:05:23 INF] HTTP GET /api/course responded 200 in 581.2979 ms
[2025-03-06 14:05:23 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:05:23 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:05:23 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 14:05:23 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 800.1479ms
[2025-03-06 14:12:08 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:12:08 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:12:08 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:12:08 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:12:08 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:12:08 INF] CORS policy execution successful.
[2025-03-06 14:12:08 DBG] The request is a preflight request.
[2025-03-06 14:12:08 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 22.143ms
[2025-03-06 14:12:08 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:12:08 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:12:08 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:12:08 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:12:08 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:12:08 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:12:08 INF] CORS policy execution successful.
[2025-03-06 14:12:08 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:12:08 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:12:08 DBG] Successfully validated the token.
[2025-03-06 14:12:08 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:12:08 DBG] Authorization was successful.
[2025-03-06 14:12:08 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:12:08 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:12:08 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:12:08 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:12:08 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:12:08 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:12:08 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:12:08 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:12:08 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:12:08 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:12:08 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:12:08 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:12:08 DBG] Creating DbConnection.
[2025-03-06 14:12:08 DBG] Created DbConnection. (0ms).
[2025-03-06 14:12:08 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:12:08 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:08 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:12:08 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:12:08 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 14:12:08 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:12:08 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:08 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:08 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 121ms reading results.
[2025-03-06 14:12:08 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:08 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:12:08 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:12:08 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:12:08 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:12:08 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:12:08 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:12:08 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:12:08 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 298.9977ms
[2025-03-06 14:12:08 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:12:08 INF] HTTP GET /api/course responded 200 in 314.3282 ms
[2025-03-06 14:12:08 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:12:08 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:12:08 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:12:08 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 343.2784ms
[2025-03-06 14:12:19 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - null null
[2025-03-06 14:12:19 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 14:12:19 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:12:19 INF] Middleware: Handling OPTIONS request to /api/Topic/move
[2025-03-06 14:12:19 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:12:19 INF] CORS policy execution successful.
[2025-03-06 14:12:19 DBG] The request is a preflight request.
[2025-03-06 14:12:19 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - 204 null null 11.321ms
[2025-03-06 14:12:19 INF] Request starting HTTP/2 POST https://localhost:7238/api/Topic/move - application/json 29
[2025-03-06 14:12:19 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 14:12:19 DBG] Endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)' with route pattern 'api/Topic/move' is valid for the request path '/api/Topic/move'
[2025-03-06 14:12:19 DBG] Request matched endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:12:19 INF] Middleware: Handling POST request to /api/Topic/move
[2025-03-06 14:12:19 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:12:19 INF] CORS policy execution successful.
[2025-03-06 14:12:19 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:12:19 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:12:19 DBG] Successfully validated the token.
[2025-03-06 14:12:19 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:12:19 DBG] Authorization was successful.
[2025-03-06 14:12:19 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:12:19 INF] Executing endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:12:19 INF] Route matched with {action = "MoveTopic", controller = "Topic"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveTopic(LessonTree.Models.DTO.TopicMoveResource) on controller LessonTree.API.Controllers.TopicController (LessonTree.API).
[2025-03-06 14:12:19 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:12:19 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:12:19 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:12:19 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:12:19 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:12:19 DBG] Executing controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 14:12:19 DBG] Executed controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 14:12:19 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 14:12:19 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' using the name '' in request data ...
[2025-03-06 14:12:19 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 14:12:19 DBG] Connection id "0HNASS389UBRK", Request id "0HNASS389UBRK:0000000B": started reading request body.
[2025-03-06 14:12:19 DBG] Connection id "0HNASS389UBRK", Request id "0HNASS389UBRK:0000000B": done reading request body.
[2025-03-06 14:12:19 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.TopicMoveResource'
[2025-03-06 14:12:19 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:12:19 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:12:19 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 14:12:19 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:12:19 INF] Incoming request: POST /api/Topic/move, Query: , Body: 
[2025-03-06 14:12:19 DBG] Entering MoveTopic with Topic ID: 5, New Course ID: 1
[2025-03-06 14:12:19 DBG] Moving Topic ID: 5 to Course ID: 1
[2025-03-06 14:12:19 DBG] Retrieving topic by ID: 5
[2025-03-06 14:12:19 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:12:19 DBG] Compiling query expression: 
'DbSet<Topic>()
    .Include(t => t.SubTopics)
    .ThenInclude(s => s.Lessons)
    .FirstOrDefault(t => t.Id == __id_0)'
[2025-03-06 14:12:19 DBG] Including navigation: 'Topic.SubTopics'.
[2025-03-06 14:12:19 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-03-06 14:12:19 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-03-06 14:12:19 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CourseId (int) Required FK Index, 1], [Property: Topic.Description (string) Required, 2], [Property: Topic.Title (string) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SubTopic.Description (string), 5], [Property: SubTopic.Title (string) Required, 6], [Property: SubTopic.TopicId (int) Required FK Index, 7] }
            3 -> 4
            4 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Lesson.Content (string) Required, 9], [Property: Lesson.SubTopicId (int) Required FK Index, 10], [Property: Lesson.Title (string) Required, 11] }
            5 -> 8
        SELECT t0.Id, t0.CourseId, t0.Description, t0.Title, t1.Id, t1.Description, t1.Title, t1.TopicId, t1.Id0, t1.Content, t1.SubTopicId, t1.Title0
        FROM 
        (
            SELECT TOP(1) t.Id, t.CourseId, t.Description, t.Title
            FROM Topics AS t
            WHERE t.Id == @__id_0
        ) AS t0
        LEFT JOIN 
        (
            SELECT s.Id, s.Description, s.Title, s.TopicId, l.Id AS Id0, l.Content, l.SubTopicId, l.Title AS Title0
            FROM SubTopics AS s
            LEFT JOIN Lessons AS l ON s.Id == l.SubTopicId
        ) AS t1 ON t0.Id == t1.TopicId
        ORDER BY t0.Id ASC, t1.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 14:12:19 DBG] Creating DbConnection.
[2025-03-06 14:12:19 DBG] Created DbConnection. (2ms).
[2025-03-06 14:12:19 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:12:19 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:19 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:12:19 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 14:12:19 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:12:19 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 14:12:19 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:19 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 14ms reading results.
[2025-03-06 14:12:19 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:19 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:12:19 DBG] Compiling query expression: 
'DbSet<Course>()
    .FirstOrDefault(c => c.Id == __id_0)'
[2025-03-06 14:12:19 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Course>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Course.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Course.Description (string) Required, 1], [Property: Course.Title (string) Required, 2] }
        SELECT TOP(1) c.Id, c.Description, c.Title
        FROM Courses AS c
        WHERE c.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Course>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 14:12:19 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:12:19 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:19 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:12:19 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:12:19 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:12:19 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 14:12:19 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 14:12:19 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:19 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:20 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 14:12:20 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:20 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (7ms).
[2025-03-06 14:12:20 DBG] Updating topic: Biology
[2025-03-06 14:12:20 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:20 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 14:12:20 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 14:12:20 DBG] The foreign key property 'Topic.CourseId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 14:12:20 DBG] The navigation 'Topic.Course' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:20 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 14:12:20 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:12:20 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:20 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:12:20 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:12:20 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:12:20 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 14:12:20 INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 14:12:20 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:20 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 14:12:20 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:12:20 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:12:20 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:12:20 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 14:12:20 INF] Updated topic with ID: 5, Title: Biology
[2025-03-06 14:12:20 INF] Moved Topic ID: 5 to Course ID: 1
[2025-03-06 14:12:20 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 14:12:20 INF] Executed action LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API) in 322.2423ms
[2025-03-06 14:12:20 INF] Executed endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:12:20 INF] HTTP POST /api/Topic/move responded 200 in 344.3398 ms
[2025-03-06 14:12:20 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:12:20 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:12:20 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:12:20 INF] Request finished HTTP/2 POST https://localhost:7238/api/Topic/move - 200 0 null 371.1232ms
[2025-03-06 14:15:21 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:15:21 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:15:21 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:15:21 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:15:21 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:15:21 INF] CORS policy execution successful.
[2025-03-06 14:15:21 DBG] The request is a preflight request.
[2025-03-06 14:15:21 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 27.8572ms
[2025-03-06 14:15:21 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:15:21 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:15:21 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:15:21 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:15:21 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:15:21 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:15:21 INF] CORS policy execution successful.
[2025-03-06 14:15:21 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:15:21 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:15:21 DBG] Successfully validated the token.
[2025-03-06 14:15:21 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:15:21 DBG] Authorization was successful.
[2025-03-06 14:15:21 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:15:21 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:15:21 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:15:21 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:15:21 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:15:21 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:15:21 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:15:21 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:15:21 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:15:21 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:15:21 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:15:21 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:15:21 DBG] Creating DbConnection.
[2025-03-06 14:15:21 DBG] Created DbConnection. (0ms).
[2025-03-06 14:15:21 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:15:21 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:15:21 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:15:21 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:15:21 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:15:21 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:15:21 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:15:21 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:15:21 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 195ms reading results.
[2025-03-06 14:15:21 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:15:21 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:15:21 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:15:21 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:15:21 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:15:21 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:15:21 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:15:21 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:15:21 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 250.9889ms
[2025-03-06 14:15:21 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:15:21 INF] HTTP GET /api/course responded 200 in 270.6176 ms
[2025-03-06 14:15:21 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:15:21 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:15:21 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:15:21 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 305.3904ms
[2025-03-06 14:22:33 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:22:33 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:22:33 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:22:33 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:22:33 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:22:33 INF] CORS policy execution successful.
[2025-03-06 14:22:33 DBG] The request is a preflight request.
[2025-03-06 14:22:33 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 21.9812ms
[2025-03-06 14:22:33 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:22:33 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:22:33 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:22:33 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:22:33 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:22:33 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:22:33 INF] CORS policy execution successful.
[2025-03-06 14:22:33 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:22:33 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:22:33 DBG] Successfully validated the token.
[2025-03-06 14:22:33 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:22:33 DBG] Authorization was successful.
[2025-03-06 14:22:33 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:22:33 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:22:33 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:22:33 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:22:33 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:22:33 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:22:33 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:22:33 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:22:33 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:22:33 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:22:33 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:22:33 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:22:33 DBG] Creating DbConnection.
[2025-03-06 14:22:33 DBG] Created DbConnection. (2ms).
[2025-03-06 14:22:33 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:22:33 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:22:33 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:22:33 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:22:33 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 14:22:33 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:22:33 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:22:33 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:22:33 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 211ms reading results.
[2025-03-06 14:22:33 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:22:33 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 14:22:33 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:22:33 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:22:33 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:22:33 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:22:33 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:22:33 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:22:33 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 276.9376ms
[2025-03-06 14:22:33 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:22:33 INF] HTTP GET /api/course responded 200 in 297.3793 ms
[2025-03-06 14:22:33 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:22:33 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:22:33 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 14:22:33 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 329.9057ms
[2025-03-06 14:23:12 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:23:12 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:23:12 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:23:12 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:23:12 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:23:12 INF] CORS policy execution successful.
[2025-03-06 14:23:12 DBG] The request is a preflight request.
[2025-03-06 14:23:12 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 21.9184ms
[2025-03-06 14:23:12 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:23:12 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:23:12 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:23:12 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:23:12 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:23:12 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:23:12 INF] CORS policy execution successful.
[2025-03-06 14:23:12 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:23:12 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:23:12 DBG] Successfully validated the token.
[2025-03-06 14:23:12 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:23:12 DBG] Authorization was successful.
[2025-03-06 14:23:12 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:23:12 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:23:12 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:23:12 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:23:12 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:23:12 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:23:12 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:23:12 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:23:12 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:23:12 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:23:12 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:23:12 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:23:12 DBG] Creating DbConnection.
[2025-03-06 14:23:12 DBG] Created DbConnection. (1ms).
[2025-03-06 14:23:12 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:23:12 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:12 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:23:12 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:23:12 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:23:12 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:23:12 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:12 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:12 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 168ms reading results.
[2025-03-06 14:23:12 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:12 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:23:12 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:23:12 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:23:12 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:23:12 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:23:12 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:23:12 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:23:12 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 220.3025ms
[2025-03-06 14:23:12 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:23:12 INF] HTTP GET /api/course responded 200 in 237.9274 ms
[2025-03-06 14:23:12 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:23:12 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:23:12 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:23:12 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 264.4079ms
[2025-03-06 14:23:23 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - null null
[2025-03-06 14:23:23 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 14:23:23 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:23:23 INF] Middleware: Handling OPTIONS request to /api/Topic/move
[2025-03-06 14:23:23 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:23:23 INF] CORS policy execution successful.
[2025-03-06 14:23:23 DBG] The request is a preflight request.
[2025-03-06 14:23:23 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - 204 null null 12.7248ms
[2025-03-06 14:23:23 INF] Request starting HTTP/2 POST https://localhost:7238/api/Topic/move - application/json 29
[2025-03-06 14:23:23 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 14:23:23 DBG] Endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)' with route pattern 'api/Topic/move' is valid for the request path '/api/Topic/move'
[2025-03-06 14:23:23 DBG] Request matched endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:23:23 INF] Middleware: Handling POST request to /api/Topic/move
[2025-03-06 14:23:23 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:23:23 INF] CORS policy execution successful.
[2025-03-06 14:23:23 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:23:23 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:23:23 DBG] Successfully validated the token.
[2025-03-06 14:23:23 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:23:23 DBG] Authorization was successful.
[2025-03-06 14:23:23 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:23:23 INF] Executing endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:23:23 INF] Route matched with {action = "MoveTopic", controller = "Topic"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveTopic(LessonTree.Models.DTO.TopicMoveResource) on controller LessonTree.API.Controllers.TopicController (LessonTree.API).
[2025-03-06 14:23:23 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:23:23 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:23:23 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:23:23 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:23:23 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:23:23 DBG] Executing controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 14:23:23 DBG] Executed controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 14:23:23 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 14:23:23 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' using the name '' in request data ...
[2025-03-06 14:23:23 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 14:23:23 DBG] Connection id "0HNASS389UBRK", Request id "0HNASS389UBRK:0000001B": started reading request body.
[2025-03-06 14:23:23 DBG] Connection id "0HNASS389UBRK", Request id "0HNASS389UBRK:0000001B": done reading request body.
[2025-03-06 14:23:23 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.TopicMoveResource'
[2025-03-06 14:23:23 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:23:23 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:23:23 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 14:23:23 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:23:23 INF] Incoming request: POST /api/Topic/move, Query: , Body: 
[2025-03-06 14:23:23 DBG] Entering MoveTopic with Topic ID: 5, New Course ID: 2
[2025-03-06 14:23:23 DBG] Moving Topic ID: 5 to Course ID: 2
[2025-03-06 14:23:23 DBG] Retrieving topic by ID: 5
[2025-03-06 14:23:23 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:23:23 DBG] Creating DbConnection.
[2025-03-06 14:23:23 DBG] Created DbConnection. (0ms).
[2025-03-06 14:23:23 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:23:23 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 14:23:23 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:23:23 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 14:23:23 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 18ms reading results.
[2025-03-06 14:23:23 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:23:23 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:23:23 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:23:23 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 14:23:23 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 14:23:23 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 14:23:23 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 14:23:23 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 14:23:23 DBG] Updating topic: Biology
[2025-03-06 14:23:23 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 14:23:23 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 14:23:23 DBG] The foreign key property 'Topic.CourseId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 14:23:23 DBG] The navigation 'Topic.Course' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 14:23:23 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:23:23 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:23:23 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:23:23 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 14:23:23 INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 14:23:23 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 14:23:23 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:23:23 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:23:23 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 14:23:23 INF] Updated topic with ID: 5, Title: Biology
[2025-03-06 14:23:23 INF] Moved Topic ID: 5 to Course ID: 2
[2025-03-06 14:23:23 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 14:23:23 INF] Executed action LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API) in 127.182ms
[2025-03-06 14:23:23 INF] Executed endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:23:23 INF] HTTP POST /api/Topic/move responded 200 in 142.8129 ms
[2025-03-06 14:23:23 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:23:23 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:23:23 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:23:23 INF] Request finished HTTP/2 POST https://localhost:7238/api/Topic/move - 200 0 null 167.7799ms
[2025-03-06 14:28:13 DBG] Connection id "0HNASS389UBRK" received FIN.
[2025-03-06 14:28:13 DBG] Connection id "0HNASS389UBRK" is closed. The last processed stream ID was 27.
[2025-03-06 14:28:13 DBG] The connection queue processing loop for 0HNASS389UBRK completed.
[2025-03-06 14:28:13 DBG] Connection id "0HNASS389UBRK" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 14:28:13 DBG] Connection id "0HNASS389UBRK" stopped.
[2025-03-06 14:32:06 DBG] Connection id "0HNASS389UBRL" accepted.
[2025-03-06 14:32:06 DBG] Connection id "0HNASS389UBRL" started.
[2025-03-06 14:32:06 DBG] Connection 0HNASS389UBRL established using the following protocol: "Tls13"
[2025-03-06 14:32:06 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:32:06 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:32:06 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:32:06 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:32:06 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:32:06 INF] CORS policy execution successful.
[2025-03-06 14:32:06 DBG] The request is a preflight request.
[2025-03-06 14:32:06 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 24.8078ms
[2025-03-06 14:32:06 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:32:06 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:32:06 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:32:06 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:32:06 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:32:06 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:32:06 INF] CORS policy execution successful.
[2025-03-06 14:32:06 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:32:06 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:32:06 DBG] Successfully validated the token.
[2025-03-06 14:32:06 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:32:06 DBG] Authorization was successful.
[2025-03-06 14:32:06 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:32:06 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:32:06 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:32:06 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:32:06 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:32:06 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:32:06 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:32:06 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:32:06 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:32:06 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:32:06 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:32:06 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:32:06 DBG] Creating DbConnection.
[2025-03-06 14:32:06 DBG] Created DbConnection. (0ms).
[2025-03-06 14:32:06 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:32:06 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:32:06 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:32:06 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:32:06 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:32:06 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:32:06 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:06 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:32:06 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 115ms reading results.
[2025-03-06 14:32:06 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:32:06 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:32:06 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:32:06 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:32:06 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:32:06 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:32:06 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:32:06 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:32:06 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 161.5327ms
[2025-03-06 14:32:06 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:32:06 INF] HTTP GET /api/course responded 200 in 183.4697 ms
[2025-03-06 14:32:06 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:32:06 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:32:06 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:32:06 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 226.0379ms
[2025-03-06 14:32:45 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:32:45 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:32:45 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:32:45 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:32:45 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:32:45 INF] CORS policy execution successful.
[2025-03-06 14:32:45 DBG] The request is a preflight request.
[2025-03-06 14:32:45 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 17.6429ms
[2025-03-06 14:32:45 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:32:45 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:32:45 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:32:45 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:32:45 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:32:45 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:32:45 INF] CORS policy execution successful.
[2025-03-06 14:32:45 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:32:45 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:32:45 DBG] Successfully validated the token.
[2025-03-06 14:32:45 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:32:45 DBG] Authorization was successful.
[2025-03-06 14:32:45 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:32:45 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:32:45 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:32:45 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:32:45 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:32:45 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:32:45 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:32:45 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:32:45 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:32:45 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:32:45 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:32:45 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:32:45 DBG] Creating DbConnection.
[2025-03-06 14:32:45 DBG] Created DbConnection. (1ms).
[2025-03-06 14:32:45 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:32:45 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:32:45 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:32:45 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:32:45 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 14:32:45 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:32:45 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:45 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:32:45 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 173ms reading results.
[2025-03-06 14:32:45 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:32:45 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:32:45 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:32:45 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:32:45 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:32:45 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:32:45 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:32:45 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:32:45 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 286.5367ms
[2025-03-06 14:32:45 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:32:45 INF] HTTP GET /api/course responded 200 in 309.3300 ms
[2025-03-06 14:32:45 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:32:45 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:32:45 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:32:45 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 355.2254ms
[2025-03-06 14:32:59 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:32:59 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:32:59 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:32:59 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:32:59 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:32:59 INF] CORS policy execution successful.
[2025-03-06 14:32:59 DBG] The request is a preflight request.
[2025-03-06 14:32:59 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 14.32ms
[2025-03-06 14:32:59 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:32:59 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:32:59 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:32:59 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:32:59 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:32:59 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:32:59 INF] CORS policy execution successful.
[2025-03-06 14:32:59 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:32:59 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:32:59 DBG] Successfully validated the token.
[2025-03-06 14:32:59 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:32:59 DBG] Authorization was successful.
[2025-03-06 14:32:59 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:32:59 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:32:59 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:32:59 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:32:59 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:32:59 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:32:59 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:32:59 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:32:59 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:32:59 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:32:59 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:32:59 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:32:59 DBG] Creating DbConnection.
[2025-03-06 14:32:59 DBG] Created DbConnection. (3ms).
[2025-03-06 14:32:59 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:32:59 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:32:59 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:32:59 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:32:59 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:32:59 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:32:59 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:32:59 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:32:59 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 286ms reading results.
[2025-03-06 14:32:59 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:32:59 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 14:32:59 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:32:59 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:32:59 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:32:59 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:32:59 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:32:59 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:32:59 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 344.9552ms
[2025-03-06 14:32:59 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:32:59 INF] HTTP GET /api/course responded 200 in 385.1077 ms
[2025-03-06 14:32:59 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:32:59 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:32:59 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:32:59 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 435.3104ms
[2025-03-06 14:33:34 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:33:34 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:33:34 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:33:34 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:33:34 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:33:34 INF] CORS policy execution successful.
[2025-03-06 14:33:34 DBG] The request is a preflight request.
[2025-03-06 14:33:34 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 25.5519ms
[2025-03-06 14:33:34 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:33:34 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:33:34 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:33:34 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:33:34 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:33:34 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:33:34 INF] CORS policy execution successful.
[2025-03-06 14:33:34 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:33:34 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:33:34 DBG] Successfully validated the token.
[2025-03-06 14:33:34 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:33:34 DBG] Authorization was successful.
[2025-03-06 14:33:34 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:33:34 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:33:34 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:33:34 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:33:34 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:33:34 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:33:34 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:33:34 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:33:34 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:33:34 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:33:34 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:33:34 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:33:34 DBG] Creating DbConnection.
[2025-03-06 14:33:34 DBG] Created DbConnection. (1ms).
[2025-03-06 14:33:34 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:33:34 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:34 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:33:34 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:33:34 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:33:34 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:33:34 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:34 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:34 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 127ms reading results.
[2025-03-06 14:33:34 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:34 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:33:34 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:33:34 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:33:34 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:33:34 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:33:34 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:33:34 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:33:34 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 204.5379ms
[2025-03-06 14:33:34 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:33:34 INF] HTTP GET /api/course responded 200 in 242.7278 ms
[2025-03-06 14:33:34 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:33:34 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:33:34 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:33:34 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 270.2867ms
[2025-03-06 14:33:48 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - null null
[2025-03-06 14:33:48 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 14:33:48 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:33:48 INF] Middleware: Handling OPTIONS request to /api/Topic/move
[2025-03-06 14:33:48 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:33:48 INF] CORS policy execution successful.
[2025-03-06 14:33:48 DBG] The request is a preflight request.
[2025-03-06 14:33:48 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - 204 null null 10.2689ms
[2025-03-06 14:33:48 INF] Request starting HTTP/2 POST https://localhost:7238/api/Topic/move - application/json 29
[2025-03-06 14:33:48 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 14:33:48 DBG] Endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)' with route pattern 'api/Topic/move' is valid for the request path '/api/Topic/move'
[2025-03-06 14:33:48 DBG] Request matched endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:33:48 INF] Middleware: Handling POST request to /api/Topic/move
[2025-03-06 14:33:48 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:33:48 INF] CORS policy execution successful.
[2025-03-06 14:33:48 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:33:48 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:33:48 DBG] Successfully validated the token.
[2025-03-06 14:33:48 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:33:48 DBG] Authorization was successful.
[2025-03-06 14:33:48 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:33:48 INF] Executing endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:33:48 INF] Route matched with {action = "MoveTopic", controller = "Topic"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveTopic(LessonTree.Models.DTO.TopicMoveResource) on controller LessonTree.API.Controllers.TopicController (LessonTree.API).
[2025-03-06 14:33:48 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:33:48 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:33:48 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:33:48 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:33:48 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:33:48 DBG] Executing controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 14:33:48 DBG] Executed controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 14:33:48 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 14:33:48 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' using the name '' in request data ...
[2025-03-06 14:33:48 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 14:33:48 DBG] Connection id "0HNASS389UBRL", Request id "0HNASS389UBRL:00000013": started reading request body.
[2025-03-06 14:33:48 DBG] Connection id "0HNASS389UBRL", Request id "0HNASS389UBRL:00000013": done reading request body.
[2025-03-06 14:33:48 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.TopicMoveResource'
[2025-03-06 14:33:48 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:33:48 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:33:48 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 14:33:48 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:33:48 INF] Incoming request: POST /api/Topic/move, Query: , Body: 
[2025-03-06 14:33:48 DBG] Entering MoveTopic with Topic ID: 5, New Course ID: 1
[2025-03-06 14:33:48 DBG] Moving Topic ID: 5 to Course ID: 1
[2025-03-06 14:33:48 DBG] Retrieving topic by ID: 5
[2025-03-06 14:33:48 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:33:48 DBG] Creating DbConnection.
[2025-03-06 14:33:48 DBG] Created DbConnection. (0ms).
[2025-03-06 14:33:48 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:33:48 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:33:48 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:33:48 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 14:33:48 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 13ms reading results.
[2025-03-06 14:33:48 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:33:48 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:33:48 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 14:33:48 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:33:48 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 14:33:48 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 14:33:48 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 14:33:48 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:33:48 DBG] Updating topic: Biology
[2025-03-06 14:33:48 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 14:33:48 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 14:33:48 DBG] The foreign key property 'Topic.CourseId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 14:33:48 DBG] The navigation 'Topic.Course' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 14:33:48 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:33:48 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:33:48 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:33:48 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 14:33:48 INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 14:33:48 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 14:33:48 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:33:48 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:33:48 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 14:33:48 INF] Updated topic with ID: 5, Title: Biology
[2025-03-06 14:33:48 INF] Moved Topic ID: 5 to Course ID: 1
[2025-03-06 14:33:48 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 14:33:48 INF] Executed action LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API) in 115.9285ms
[2025-03-06 14:33:48 INF] Executed endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:33:48 INF] HTTP POST /api/Topic/move responded 200 in 132.5380 ms
[2025-03-06 14:33:48 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:33:48 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:33:48 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:33:48 INF] Request finished HTTP/2 POST https://localhost:7238/api/Topic/move - 200 0 null 157.2805ms
[2025-03-06 14:39:28 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:39:28 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:39:28 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:39:28 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:39:28 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:39:28 INF] CORS policy execution successful.
[2025-03-06 14:39:28 DBG] The request is a preflight request.
[2025-03-06 14:39:28 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 22.0734ms
[2025-03-06 14:39:28 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:39:28 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:39:28 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:39:28 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:39:28 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:39:28 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:39:28 INF] CORS policy execution successful.
[2025-03-06 14:39:28 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:39:28 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:39:28 DBG] Successfully validated the token.
[2025-03-06 14:39:28 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:39:28 DBG] Authorization was successful.
[2025-03-06 14:39:28 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:39:28 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:39:28 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:39:28 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:39:28 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:39:28 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:39:28 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:39:28 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:39:28 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:39:28 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:39:28 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:39:28 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:39:28 DBG] Creating DbConnection.
[2025-03-06 14:39:28 DBG] Created DbConnection. (3ms).
[2025-03-06 14:39:28 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:39:28 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:39:28 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:39:28 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 14:39:28 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:39:28 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:39:28 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:28 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:39:28 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 126ms reading results.
[2025-03-06 14:39:28 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:39:28 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:39:28 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:39:28 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:39:28 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:39:28 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:39:28 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:39:28 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:39:28 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 186.8881ms
[2025-03-06 14:39:28 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:39:28 INF] HTTP GET /api/course responded 200 in 210.6576 ms
[2025-03-06 14:39:28 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:39:28 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:39:28 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 14:39:28 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 249.9841ms
[2025-03-06 14:39:48 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:39:48 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:39:48 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:39:48 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:39:48 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:39:48 INF] CORS policy execution successful.
[2025-03-06 14:39:48 DBG] The request is a preflight request.
[2025-03-06 14:39:48 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 23.0059ms
[2025-03-06 14:39:48 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:39:48 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:39:48 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:39:48 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:39:48 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:39:48 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:39:48 INF] CORS policy execution successful.
[2025-03-06 14:39:48 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:39:48 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:39:48 DBG] Successfully validated the token.
[2025-03-06 14:39:48 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:39:48 DBG] Authorization was successful.
[2025-03-06 14:39:48 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:39:48 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:39:48 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:39:48 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:39:48 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:39:48 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:39:48 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:39:49 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:39:49 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:39:49 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:39:49 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:39:49 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:39:49 DBG] Creating DbConnection.
[2025-03-06 14:39:49 DBG] Created DbConnection. (2ms).
[2025-03-06 14:39:49 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:39:49 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:39:49 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:39:49 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:39:49 DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
[2025-03-06 14:39:49 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:39:49 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:39:49 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:39:49 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 293ms reading results.
[2025-03-06 14:39:49 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:39:49 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 14:39:49 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:39:49 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:39:49 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:39:49 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:39:49 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:39:49 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:39:49 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 411.4218ms
[2025-03-06 14:39:49 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:39:49 INF] HTTP GET /api/course responded 200 in 456.7615 ms
[2025-03-06 14:39:49 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:39:49 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:39:49 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 14:39:49 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 522.4615ms
[2025-03-06 14:40:07 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:40:07 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:40:07 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:40:07 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:40:07 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:40:07 INF] CORS policy execution successful.
[2025-03-06 14:40:07 DBG] The request is a preflight request.
[2025-03-06 14:40:07 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 18.8962ms
[2025-03-06 14:40:07 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:40:07 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:40:07 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:40:07 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:40:07 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:40:07 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:40:07 INF] CORS policy execution successful.
[2025-03-06 14:40:07 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:40:07 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:40:07 DBG] Successfully validated the token.
[2025-03-06 14:40:07 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:40:07 DBG] Authorization was successful.
[2025-03-06 14:40:07 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:40:07 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:40:07 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:40:07 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:40:07 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:40:07 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:40:07 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:40:07 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:40:07 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:40:07 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:40:07 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:40:07 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:40:07 DBG] Creating DbConnection.
[2025-03-06 14:40:07 DBG] Created DbConnection. (0ms).
[2025-03-06 14:40:07 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:40:07 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:07 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:40:07 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 14:40:07 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 14:40:07 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:40:07 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:07 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:07 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 180ms reading results.
[2025-03-06 14:40:07 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:07 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:40:07 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:40:07 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:40:07 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:40:07 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:40:07 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:40:07 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:40:07 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 228.6352ms
[2025-03-06 14:40:07 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:40:07 INF] HTTP GET /api/course responded 200 in 246.6381 ms
[2025-03-06 14:40:07 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:40:07 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:40:07 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:40:07 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 323.8519ms
[2025-03-06 14:40:32 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 14:40:32 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:40:32 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:40:32 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 14:40:32 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:40:32 INF] CORS policy execution successful.
[2025-03-06 14:40:32 DBG] The request is a preflight request.
[2025-03-06 14:40:32 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 17.0984ms
[2025-03-06 14:40:32 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 14:40:32 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 14:40:32 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 14:40:32 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:40:32 INF] Middleware: Handling GET request to /api/course
[2025-03-06 14:40:32 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:40:32 INF] CORS policy execution successful.
[2025-03-06 14:40:32 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:40:32 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:40:32 DBG] Successfully validated the token.
[2025-03-06 14:40:32 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:40:32 DBG] Authorization was successful.
[2025-03-06 14:40:32 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:40:32 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:40:32 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 14:40:32 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:40:32 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:40:32 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:40:32 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:40:32 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:40:32 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:40:32 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 14:40:32 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 14:40:32 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:40:32 DBG] Creating DbConnection.
[2025-03-06 14:40:32 DBG] Created DbConnection. (0ms).
[2025-03-06 14:40:32 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:40:32 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:32 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:40:32 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 14:40:32 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:40:32 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:40:32 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:32 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:32 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 128ms reading results.
[2025-03-06 14:40:32 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:32 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:40:32 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 14:40:32 DBG] No information found on request to perform content negotiation.
[2025-03-06 14:40:32 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 14:40:32 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 14:40:32 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 14:40:32 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 14:40:32 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 178.0751ms
[2025-03-06 14:40:32 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 14:40:32 INF] HTTP GET /api/course responded 200 in 196.2630 ms
[2025-03-06 14:40:32 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:40:32 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:40:32 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:40:32 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 228.2317ms
[2025-03-06 14:40:43 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - null null
[2025-03-06 14:40:43 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 14:40:43 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 14:40:43 INF] Middleware: Handling OPTIONS request to /api/Topic/move
[2025-03-06 14:40:43 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:40:43 INF] CORS policy execution successful.
[2025-03-06 14:40:43 DBG] The request is a preflight request.
[2025-03-06 14:40:43 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - 204 null null 10.2921ms
[2025-03-06 14:40:43 INF] Request starting HTTP/2 POST https://localhost:7238/api/Topic/move - application/json 29
[2025-03-06 14:40:43 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 14:40:43 DBG] Endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)' with route pattern 'api/Topic/move' is valid for the request path '/api/Topic/move'
[2025-03-06 14:40:43 DBG] Request matched endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:40:43 INF] Middleware: Handling POST request to /api/Topic/move
[2025-03-06 14:40:43 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 14:40:43 INF] CORS policy execution successful.
[2025-03-06 14:40:43 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 14:40:43 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 14:40:43 DBG] Successfully validated the token.
[2025-03-06 14:40:43 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 14:40:43 DBG] Authorization was successful.
[2025-03-06 14:40:43 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 14:40:43 INF] Executing endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:40:43 INF] Route matched with {action = "MoveTopic", controller = "Topic"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveTopic(LessonTree.Models.DTO.TopicMoveResource) on controller LessonTree.API.Controllers.TopicController (LessonTree.API).
[2025-03-06 14:40:43 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 14:40:43 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 14:40:43 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 14:40:43 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 14:40:43 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 14:40:43 DBG] Executing controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 14:40:43 DBG] Executed controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 14:40:43 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 14:40:43 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' using the name '' in request data ...
[2025-03-06 14:40:43 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 14:40:43 DBG] Connection id "0HNASS389UBRL", Request id "0HNASS389UBRL:00000027": started reading request body.
[2025-03-06 14:40:43 DBG] Connection id "0HNASS389UBRL", Request id "0HNASS389UBRL:00000027": done reading request body.
[2025-03-06 14:40:43 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.TopicMoveResource'
[2025-03-06 14:40:43 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:40:43 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:40:43 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 14:40:43 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 14:40:43 INF] Incoming request: POST /api/Topic/move, Query: , Body: 
[2025-03-06 14:40:43 DBG] Entering MoveTopic with Topic ID: 5, New Course ID: 2
[2025-03-06 14:40:43 DBG] Moving Topic ID: 5 to Course ID: 2
[2025-03-06 14:40:43 DBG] Retrieving topic by ID: 5
[2025-03-06 14:40:43 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 14:40:43 DBG] Creating DbConnection.
[2025-03-06 14:40:43 DBG] Created DbConnection. (0ms).
[2025-03-06 14:40:43 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:40:43 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 14:40:43 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:40:43 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 14:40:43 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 16ms reading results.
[2025-03-06 14:40:43 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:40:43 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:40:43 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 14:40:43 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:40:43 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 14:40:43 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 14:40:43 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 14:40:43 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:40:43 DBG] Updating topic: Biology
[2025-03-06 14:40:43 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 14:40:43 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 14:40:43 DBG] The foreign key property 'Topic.CourseId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 14:40:43 DBG] The navigation 'Topic.Course' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 14:40:43 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 14:40:43 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 14:40:43 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 14:40:43 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 14:40:43 INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 14:40:43 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 14:40:43 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 14:40:43 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 14:40:43 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 14:40:43 INF] Updated topic with ID: 5, Title: Biology
[2025-03-06 14:40:43 INF] Moved Topic ID: 5 to Course ID: 2
[2025-03-06 14:40:43 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 14:40:43 INF] Executed action LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API) in 115.0907ms
[2025-03-06 14:40:43 INF] Executed endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 14:40:43 INF] HTTP POST /api/Topic/move responded 200 in 129.1218 ms
[2025-03-06 14:40:43 DBG] 'LessonTreeContext' disposed.
[2025-03-06 14:40:43 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 14:40:43 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 14:40:43 INF] Request finished HTTP/2 POST https://localhost:7238/api/Topic/move - 200 0 null 154.1524ms
[2025-03-06 14:58:12 DBG] Connection id "0HNASS389UBRL" received FIN.
[2025-03-06 14:58:12 DBG] Connection id "0HNASS389UBRL" is closed. The last processed stream ID was 39.
[2025-03-06 14:58:12 DBG] The connection queue processing loop for 0HNASS389UBRL completed.
[2025-03-06 14:58:12 DBG] Connection id "0HNASS389UBRL" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 14:58:13 DBG] Connection id "0HNASS389UBRL" stopped.
[2025-03-06 15:35:02 DBG] Connection id "0HNASS389UBRM" accepted.
[2025-03-06 15:35:02 DBG] Connection id "0HNASS389UBRM" started.
[2025-03-06 15:35:02 DBG] Connection 0HNASS389UBRM established using the following protocol: "Tls13"
[2025-03-06 15:35:02 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 15:35:02 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:35:02 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:35:02 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 15:35:02 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:35:02 INF] CORS policy execution successful.
[2025-03-06 15:35:02 DBG] The request is a preflight request.
[2025-03-06 15:35:02 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 15.3135ms
[2025-03-06 15:35:02 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 15:35:02 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:35:02 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 15:35:02 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:35:02 INF] Middleware: Handling GET request to /api/course
[2025-03-06 15:35:02 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:35:02 INF] CORS policy execution successful.
[2025-03-06 15:35:02 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:35:02 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:35:02 DBG] Successfully validated the token.
[2025-03-06 15:35:02 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:35:02 DBG] Authorization was successful.
[2025-03-06 15:35:02 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:35:02 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:35:02 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 15:35:02 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:35:02 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:35:02 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:35:02 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:35:02 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:35:02 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:35:02 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:35:02 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 15:35:02 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:35:02 DBG] Creating DbConnection.
[2025-03-06 15:35:02 DBG] Created DbConnection. (0ms).
[2025-03-06 15:35:02 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:35:02 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:35:02 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:35:02 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 15:35:02 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:35:02 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:35:02 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:02 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:35:03 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:35:03 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 131ms reading results.
[2025-03-06 15:35:03 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:35:03 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:35:03 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 15:35:03 DBG] No information found on request to perform content negotiation.
[2025-03-06 15:35:03 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 15:35:03 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 15:35:03 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 15:35:03 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 15:35:03 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 187.4976ms
[2025-03-06 15:35:03 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:35:03 INF] HTTP GET /api/course responded 200 in 205.0020 ms
[2025-03-06 15:35:03 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:35:03 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:35:03 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:35:03 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 232.4645ms
[2025-03-06 15:36:32 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 15:36:33 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:36:33 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:36:33 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 15:36:33 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:36:33 INF] CORS policy execution successful.
[2025-03-06 15:36:33 DBG] The request is a preflight request.
[2025-03-06 15:36:33 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 37.1213ms
[2025-03-06 15:36:33 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 15:36:33 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:36:33 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 15:36:33 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:36:33 INF] Middleware: Handling GET request to /api/course
[2025-03-06 15:36:33 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:36:33 INF] CORS policy execution successful.
[2025-03-06 15:36:33 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:36:33 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:36:33 DBG] Successfully validated the token.
[2025-03-06 15:36:33 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:36:33 DBG] Authorization was successful.
[2025-03-06 15:36:33 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:36:33 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:36:33 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 15:36:33 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:36:33 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:36:33 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:36:33 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:36:33 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:36:33 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:36:33 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:36:33 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 15:36:33 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:36:33 DBG] Creating DbConnection.
[2025-03-06 15:36:33 DBG] Created DbConnection. (0ms).
[2025-03-06 15:36:33 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:36:33 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:36:33 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:36:33 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:36:33 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:36:33 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:36:33 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:36:33 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:36:33 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 186ms reading results.
[2025-03-06 15:36:33 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:36:33 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 15:36:33 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 15:36:33 DBG] No information found on request to perform content negotiation.
[2025-03-06 15:36:33 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 15:36:33 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 15:36:33 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 15:36:33 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 15:36:33 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 239.4387ms
[2025-03-06 15:36:33 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:36:33 INF] HTTP GET /api/course responded 200 in 257.8337 ms
[2025-03-06 15:36:33 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:36:33 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:36:33 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:36:33 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 287.5419ms
[2025-03-06 15:37:06 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 15:37:06 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:37:06 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:37:06 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 15:37:06 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:37:06 INF] CORS policy execution successful.
[2025-03-06 15:37:07 DBG] The request is a preflight request.
[2025-03-06 15:37:07 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 38.1116ms
[2025-03-06 15:37:07 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 15:37:07 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:37:07 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 15:37:07 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:37:07 INF] Middleware: Handling GET request to /api/course
[2025-03-06 15:37:07 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:37:07 INF] CORS policy execution successful.
[2025-03-06 15:37:07 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:37:07 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:37:07 DBG] Successfully validated the token.
[2025-03-06 15:37:07 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:37:07 DBG] Authorization was successful.
[2025-03-06 15:37:07 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:37:07 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:37:07 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 15:37:07 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:37:07 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:37:07 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:37:07 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:37:07 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:37:07 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:37:07 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:37:07 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 15:37:07 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:37:07 DBG] Creating DbConnection.
[2025-03-06 15:37:07 DBG] Created DbConnection. (3ms).
[2025-03-06 15:37:07 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:37:07 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:07 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:37:07 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:37:07 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 15:37:07 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:37:07 INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:07 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:07 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 308ms reading results.
[2025-03-06 15:37:07 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:07 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 15:37:07 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 15:37:07 DBG] No information found on request to perform content negotiation.
[2025-03-06 15:37:07 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 15:37:07 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 15:37:07 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 15:37:07 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 15:37:07 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 399.2093ms
[2025-03-06 15:37:07 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:37:07 INF] HTTP GET /api/course responded 200 in 446.1435 ms
[2025-03-06 15:37:07 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:37:07 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:37:07 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 15:37:07 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 512.5823ms
[2025-03-06 15:37:14 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - null null
[2025-03-06 15:37:14 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 15:37:14 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:37:14 INF] Middleware: Handling OPTIONS request to /api/Topic/move
[2025-03-06 15:37:14 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:37:14 INF] CORS policy execution successful.
[2025-03-06 15:37:14 DBG] The request is a preflight request.
[2025-03-06 15:37:14 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - 204 null null 9.6218ms
[2025-03-06 15:37:14 INF] Request starting HTTP/2 POST https://localhost:7238/api/Topic/move - application/json 29
[2025-03-06 15:37:14 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 15:37:14 DBG] Endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)' with route pattern 'api/Topic/move' is valid for the request path '/api/Topic/move'
[2025-03-06 15:37:14 DBG] Request matched endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 15:37:14 INF] Middleware: Handling POST request to /api/Topic/move
[2025-03-06 15:37:14 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:37:14 INF] CORS policy execution successful.
[2025-03-06 15:37:14 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:37:14 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:37:14 DBG] Successfully validated the token.
[2025-03-06 15:37:14 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:37:14 DBG] Authorization was successful.
[2025-03-06 15:37:14 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:37:14 INF] Executing endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 15:37:14 INF] Route matched with {action = "MoveTopic", controller = "Topic"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveTopic(LessonTree.Models.DTO.TopicMoveResource) on controller LessonTree.API.Controllers.TopicController (LessonTree.API).
[2025-03-06 15:37:14 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:37:14 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:37:14 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:37:14 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:37:14 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:37:14 DBG] Executing controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 15:37:14 DBG] Executed controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 15:37:14 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 15:37:14 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' using the name '' in request data ...
[2025-03-06 15:37:14 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 15:37:14 DBG] Connection id "0HNASS389UBRM", Request id "0HNASS389UBRM:0000000F": started reading request body.
[2025-03-06 15:37:14 DBG] Connection id "0HNASS389UBRM", Request id "0HNASS389UBRM:0000000F": done reading request body.
[2025-03-06 15:37:15 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.TopicMoveResource'
[2025-03-06 15:37:15 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 15:37:15 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 15:37:15 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 15:37:15 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 15:37:15 INF] Incoming request: POST /api/Topic/move, Query: , Body: 
[2025-03-06 15:37:15 DBG] Entering MoveTopic with Topic ID: 5, New Course ID: 1
[2025-03-06 15:37:15 DBG] Moving Topic ID: 5 to Course ID: 1
[2025-03-06 15:37:15 DBG] Retrieving topic by ID: 5
[2025-03-06 15:37:15 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:37:15 DBG] Creating DbConnection.
[2025-03-06 15:37:15 DBG] Created DbConnection. (0ms).
[2025-03-06 15:37:15 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:37:15 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:37:15 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:37:15 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 15:37:15 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 17ms reading results.
[2025-03-06 15:37:15 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:37:15 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:37:15 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 15:37:15 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:37:15 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 15:37:15 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 15:37:15 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 15:37:15 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:37:15 DBG] Updating topic: Biology
[2025-03-06 15:37:15 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 15:37:15 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 15:37:15 DBG] The foreign key property 'Topic.CourseId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 15:37:15 DBG] The navigation 'Topic.Course' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 15:37:15 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:37:15 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 15:37:15 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:37:15 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 15:37:15 INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 15:37:15 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 15:37:15 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:37:15 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:37:15 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 15:37:15 INF] Updated topic with ID: 5, Title: Biology
[2025-03-06 15:37:15 INF] Moved Topic ID: 5 to Course ID: 1
[2025-03-06 15:37:15 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 15:37:15 INF] Executed action LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API) in 116.2764ms
[2025-03-06 15:37:15 INF] Executed endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 15:37:15 INF] HTTP POST /api/Topic/move responded 200 in 131.7475 ms
[2025-03-06 15:37:15 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:37:15 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:37:15 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:37:15 INF] Request finished HTTP/2 POST https://localhost:7238/api/Topic/move - 200 0 null 157.0765ms
[2025-03-06 15:48:19 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 15:48:19 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:48:19 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:48:19 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 15:48:19 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:48:19 INF] CORS policy execution successful.
[2025-03-06 15:48:19 DBG] The request is a preflight request.
[2025-03-06 15:48:19 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 50.8856ms
[2025-03-06 15:48:19 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 15:48:19 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:48:19 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 15:48:19 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:48:19 INF] Middleware: Handling GET request to /api/course
[2025-03-06 15:48:19 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:48:19 INF] CORS policy execution successful.
[2025-03-06 15:48:19 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:48:19 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:48:19 DBG] Successfully validated the token.
[2025-03-06 15:48:19 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:48:19 DBG] Authorization was successful.
[2025-03-06 15:48:19 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:48:19 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:48:19 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 15:48:19 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:48:19 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:48:19 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:48:19 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:48:19 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:48:19 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:48:19 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:48:19 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 15:48:19 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:48:19 DBG] Creating DbConnection.
[2025-03-06 15:48:19 DBG] Created DbConnection. (1ms).
[2025-03-06 15:48:19 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:48:19 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:19 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:48:19 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:48:19 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 15:48:19 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:48:19 INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:19 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:20 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:20 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 257ms reading results.
[2025-03-06 15:48:20 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:20 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 15:48:20 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 15:48:20 DBG] No information found on request to perform content negotiation.
[2025-03-06 15:48:20 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 15:48:20 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 15:48:20 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 15:48:20 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 15:48:20 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 383.3305ms
[2025-03-06 15:48:20 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:48:20 INF] HTTP GET /api/course responded 200 in 420.7263 ms
[2025-03-06 15:48:20 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:48:20 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:48:20 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (5ms).
[2025-03-06 15:48:20 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 496.458ms
[2025-03-06 15:48:29 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - null null
[2025-03-06 15:48:29 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 15:48:29 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:48:29 INF] Middleware: Handling OPTIONS request to /api/Topic/move
[2025-03-06 15:48:29 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:48:29 INF] CORS policy execution successful.
[2025-03-06 15:48:29 DBG] The request is a preflight request.
[2025-03-06 15:48:29 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - 204 null null 13.1354ms
[2025-03-06 15:48:29 INF] Request starting HTTP/2 POST https://localhost:7238/api/Topic/move - application/json 29
[2025-03-06 15:48:29 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 15:48:29 DBG] Endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)' with route pattern 'api/Topic/move' is valid for the request path '/api/Topic/move'
[2025-03-06 15:48:29 DBG] Request matched endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 15:48:29 INF] Middleware: Handling POST request to /api/Topic/move
[2025-03-06 15:48:29 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:48:29 INF] CORS policy execution successful.
[2025-03-06 15:48:29 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:48:29 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:48:29 DBG] Successfully validated the token.
[2025-03-06 15:48:29 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:48:29 DBG] Authorization was successful.
[2025-03-06 15:48:29 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:48:29 INF] Executing endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 15:48:29 INF] Route matched with {action = "MoveTopic", controller = "Topic"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveTopic(LessonTree.Models.DTO.TopicMoveResource) on controller LessonTree.API.Controllers.TopicController (LessonTree.API).
[2025-03-06 15:48:29 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:48:29 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:48:29 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:48:29 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:48:29 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:48:29 DBG] Executing controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 15:48:29 DBG] Executed controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 15:48:29 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 15:48:29 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' using the name '' in request data ...
[2025-03-06 15:48:29 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 15:48:29 DBG] Connection id "0HNASS389UBRM", Request id "0HNASS389UBRM:00000017": started reading request body.
[2025-03-06 15:48:29 DBG] Connection id "0HNASS389UBRM", Request id "0HNASS389UBRM:00000017": done reading request body.
[2025-03-06 15:48:29 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.TopicMoveResource'
[2025-03-06 15:48:29 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 15:48:29 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 15:48:29 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 15:48:29 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 15:48:29 INF] Incoming request: POST /api/Topic/move, Query: , Body: 
[2025-03-06 15:48:29 DBG] Entering MoveTopic with Topic ID: 5, New Course ID: 2
[2025-03-06 15:48:29 DBG] Moving Topic ID: 5 to Course ID: 2
[2025-03-06 15:48:29 DBG] Retrieving topic by ID: 5
[2025-03-06 15:48:29 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:48:29 DBG] Creating DbConnection.
[2025-03-06 15:48:29 DBG] Created DbConnection. (0ms).
[2025-03-06 15:48:29 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:48:29 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:48:29 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:48:29 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 15:48:29 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 15ms reading results.
[2025-03-06 15:48:29 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:48:29 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:48:29 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:48:29 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:48:29 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 15:48:29 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 15:48:29 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 15:48:29 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:48:29 DBG] Updating topic: Biology
[2025-03-06 15:48:29 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 15:48:29 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 15:48:29 DBG] The foreign key property 'Topic.CourseId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 15:48:29 DBG] The navigation 'Topic.Course' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 15:48:29 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:48:29 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 15:48:29 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:48:29 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 15:48:29 INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 26), @p2='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 15:48:29 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 15:48:29 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:48:29 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:48:29 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 15:48:29 INF] Updated topic with ID: 5, Title: Biology
[2025-03-06 15:48:29 INF] Moved Topic ID: 5 to Course ID: 2
[2025-03-06 15:48:29 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 15:48:29 INF] Executed action LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API) in 113.8399ms
[2025-03-06 15:48:29 INF] Executed endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 15:48:29 INF] HTTP POST /api/Topic/move responded 200 in 127.2778 ms
[2025-03-06 15:48:29 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:48:29 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:48:29 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:48:29 INF] Request finished HTTP/2 POST https://localhost:7238/api/Topic/move - 200 0 null 152.2032ms
[2025-03-06 15:50:44 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 15:50:44 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:50:44 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:50:44 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 15:50:44 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:50:44 INF] CORS policy execution successful.
[2025-03-06 15:50:44 DBG] The request is a preflight request.
[2025-03-06 15:50:44 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 18.3746ms
[2025-03-06 15:50:44 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 15:50:44 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:50:44 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 15:50:44 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:50:44 INF] Middleware: Handling GET request to /api/course
[2025-03-06 15:50:44 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:50:44 INF] CORS policy execution successful.
[2025-03-06 15:50:44 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:50:44 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:50:44 DBG] Successfully validated the token.
[2025-03-06 15:50:44 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:50:44 DBG] Authorization was successful.
[2025-03-06 15:50:44 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:50:44 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:50:44 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 15:50:44 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:50:44 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:50:44 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:50:44 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:50:44 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:50:44 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:50:44 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:50:44 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 15:50:44 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:50:44 DBG] Creating DbConnection.
[2025-03-06 15:50:44 DBG] Created DbConnection. (2ms).
[2025-03-06 15:50:44 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:50:44 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:50:44 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:50:44 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:50:44 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:50:44 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:50:44 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:44 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:50:44 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 242ms reading results.
[2025-03-06 15:50:44 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:50:44 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:50:44 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 15:50:44 DBG] No information found on request to perform content negotiation.
[2025-03-06 15:50:44 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 15:50:44 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 15:50:44 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 15:50:44 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 15:50:44 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 306.5876ms
[2025-03-06 15:50:44 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:50:44 INF] HTTP GET /api/course responded 200 in 325.7704 ms
[2025-03-06 15:50:44 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:50:44 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:50:44 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:50:44 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 364.6156ms
[2025-03-06 15:50:57 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 15:50:57 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:50:57 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:50:57 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 15:50:57 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:50:57 INF] CORS policy execution successful.
[2025-03-06 15:50:57 DBG] The request is a preflight request.
[2025-03-06 15:50:57 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 23.4796ms
[2025-03-06 15:50:57 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 15:50:57 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:50:57 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 15:50:57 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:50:57 INF] Middleware: Handling GET request to /api/course
[2025-03-06 15:50:57 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:50:57 INF] CORS policy execution successful.
[2025-03-06 15:50:57 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:50:57 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:50:57 DBG] Successfully validated the token.
[2025-03-06 15:50:57 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:50:57 DBG] Authorization was successful.
[2025-03-06 15:50:57 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:50:57 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:50:57 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 15:50:57 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:50:57 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:50:57 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:50:57 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:50:57 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:50:57 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:50:57 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:50:57 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 15:50:57 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:50:57 DBG] Creating DbConnection.
[2025-03-06 15:50:57 DBG] Created DbConnection. (0ms).
[2025-03-06 15:50:57 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:50:57 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:50:57 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:50:57 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:50:57 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:50:57 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:50:57 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:50:57 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:50:57 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 252ms reading results.
[2025-03-06 15:50:57 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:50:57 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:50:57 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 15:50:57 DBG] No information found on request to perform content negotiation.
[2025-03-06 15:50:57 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 15:50:57 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 15:50:57 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 15:50:57 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 15:50:57 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 301.044ms
[2025-03-06 15:50:57 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:50:57 INF] HTTP GET /api/course responded 200 in 320.1223 ms
[2025-03-06 15:50:57 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:50:57 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:50:57 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:50:57 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 362.4783ms
[2025-03-06 15:51:01 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 15:51:01 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:51:01 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 15:51:01 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:51:01 INF] Middleware: Handling GET request to /api/course
[2025-03-06 15:51:01 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:51:01 INF] CORS policy execution successful.
[2025-03-06 15:51:01 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:51:01 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:51:01 DBG] Successfully validated the token.
[2025-03-06 15:51:01 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:51:01 DBG] Authorization was successful.
[2025-03-06 15:51:01 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:51:01 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:51:01 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 15:51:01 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:51:01 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:51:01 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:51:01 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:51:01 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:51:01 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:51:01 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:51:01 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 15:51:01 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:51:01 DBG] Creating DbConnection.
[2025-03-06 15:51:01 DBG] Created DbConnection. (1ms).
[2025-03-06 15:51:01 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:51:01 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:51:01 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:51:01 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:51:01 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 15:51:01 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:51:01 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:51:01 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:51:01 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 160ms reading results.
[2025-03-06 15:51:01 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:51:01 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:51:01 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 15:51:01 DBG] No information found on request to perform content negotiation.
[2025-03-06 15:51:01 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 15:51:01 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 15:51:01 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 15:51:01 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 15:51:01 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 210.2313ms
[2025-03-06 15:51:01 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:51:01 INF] HTTP GET /api/course responded 200 in 227.4710 ms
[2025-03-06 15:51:01 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:51:01 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:51:01 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 15:51:01 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 256.6701ms
[2025-03-06 15:55:12 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 15:55:12 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:55:12 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:55:12 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 15:55:12 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:55:12 INF] CORS policy execution successful.
[2025-03-06 15:55:12 DBG] The request is a preflight request.
[2025-03-06 15:55:12 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 16.3461ms
[2025-03-06 15:55:12 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 15:55:12 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 15:55:12 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 15:55:12 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:55:12 INF] Middleware: Handling GET request to /api/course
[2025-03-06 15:55:12 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:55:12 INF] CORS policy execution successful.
[2025-03-06 15:55:12 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:55:12 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:55:12 DBG] Successfully validated the token.
[2025-03-06 15:55:12 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:55:12 DBG] Authorization was successful.
[2025-03-06 15:55:12 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:55:12 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:55:12 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 15:55:12 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:55:12 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:55:12 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:55:12 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:55:12 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:55:12 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:55:12 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 15:55:12 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 15:55:12 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:55:12 DBG] Creating DbConnection.
[2025-03-06 15:55:12 DBG] Created DbConnection. (0ms).
[2025-03-06 15:55:12 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:55:12 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:12 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:55:12 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:55:12 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:55:12 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:55:12 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:12 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:12 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 153ms reading results.
[2025-03-06 15:55:12 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:12 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:55:12 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 15:55:12 DBG] No information found on request to perform content negotiation.
[2025-03-06 15:55:12 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 15:55:12 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 15:55:12 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 15:55:12 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 15:55:12 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 210.0663ms
[2025-03-06 15:55:12 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 15:55:12 INF] HTTP GET /api/course responded 200 in 230.1612 ms
[2025-03-06 15:55:12 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:55:12 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:55:12 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:55:12 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 256.8141ms
[2025-03-06 15:55:31 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 15:55:31 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 15:55:31 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 15:55:31 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 15:55:31 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:55:31 INF] CORS policy execution successful.
[2025-03-06 15:55:31 DBG] The request is a preflight request.
[2025-03-06 15:55:31 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 10.4481ms
[2025-03-06 15:55:31 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 33
[2025-03-06 15:55:31 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 15:55:31 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 15:55:31 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 15:55:31 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 15:55:31 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 15:55:31 INF] CORS policy execution successful.
[2025-03-06 15:55:31 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 15:55:31 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 15:55:31 DBG] Successfully validated the token.
[2025-03-06 15:55:31 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 15:55:31 DBG] Authorization was successful.
[2025-03-06 15:55:31 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 15:55:31 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 15:55:31 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 15:55:31 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 15:55:31 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 15:55:31 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 15:55:31 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 15:55:31 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 15:55:31 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 15:55:31 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 15:55:31 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 15:55:31 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 15:55:31 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 15:55:31 DBG] Connection id "0HNASS389UBRM", Request id "0HNASS389UBRM:00000029": started reading request body.
[2025-03-06 15:55:31 DBG] Connection id "0HNASS389UBRM", Request id "0HNASS389UBRM:00000029": done reading request body.
[2025-03-06 15:55:31 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 15:55:31 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 15:55:31 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 15:55:31 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 15:55:31 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 15:55:31 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 15:55:31 DBG] Entering MoveLesson with Lesson ID: 31, New SubTopic ID: 7
[2025-03-06 15:55:31 DBG] Moving Lesson ID: 31 to SubTopic ID: 7
[2025-03-06 15:55:31 DBG] Retrieving lesson by ID: 31
[2025-03-06 15:55:31 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 15:55:31 DBG] Compiling query expression: 
'DbSet<Lesson>()
    .Include(l => l.SubTopic)
    .FirstOrDefault(l => l.Id == __id_0)'
[2025-03-06 15:55:31 DBG] Including navigation: 'Lesson.SubTopic'.
[2025-03-06 15:55:31 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Lesson>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Lesson.Content (string) Required, 1], [Property: Lesson.SubTopicId (int) Required FK Index, 2], [Property: Lesson.Title (string) Required, 3] }
            1 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SubTopic.Description (string), 5], [Property: SubTopic.Title (string) Required, 6], [Property: SubTopic.TopicId (int) Required FK Index, 7] }
        SELECT TOP(1) l.Id, l.Content, l.SubTopicId, l.Title, s.Id, s.Description, s.Title, s.TopicId
        FROM Lessons AS l
        INNER JOIN SubTopics AS s ON l.SubTopicId == s.Id
        WHERE l.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Lesson>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 15:55:31 DBG] Creating DbConnection.
[2025-03-06 15:55:31 DBG] Created DbConnection. (0ms).
[2025-03-06 15:55:31 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:55:31 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:55:31 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:55:31 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 15:55:31 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 15:55:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:31 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:31 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:31 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 6ms reading results.
[2025-03-06 15:55:31 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:55:31 DBG] Retrieving subtopic by ID: 7
[2025-03-06 15:55:31 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .FirstOrDefault(st => st.Id == __id_0)'
[2025-03-06 15:55:31 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubTopic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Description (string), 1], [Property: SubTopic.Title (string) Required, 2], [Property: SubTopic.TopicId (int) Required FK Index, 3] }
        SELECT TOP(1) s.Id, s.Description, s.Title, s.TopicId
        FROM SubTopics AS s
        WHERE s.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 15:55:31 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:55:31 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 15:55:31 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:55:31 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 15:55:31 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 15:55:31 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:31 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 15:55:31 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:55:31 DBG] Updating lesson in database: Periodic Table
[2025-03-06 15:55:31 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:31 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 15:55:31 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 15:55:31 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 15:55:31 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:31 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 15:55:31 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 15:55:31 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 15:55:31 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 15:55:31 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 23), @p1='?' (DbType = Int32), @p2='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 15:55:31 INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 23), @p1='?' (DbType = Int32), @p2='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 15:55:31 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 15:55:31 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:55:31 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 15:55:31 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 15:55:31 INF] Moved Lesson ID: 31 to SubTopic ID: 7
[2025-03-06 15:55:31 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 15:55:31 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 150.6463ms
[2025-03-06 15:55:31 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 15:55:31 INF] HTTP POST /api/Lesson/move responded 200 in 169.0596 ms
[2025-03-06 15:55:31 DBG] 'LessonTreeContext' disposed.
[2025-03-06 15:55:31 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 15:55:31 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 15:55:31 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 193.7214ms
[2025-03-06 15:58:12 DBG] Connection id "0HNASS389UBRM" received FIN.
[2025-03-06 15:58:12 DBG] Connection id "0HNASS389UBRM" is closed. The last processed stream ID was 41.
[2025-03-06 15:58:12 DBG] The connection queue processing loop for 0HNASS389UBRM completed.
[2025-03-06 15:58:12 DBG] Connection id "0HNASS389UBRM" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 15:58:12 DBG] Connection id "0HNASS389UBRM" stopped.
[2025-03-06 16:23:51 INF] Starting application with logs directory: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\logs
[2025-03-06 16:23:51 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[2025-03-06 16:23:51 WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
[2025-03-06 16:23:51 INF] User profile is available. Using 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-03-06 16:23:51 INF] Applying migrations to LessonTree.db...
[2025-03-06 16:23:51 DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2025-03-06 16:23:51 DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
[2025-03-06 16:23:51 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 16:23:51 DBG] Creating DbConnection.
[2025-03-06 16:23:51 DBG] Created DbConnection. (3ms).
[2025-03-06 16:23:51 DBG] Migrating using database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Creating DbConnection.
[2025-03-06 16:23:51 DBG] Created DbConnection. (0ms).
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:23:51 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 16:23:51 DBG] Created DbCommand for 'ExecuteScalar' (2ms).
[2025-03-06 16:23:51 DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 16:23:51 INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 16:23:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:23:51 DBG] Creating DbConnection.
[2025-03-06 16:23:51 DBG] Created DbConnection. (0ms).
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:23:51 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 16:23:51 DBG] Created DbCommand for 'ExecuteScalar' (0ms).
[2025-03-06 16:23:51 DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 16:23:51 INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 16:23:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:23:51 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:23:51 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:23:51 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 16:23:51 INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 16:23:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 16:23:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 16:23:51 INF] No migrations were applied. The database is already up to date.
[2025-03-06 16:23:51 DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
[2025-03-06 16:23:51 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:23:51 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:23:51 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 16:23:51 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 16:23:51 INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 16:23:51 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:23:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 25ms reading results.
[2025-03-06 16:23:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:23:51 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:23:51 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:23:51 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 16:23:51 INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 16:23:51 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:23:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 16:23:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:23:51 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:23:51 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:23:51 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 16:23:51 INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 16:23:51 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:23:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 16:23:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:23:51 DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
[2025-03-06 16:23:51 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TwoFactorEnabled (bool) Required, 13], [Property: User.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:23:51 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:23:51 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:23:51 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 16:23:51 INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 16:23:51 DBG] Context 'LessonTreeContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:23:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 22ms reading results.
[2025-03-06 16:23:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 16:23:51 DBG] Compiling query expression: 
'DbSet<Course>()
    .Any()'
[2025-03-06 16:23:51 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Courses AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .Single()'
[2025-03-06 16:23:51 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:23:51 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:23:51 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 16:23:51 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 16:23:51 INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 16:23:51 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 1ms reading results.
[2025-03-06 16:23:51 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 16:23:51 DBG] 'LessonTreeContext' disposed.
[2025-03-06 16:23:51 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:51 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:23:52 DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
[2025-03-06 16:23:52 DBG] Hosting starting
[2025-03-06 16:23:52 DBG] Reading data from file 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys\key-289f7250-d4bf-48f6-ba65-112fa6af0fd7.xml'.
[2025-03-06 16:23:52 DBG] Found key {289f7250-d4bf-48f6-ba65-112fa6af0fd7}.
[2025-03-06 16:23:52 DBG] Considering key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} with expiration date 2025-05-07 18:34:01Z as default key.
[2025-03-06 16:23:52 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 16:23:52 DBG] Decrypting secret element using Windows DPAPI.
[2025-03-06 16:23:52 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 16:23:52 DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
[2025-03-06 16:23:52 DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
[2025-03-06 16:23:52 DBG] Using key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} as the default key.
[2025-03-06 16:23:52 DBG] Key ring with default key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} was loaded during application startup.
[2025-03-06 16:23:52 INF] Now listening on: https://localhost:7238
[2025-03-06 16:23:52 INF] Now listening on: http://localhost:5046
[2025-03-06 16:23:52 DBG] Loaded hosting startup assembly LessonTree.API
[2025-03-06 16:23:52 DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
[2025-03-06 16:23:52 DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
[2025-03-06 16:23:52 DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
[2025-03-06 16:23:52 INF] Application started. Press Ctrl+C to shut down.
[2025-03-06 16:23:52 INF] Hosting environment: Development
[2025-03-06 16:23:52 INF] Content root path: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api
[2025-03-06 16:23:52 DBG] Hosting started
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSP" received FIN.
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSQ" received FIN.
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSQ" accepted.
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSP" accepted.
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSQ" started.
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSP" started.
[2025-03-06 16:23:52 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 16:23:52 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSQ" stopped.
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSP" stopped.
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSQ" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSP" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSR" accepted.
[2025-03-06 16:23:52 DBG] Connection id "0HNASUKOQSDSR" started.
[2025-03-06 16:23:52 DBG] Connection 0HNASUKOQSDSR established using the following protocol: "Tls13"
[2025-03-06 16:23:52 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.html - null null
[2025-03-06 16:23:52 DBG] Wildcard detected, all requests with hosts will be allowed.
[2025-03-06 16:23:52 DBG] No candidates found for the request path '/swagger/index.html'
[2025-03-06 16:23:52 DBG] Request did not match any endpoints
[2025-03-06 16:23:52 INF] Middleware: Handling GET request to /swagger/index.html
[2025-03-06 16:23:52 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:23:52 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:23:52 DBG] Response markup is scheduled to include Browser Link script injection.
[2025-03-06 16:23:52 DBG] Response markup is scheduled to include browser refresh script injection.
[2025-03-06 16:23:52 DBG] Response markup was updated to include Browser Link script injection.
[2025-03-06 16:23:52 DBG] Response markup was updated to include browser refresh script injection.
[2025-03-06 16:23:52 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.html - 200 null text/html;charset=utf-8 140.5747ms
[2025-03-06 16:23:53 INF] Request starting HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - null null
[2025-03-06 16:23:53 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.js - null null
[2025-03-06 16:23:53 DBG] No candidates found for the request path '/swagger/index.js'
[2025-03-06 16:23:53 DBG] Request did not match any endpoints
[2025-03-06 16:23:53 INF] Middleware: Handling GET request to /swagger/index.js
[2025-03-06 16:23:53 INF] Request finished HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 13.0434ms
[2025-03-06 16:23:53 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:23:53 INF] Request starting HTTP/2 GET https://localhost:7238/_vs/browserLink - null null
[2025-03-06 16:23:53 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:23:53 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.js - 200 null application/javascript;charset=utf-8 26.1444ms
[2025-03-06 16:23:53 INF] Request finished HTTP/2 GET https://localhost:7238/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.6858ms
[2025-03-06 16:23:53 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - null null
[2025-03-06 16:23:53 DBG] No candidates found for the request path '/swagger/v1/swagger.json'
[2025-03-06 16:23:53 DBG] Request did not match any endpoints
[2025-03-06 16:23:53 INF] Middleware: Handling GET request to /swagger/v1/swagger.json
[2025-03-06 16:23:53 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:23:53 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:23:53 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.1029ms
[2025-03-06 16:23:59 DBG] Connection id "0HNASUKOQSDSS" accepted.
[2025-03-06 16:23:59 DBG] Connection id "0HNASUKOQSDSS" started.
[2025-03-06 16:23:59 DBG] Connection 0HNASUKOQSDSS established using the following protocol: "Tls13"
[2025-03-06 16:23:59 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 16:23:59 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:23:59 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 16:23:59 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 16:23:59 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:23:59 INF] CORS policy execution successful.
[2025-03-06 16:23:59 DBG] The request is a preflight request.
[2025-03-06 16:23:59 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 24.8535ms
[2025-03-06 16:23:59 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 16:23:59 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:23:59 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 16:23:59 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:23:59 INF] Middleware: Handling GET request to /api/course
[2025-03-06 16:23:59 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:23:59 INF] CORS policy execution successful.
[2025-03-06 16:23:59 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:23:59 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:23:59 DBG] Successfully validated the token.
[2025-03-06 16:23:59 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 16:23:59 DBG] Authorization was successful.
[2025-03-06 16:23:59 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 16:23:59 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:23:59 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 16:23:59 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 16:23:59 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 16:23:59 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 16:23:59 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 16:23:59 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 16:23:59 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:23:59 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:23:59 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 16:23:59 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 16:23:59 DBG] Compiling query expression: 
'DbSet<Course>()
    .Include(c => c.Topics)
    .ThenInclude(t => t.SubTopics)
    .ThenInclude(st => st.Lessons)'
[2025-03-06 16:23:59 DBG] Including navigation: 'Course.Topics'.
[2025-03-06 16:23:59 DBG] Including navigation: 'Topic.SubTopics'.
[2025-03-06 16:23:59 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-03-06 16:23:59 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-03-06 16:23:59 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Course>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Course.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Course.Description (string) Required, 1], [Property: Course.Title (string) Required, 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Topic.CourseId (int) Required FK Index, 4], [Property: Topic.Description (string) Required, 5], [Property: Topic.Title (string) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: SubTopic.Description (string), 8], [Property: SubTopic.Title (string) Required, 9], [Property: SubTopic.TopicId (int) Required FK Index, 10] }
            5 -> 7
            6 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Lesson.Content (string) Required, 12], [Property: Lesson.SubTopicId (int) Required FK Index, 13], [Property: Lesson.Title (string) Required, 14] }
            7 -> 11
        SELECT c.Id, c.Description, c.Title, t1.Id, t1.CourseId, t1.Description, t1.Title, t1.Id0, t1.Description0, t1.Title0, t1.TopicId, t1.Id00, t1.Content, t1.SubTopicId, t1.Title00
        FROM Courses AS c
        LEFT JOIN 
        (
            SELECT t.Id, t.CourseId, t.Description, t.Title, t0.Id AS Id0, t0.Description AS Description0, t0.Title AS Title0, t0.TopicId, t0.Id0 AS Id00, t0.Content, t0.SubTopicId, t0.Title0 AS Title00
            FROM Topics AS t
            LEFT JOIN 
            (
                SELECT s.Id, s.Description, s.Title, s.TopicId, l.Id AS Id0, l.Content, l.SubTopicId, l.Title AS Title0
                FROM SubTopics AS s
                LEFT JOIN Lessons AS l ON s.Id == l.SubTopicId
            ) AS t0 ON t.Id == t0.TopicId
        ) AS t1 ON c.Id == t1.CourseId
        ORDER BY c.Id ASC, t1.Id ASC, t1.Id0 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Course>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)'
[2025-03-06 16:23:59 DBG] Creating DbConnection.
[2025-03-06 16:23:59 DBG] Created DbConnection. (1ms).
[2025-03-06 16:23:59 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:23:59 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:23:59 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:23:59 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:23:59 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 16:23:59 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:23:59 INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:23:59 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:23:59 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:23:59 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:00 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:00 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 168ms reading results.
[2025-03-06 16:24:00 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:00 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:24:00 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 16:24:00 DBG] No information found on request to perform content negotiation.
[2025-03-06 16:24:00 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 16:24:00 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 16:24:00 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 16:24:00 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 16:24:00 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 476.4821ms
[2025-03-06 16:24:00 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:24:00 INF] HTTP GET /api/course responded 200 in 575.9302 ms
[2025-03-06 16:24:00 DBG] 'LessonTreeContext' disposed.
[2025-03-06 16:24:00 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:24:00 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:24:00 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 692.7981ms
[2025-03-06 16:24:39 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 16:24:39 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 16:24:39 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 16:24:39 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 16:24:39 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:24:39 INF] CORS policy execution successful.
[2025-03-06 16:24:39 DBG] The request is a preflight request.
[2025-03-06 16:24:39 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 10.9418ms
[2025-03-06 16:24:39 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 33
[2025-03-06 16:24:39 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 16:24:39 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 16:24:39 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 16:24:39 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 16:24:39 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:24:39 INF] CORS policy execution successful.
[2025-03-06 16:24:39 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:24:39 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:24:39 DBG] Successfully validated the token.
[2025-03-06 16:24:39 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 16:24:39 DBG] Authorization was successful.
[2025-03-06 16:24:39 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 16:24:39 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 16:24:39 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 16:24:39 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 16:24:39 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 16:24:39 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 16:24:39 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 16:24:39 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 16:24:39 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 16:24:39 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 16:24:39 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 16:24:39 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 16:24:39 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 16:24:39 DBG] Connection id "0HNASUKOQSDSS", Request id "0HNASUKOQSDSS:00000007": started reading request body.
[2025-03-06 16:24:39 DBG] Connection id "0HNASUKOQSDSS", Request id "0HNASUKOQSDSS:00000007": done reading request body.
[2025-03-06 16:24:39 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 16:24:39 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 16:24:39 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 16:24:39 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 16:24:39 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 16:24:39 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 16:24:39 DBG] Entering MoveLesson with Lesson ID: 35, New SubTopic ID: 7
[2025-03-06 16:24:39 DBG] Moving Lesson ID: 35 to SubTopic ID: 7
[2025-03-06 16:24:39 DBG] Retrieving lesson by ID: 35
[2025-03-06 16:24:39 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 16:24:39 DBG] Compiling query expression: 
'DbSet<Lesson>()
    .Include(l => l.SubTopic)
    .FirstOrDefault(l => l.Id == __id_0)'
[2025-03-06 16:24:39 DBG] Including navigation: 'Lesson.SubTopic'.
[2025-03-06 16:24:39 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Lesson>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Lesson.Content (string) Required, 1], [Property: Lesson.SubTopicId (int) Required FK Index, 2], [Property: Lesson.Title (string) Required, 3] }
            1 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SubTopic.Description (string), 5], [Property: SubTopic.Title (string) Required, 6], [Property: SubTopic.TopicId (int) Required FK Index, 7] }
        SELECT TOP(1) l.Id, l.Content, l.SubTopicId, l.Title, s.Id, s.Description, s.Title, s.TopicId
        FROM Lessons AS l
        INNER JOIN SubTopics AS s ON l.SubTopicId == s.Id
        WHERE l.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Lesson>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 16:24:39 DBG] Creating DbConnection.
[2025-03-06 16:24:39 DBG] Created DbConnection. (0ms).
[2025-03-06 16:24:39 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:24:39 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:24:39 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 16:24:39 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:24:39 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:24:39 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:39 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:39 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:39 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 6ms reading results.
[2025-03-06 16:24:39 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 16:24:39 DBG] Retrieving subtopic by ID: 7
[2025-03-06 16:24:39 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .FirstOrDefault(st => st.Id == __id_0)'
[2025-03-06 16:24:39 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubTopic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Description (string), 1], [Property: SubTopic.Title (string) Required, 2], [Property: SubTopic.TopicId (int) Required FK Index, 3] }
        SELECT TOP(1) s.Id, s.Description, s.Title, s.TopicId
        FROM SubTopics AS s
        WHERE s.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 16:24:39 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:24:39 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:24:39 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 16:24:39 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:24:39 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:24:39 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:39 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 16:24:39 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:24:39 DBG] Updating lesson in database: Molecules
[2025-03-06 16:24:39 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:39 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 16:24:39 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 16:24:39 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 16:24:39 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:39 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 16:24:39 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:24:39 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:24:39 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:24:39 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 21), @p1='?' (DbType = Int32), @p2='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 16:24:39 INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 21), @p1='?' (DbType = Int32), @p2='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 16:24:39 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 7ms reading results.
[2025-03-06 16:24:39 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:24:39 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:24:39 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 16:24:39 INF] Moved Lesson ID: 35 to SubTopic ID: 7
[2025-03-06 16:24:39 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 16:24:39 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 269.4133ms
[2025-03-06 16:24:39 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 16:24:39 INF] HTTP POST /api/Lesson/move responded 200 in 286.4207 ms
[2025-03-06 16:24:39 DBG] 'LessonTreeContext' disposed.
[2025-03-06 16:24:39 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:24:39 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:24:39 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 313.4984ms
[2025-03-06 16:26:05 DBG] Connection id "0HNASUKOQSDSR" is closing.
[2025-03-06 16:26:05 DBG] Connection id "0HNASUKOQSDSR" is closed. The last processed stream ID was 9.
[2025-03-06 16:26:05 DBG] Connection id "0HNASUKOQSDSR" received FIN.
[2025-03-06 16:26:05 DBG] The connection queue processing loop for 0HNASUKOQSDSR completed.
[2025-03-06 16:26:05 DBG] Connection id "0HNASUKOQSDSR" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 16:26:05 DBG] Connection id "0HNASUKOQSDSR" stopped.
[2025-03-06 16:26:50 DBG] Connection id "0HNASUKOQSDSS" is closing.
[2025-03-06 16:26:50 DBG] Connection id "0HNASUKOQSDSS" is closed. The last processed stream ID was 7.
[2025-03-06 16:26:50 DBG] The connection queue processing loop for 0HNASUKOQSDSS completed.
[2025-03-06 16:26:50 DBG] Connection id "0HNASUKOQSDSS" received FIN.
[2025-03-06 16:26:50 DBG] Connection id "0HNASUKOQSDSS" stopped.
[2025-03-06 16:26:50 DBG] Connection id "0HNASUKOQSDSS" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 16:31:54 DBG] Connection id "0HNASUKOQSDST" accepted.
[2025-03-06 16:31:54 DBG] Connection id "0HNASUKOQSDST" started.
[2025-03-06 16:31:54 DBG] Connection 0HNASUKOQSDST established using the following protocol: "Tls13"
[2025-03-06 16:31:54 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 16:31:54 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:31:54 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 16:31:54 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 16:31:54 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:31:54 INF] CORS policy execution successful.
[2025-03-06 16:31:54 DBG] The request is a preflight request.
[2025-03-06 16:31:54 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 58.271ms
[2025-03-06 16:31:54 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 16:31:54 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:31:54 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 16:31:54 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:31:54 INF] Middleware: Handling GET request to /api/course
[2025-03-06 16:31:54 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:31:54 INF] CORS policy execution successful.
[2025-03-06 16:31:54 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:31:54 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:31:54 DBG] Successfully validated the token.
[2025-03-06 16:31:54 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 16:31:54 DBG] Authorization was successful.
[2025-03-06 16:31:54 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 16:31:54 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:31:54 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 16:31:54 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 16:31:54 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 16:31:54 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 16:31:54 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 16:31:54 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 16:31:54 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:31:54 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:31:54 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 16:31:54 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 16:31:54 DBG] Creating DbConnection.
[2025-03-06 16:31:54 DBG] Created DbConnection. (1ms).
[2025-03-06 16:31:54 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:31:54 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:31:54 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:31:54 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:31:54 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 16:31:54 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:31:54 INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:31:54 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:31:54 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 113ms reading results.
[2025-03-06 16:31:54 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:31:54 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:31:54 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 16:31:54 DBG] No information found on request to perform content negotiation.
[2025-03-06 16:31:54 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 16:31:54 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 16:31:54 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 16:31:54 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 16:31:54 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 158.6981ms
[2025-03-06 16:31:54 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:31:54 INF] HTTP GET /api/course responded 200 in 177.4549 ms
[2025-03-06 16:31:54 DBG] 'LessonTreeContext' disposed.
[2025-03-06 16:31:54 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:31:54 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:31:54 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 205.672ms
[2025-03-06 16:32:00 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 16:32:00 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:32:00 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 16:32:00 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 16:32:00 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:32:00 INF] CORS policy execution successful.
[2025-03-06 16:32:00 DBG] The request is a preflight request.
[2025-03-06 16:32:00 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 52.0024ms
[2025-03-06 16:32:00 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 16:32:00 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:32:00 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 16:32:00 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:32:00 INF] Middleware: Handling GET request to /api/course
[2025-03-06 16:32:00 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:32:00 INF] CORS policy execution successful.
[2025-03-06 16:32:00 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:32:00 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:32:00 DBG] Successfully validated the token.
[2025-03-06 16:32:00 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 16:32:00 DBG] Authorization was successful.
[2025-03-06 16:32:00 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 16:32:00 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:32:00 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 16:32:00 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 16:32:00 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 16:32:00 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 16:32:00 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 16:32:00 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 16:32:00 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:32:00 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:32:00 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 16:32:00 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 16:32:00 DBG] Creating DbConnection.
[2025-03-06 16:32:00 DBG] Created DbConnection. (0ms).
[2025-03-06 16:32:00 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:32:00 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:00 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:32:00 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:32:00 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 16:32:00 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:32:00 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:00 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:00 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 116ms reading results.
[2025-03-06 16:32:00 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:00 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:32:00 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 16:32:00 DBG] No information found on request to perform content negotiation.
[2025-03-06 16:32:00 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 16:32:00 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 16:32:00 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 16:32:00 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 16:32:00 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 157.173ms
[2025-03-06 16:32:00 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:32:00 INF] HTTP GET /api/course responded 200 in 174.6599 ms
[2025-03-06 16:32:00 DBG] 'LessonTreeContext' disposed.
[2025-03-06 16:32:00 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:32:00 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:32:00 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 203.67ms
[2025-03-06 16:32:22 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 16:32:22 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 16:32:22 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 16:32:22 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 16:32:22 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:32:22 INF] CORS policy execution successful.
[2025-03-06 16:32:22 DBG] The request is a preflight request.
[2025-03-06 16:32:22 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 10.9848ms
[2025-03-06 16:32:22 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 32
[2025-03-06 16:32:22 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 16:32:22 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 16:32:22 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 16:32:22 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 16:32:22 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:32:22 INF] CORS policy execution successful.
[2025-03-06 16:32:22 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:32:22 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:32:22 DBG] Successfully validated the token.
[2025-03-06 16:32:22 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 16:32:22 DBG] Authorization was successful.
[2025-03-06 16:32:22 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 16:32:22 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 16:32:22 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 16:32:22 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 16:32:22 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 16:32:22 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 16:32:22 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 16:32:22 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 16:32:22 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 16:32:22 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 16:32:22 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 16:32:22 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 16:32:22 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 16:32:22 DBG] Connection id "0HNASUKOQSDST", Request id "0HNASUKOQSDST:0000000B": started reading request body.
[2025-03-06 16:32:22 DBG] Connection id "0HNASUKOQSDST", Request id "0HNASUKOQSDST:0000000B": done reading request body.
[2025-03-06 16:32:22 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 16:32:22 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 16:32:22 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 16:32:22 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 16:32:22 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 16:32:22 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 16:32:22 DBG] Entering MoveLesson with Lesson ID: 7, New SubTopic ID: 2
[2025-03-06 16:32:22 DBG] Moving Lesson ID: 7 to SubTopic ID: 2
[2025-03-06 16:32:22 DBG] Retrieving lesson by ID: 7
[2025-03-06 16:32:22 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 16:32:22 DBG] Creating DbConnection.
[2025-03-06 16:32:22 DBG] Created DbConnection. (0ms).
[2025-03-06 16:32:22 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:32:22 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:32:22 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 16:32:22 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:32:22 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:32:22 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:22 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:22 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:22 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 7ms reading results.
[2025-03-06 16:32:22 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:32:22 DBG] Retrieving subtopic by ID: 2
[2025-03-06 16:32:22 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:32:22 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:32:22 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 16:32:22 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:32:22 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:32:22 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:22 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 16:32:22 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:32:22 DBG] Updating lesson in database: Compound Sentences
[2025-03-06 16:32:22 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:22 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 16:32:22 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 16:32:22 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 16:32:22 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:22 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 16:32:22 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:32:22 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:32:22 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 16:32:22 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 21), @p1='?' (DbType = Int32), @p2='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 16:32:22 INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 21), @p1='?' (DbType = Int32), @p2='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 16:32:22 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 16:32:22 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:32:22 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:32:22 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 16:32:22 INF] Moved Lesson ID: 7 to SubTopic ID: 2
[2025-03-06 16:32:22 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 16:32:22 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 109.1316ms
[2025-03-06 16:32:22 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 16:32:22 INF] HTTP POST /api/Lesson/move responded 200 in 124.3734 ms
[2025-03-06 16:32:22 DBG] 'LessonTreeContext' disposed.
[2025-03-06 16:32:22 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:32:22 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:32:22 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 148.7021ms
[2025-03-06 16:34:21 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 16:34:21 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:34:21 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 16:34:21 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 16:34:21 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:34:21 INF] CORS policy execution successful.
[2025-03-06 16:34:21 DBG] The request is a preflight request.
[2025-03-06 16:34:21 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 11.0924ms
[2025-03-06 16:34:21 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 16:34:21 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:34:21 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 16:34:21 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:34:21 INF] Middleware: Handling GET request to /api/course
[2025-03-06 16:34:21 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:34:21 INF] CORS policy execution successful.
[2025-03-06 16:34:21 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:34:21 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:34:21 DBG] Successfully validated the token.
[2025-03-06 16:34:21 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 16:34:21 DBG] Authorization was successful.
[2025-03-06 16:34:21 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 16:34:21 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:34:21 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 16:34:21 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 16:34:21 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 16:34:21 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 16:34:21 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 16:34:21 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 16:34:21 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:34:21 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:34:21 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 16:34:21 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 16:34:21 DBG] Creating DbConnection.
[2025-03-06 16:34:21 DBG] Created DbConnection. (0ms).
[2025-03-06 16:34:21 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:34:21 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:34:21 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:34:21 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:34:21 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 16:34:21 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:34:21 INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:21 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:34:21 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 137ms reading results.
[2025-03-06 16:34:21 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:34:21 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:34:21 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 16:34:21 DBG] No information found on request to perform content negotiation.
[2025-03-06 16:34:21 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 16:34:21 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 16:34:21 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 16:34:21 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 16:34:21 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 212.8478ms
[2025-03-06 16:34:21 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:34:21 INF] HTTP GET /api/course responded 200 in 227.1029 ms
[2025-03-06 16:34:21 DBG] 'LessonTreeContext' disposed.
[2025-03-06 16:34:21 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:34:21 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:34:21 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 252.1425ms
[2025-03-06 16:34:31 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 16:34:31 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:34:31 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 16:34:31 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 16:34:31 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:34:31 INF] CORS policy execution successful.
[2025-03-06 16:34:31 DBG] The request is a preflight request.
[2025-03-06 16:34:31 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 21.6992ms
[2025-03-06 16:34:31 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 16:34:31 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 16:34:31 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 16:34:31 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:34:31 INF] Middleware: Handling GET request to /api/course
[2025-03-06 16:34:31 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:34:31 INF] CORS policy execution successful.
[2025-03-06 16:34:31 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:34:31 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:34:31 DBG] Successfully validated the token.
[2025-03-06 16:34:31 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 16:34:31 DBG] Authorization was successful.
[2025-03-06 16:34:31 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 16:34:31 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:34:31 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 16:34:31 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 16:34:31 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 16:34:31 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 16:34:31 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 16:34:31 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 16:34:31 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:34:31 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 16:34:31 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 16:34:31 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 16:34:31 DBG] Creating DbConnection.
[2025-03-06 16:34:31 DBG] Created DbConnection. (0ms).
[2025-03-06 16:34:31 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:34:31 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:34:31 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:34:31 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:34:31 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 16:34:31 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:34:31 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:31 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:34:32 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:34:32 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 130ms reading results.
[2025-03-06 16:34:32 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:34:32 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:34:32 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 16:34:32 DBG] No information found on request to perform content negotiation.
[2025-03-06 16:34:32 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 16:34:32 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 16:34:32 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 16:34:32 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 16:34:32 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 174.3127ms
[2025-03-06 16:34:32 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 16:34:32 INF] HTTP GET /api/course responded 200 in 258.3476 ms
[2025-03-06 16:34:32 DBG] 'LessonTreeContext' disposed.
[2025-03-06 16:34:32 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:34:32 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:34:32 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 285.8094ms
[2025-03-06 16:36:43 DBG] Connection id "0HNASUKOQSDST" is closing.
[2025-03-06 16:36:43 DBG] Connection id "0HNASUKOQSDST" is closed. The last processed stream ID was 19.
[2025-03-06 16:36:43 DBG] The connection queue processing loop for 0HNASUKOQSDST completed.
[2025-03-06 16:36:43 DBG] Connection id "0HNASUKOQSDST" received FIN.
[2025-03-06 16:36:43 DBG] Connection id "0HNASUKOQSDST" stopped.
[2025-03-06 16:36:43 DBG] Connection id "0HNASUKOQSDST" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 16:38:42 DBG] Connection id "0HNASUKOQSDSU" accepted.
[2025-03-06 16:38:42 DBG] Connection id "0HNASUKOQSDSU" started.
[2025-03-06 16:38:42 DBG] Connection 0HNASUKOQSDSU established using the following protocol: "Tls13"
[2025-03-06 16:38:42 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 16:38:42 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 16:38:42 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 16:38:42 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 16:38:42 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:38:42 INF] CORS policy execution successful.
[2025-03-06 16:38:42 DBG] The request is a preflight request.
[2025-03-06 16:38:42 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 8.991ms
[2025-03-06 16:38:42 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 33
[2025-03-06 16:38:42 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 16:38:42 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 16:38:42 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 16:38:42 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 16:38:42 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 16:38:42 INF] CORS policy execution successful.
[2025-03-06 16:38:42 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 16:38:42 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 16:38:42 DBG] Successfully validated the token.
[2025-03-06 16:38:42 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 16:38:42 DBG] Authorization was successful.
[2025-03-06 16:38:42 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 16:38:42 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 16:38:42 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 16:38:42 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 16:38:42 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 16:38:42 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 16:38:42 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 16:38:42 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 16:38:42 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 16:38:42 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 16:38:42 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 16:38:42 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 16:38:42 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 16:38:42 DBG] Connection id "0HNASUKOQSDSU", Request id "0HNASUKOQSDSU:00000003": started reading request body.
[2025-03-06 16:38:42 DBG] Connection id "0HNASUKOQSDSU", Request id "0HNASUKOQSDSU:00000003": done reading request body.
[2025-03-06 16:38:42 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 16:38:42 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 16:38:42 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 16:38:42 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 16:38:42 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 16:38:42 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 16:38:42 DBG] Entering MoveLesson with Lesson ID: 33, New SubTopic ID: 7
[2025-03-06 16:38:42 DBG] Moving Lesson ID: 33 to SubTopic ID: 7
[2025-03-06 16:38:42 DBG] Retrieving lesson by ID: 33
[2025-03-06 16:38:42 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 16:38:42 DBG] Creating DbConnection.
[2025-03-06 16:38:42 DBG] Created DbConnection. (0ms).
[2025-03-06 16:38:42 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:38:42 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:38:42 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 16:38:42 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:38:42 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:38:42 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:38:42 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:38:42 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:38:42 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 16:38:42 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 16:38:42 DBG] Retrieving subtopic by ID: 7
[2025-03-06 16:38:42 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:38:42 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:38:42 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:38:42 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:38:42 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 16:38:42 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:38:42 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 16:38:42 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:38:42 DBG] Updating lesson in database: Isotopes
[2025-03-06 16:38:42 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:38:42 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 16:38:42 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 16:38:42 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 16:38:42 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:38:42 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 16:38:42 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:38:42 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 16:38:42 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 16:38:42 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 16:38:42 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = Int32), @p2='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 16:38:42 INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 20), @p1='?' (DbType = Int32), @p2='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 16:38:43 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:38:43 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 16:38:43 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 16:38:43 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:38:43 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 16:38:43 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 16:38:43 INF] Moved Lesson ID: 33 to SubTopic ID: 7
[2025-03-06 16:38:43 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 16:38:43 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 102.3285ms
[2025-03-06 16:38:43 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 16:38:43 INF] HTTP POST /api/Lesson/move responded 200 in 114.3096 ms
[2025-03-06 16:38:43 DBG] 'LessonTreeContext' disposed.
[2025-03-06 16:38:43 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 16:38:43 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 16:38:43 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 135.8954ms
[2025-03-06 16:40:55 DBG] Connection id "0HNASUKOQSDSU" is closing.
[2025-03-06 16:40:55 DBG] Connection id "0HNASUKOQSDSU" is closed. The last processed stream ID was 3.
[2025-03-06 16:40:55 DBG] The connection queue processing loop for 0HNASUKOQSDSU completed.
[2025-03-06 16:40:55 DBG] Connection id "0HNASUKOQSDSU" received FIN.
[2025-03-06 16:40:55 DBG] Connection id "0HNASUKOQSDSU" stopped.
[2025-03-06 16:40:55 DBG] Connection id "0HNASUKOQSDSU" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 23:22:33 INF] Starting application with logs directory: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\logs
[2025-03-06 23:22:33 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[2025-03-06 23:22:33 WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
[2025-03-06 23:22:33 INF] User profile is available. Using 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-03-06 23:22:33 INF] Applying migrations to LessonTree.db...
[2025-03-06 23:22:34 DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2025-03-06 23:22:34 DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
[2025-03-06 23:22:34 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:22:34 DBG] Creating DbConnection.
[2025-03-06 23:22:34 DBG] Created DbConnection. (7ms).
[2025-03-06 23:22:34 DBG] Migrating using database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Creating DbConnection.
[2025-03-06 23:22:34 DBG] Created DbConnection. (3ms).
[2025-03-06 23:22:34 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:22:34 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 23:22:34 DBG] Created DbCommand for 'ExecuteScalar' (4ms).
[2025-03-06 23:22:34 DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
[2025-03-06 23:22:34 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 23:22:34 INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 23:22:34 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (4ms).
[2025-03-06 23:22:34 DBG] Creating DbConnection.
[2025-03-06 23:22:34 DBG] Created DbConnection. (1ms).
[2025-03-06 23:22:34 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:22:34 DBG] Creating DbCommand for 'ExecuteScalar'.
[2025-03-06 23:22:34 DBG] Created DbCommand for 'ExecuteScalar' (2ms).
[2025-03-06 23:22:34 DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
[2025-03-06 23:22:34 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 23:22:34 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
[2025-03-06 23:22:34 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:22:34 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:22:34 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:22:34 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 23:22:34 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 23:22:34 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
[2025-03-06 23:22:34 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 23:22:34 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:34 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:22:34 INF] No migrations were applied. The database is already up to date.
[2025-03-06 23:22:35 DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
[2025-03-06 23:22:35 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 23:22:35 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:22:35 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:22:35 DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
[2025-03-06 23:22:35 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 23:22:35 INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 23:22:35 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:22:35 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 97ms reading results.
[2025-03-06 23:22:35 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (7ms).
[2025-03-06 23:22:35 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:22:35 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:22:35 DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
[2025-03-06 23:22:35 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 23:22:35 INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 23:22:35 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:22:35 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 9ms reading results.
[2025-03-06 23:22:35 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 23:22:35 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:22:35 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:22:35 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 23:22:35 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 23:22:35 INF] Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-03-06 23:22:35 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:22:35 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 7ms reading results.
[2025-03-06 23:22:35 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 23:22:35 DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
[2025-03-06 23:22:35 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TwoFactorEnabled (bool) Required, 13], [Property: User.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-03-06 23:22:35 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:22:35 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:22:35 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 23:22:35 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 23:22:35 INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 23:22:35 DBG] Context 'LessonTreeContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:22:35 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 73ms reading results.
[2025-03-06 23:22:35 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 23:22:35 DBG] Compiling query expression: 
'DbSet<Course>()
    .Any()'
[2025-03-06 23:22:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Courses AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .Single()'
[2025-03-06 23:22:35 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:22:35 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:22:35 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 23:22:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 23:22:35 INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Courses" AS "c")
[2025-03-06 23:22:35 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 23:22:35 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 23:22:35 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:22:35 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:22:35 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 23:22:36 DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
[2025-03-06 23:22:36 DBG] Hosting starting
[2025-03-06 23:22:36 DBG] Reading data from file 'C:\Users\SWash\AppData\Local\ASP.NET\DataProtection-Keys\key-289f7250-d4bf-48f6-ba65-112fa6af0fd7.xml'.
[2025-03-06 23:22:36 DBG] Found key {289f7250-d4bf-48f6-ba65-112fa6af0fd7}.
[2025-03-06 23:22:36 DBG] Considering key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} with expiration date 2025-05-07 18:34:01Z as default key.
[2025-03-06 23:22:36 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 23:22:36 DBG] Decrypting secret element using Windows DPAPI.
[2025-03-06 23:22:36 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-03-06 23:22:36 DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
[2025-03-06 23:22:36 DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
[2025-03-06 23:22:36 DBG] Using key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} as the default key.
[2025-03-06 23:22:36 DBG] Key ring with default key {289f7250-d4bf-48f6-ba65-112fa6af0fd7} was loaded during application startup.
[2025-03-06 23:22:36 INF] Now listening on: https://localhost:7238
[2025-03-06 23:22:36 INF] Now listening on: http://localhost:5046
[2025-03-06 23:22:36 DBG] Loaded hosting startup assembly LessonTree.API
[2025-03-06 23:22:36 DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
[2025-03-06 23:22:36 DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
[2025-03-06 23:22:36 DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
[2025-03-06 23:22:36 INF] Application started. Press Ctrl+C to shut down.
[2025-03-06 23:22:36 INF] Hosting environment: Development
[2025-03-06 23:22:36 INF] Content root path: C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api
[2025-03-06 23:22:36 DBG] Hosting started
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF3" accepted.
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF4" accepted.
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF3" started.
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF4" started.
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF4" received FIN.
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF3" received FIN.
[2025-03-06 23:22:36 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 23:22:36 DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF3" stopped.
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF4" stopped.
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF3" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 23:22:36 DBG] Connection id "0HNAT5UOC7HF4" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 23:22:37 DBG] Connection id "0HNAT5UOC7HF5" accepted.
[2025-03-06 23:22:37 DBG] Connection id "0HNAT5UOC7HF5" started.
[2025-03-06 23:22:37 DBG] Connection id "0HNAT5UOC7HF6" accepted.
[2025-03-06 23:22:37 DBG] Connection id "0HNAT5UOC7HF6" started.
[2025-03-06 23:22:37 DBG] Connection id "0HNAT5UOC7HF6" received FIN.
[2025-03-06 23:22:37 DBG] Connection 0HNAT5UOC7HF5 established using the following protocol: "Tls13"
[2025-03-06 23:22:37 DBG] Connection 0HNAT5UOC7HF6 established using the following protocol: "Tls13"
[2025-03-06 23:22:37 DBG] Connection id "0HNAT5UOC7HF6" is closed. The last processed stream ID was 0.
[2025-03-06 23:22:37 DBG] Connection id "0HNAT5UOC7HF6" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 23:22:37 DBG] The connection queue processing loop for 0HNAT5UOC7HF6 completed.
[2025-03-06 23:22:37 DBG] Connection id "0HNAT5UOC7HF6" stopped.
[2025-03-06 23:22:37 INF] Request starting HTTP/2 GET https://localhost:7238/swagger - null null
[2025-03-06 23:22:37 DBG] Wildcard detected, all requests with hosts will be allowed.
[2025-03-06 23:22:37 DBG] No candidates found for the request path '/swagger'
[2025-03-06 23:22:37 DBG] Request did not match any endpoints
[2025-03-06 23:22:37 INF] Middleware: Handling GET request to /swagger
[2025-03-06 23:22:37 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:22:37 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:22:37 INF] Request finished HTTP/2 GET https://localhost:7238/swagger - 301 0 null 371.3052ms
[2025-03-06 23:22:37 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.html - null null
[2025-03-06 23:22:37 DBG] No candidates found for the request path '/swagger/index.html'
[2025-03-06 23:22:37 DBG] Request did not match any endpoints
[2025-03-06 23:22:37 INF] Middleware: Handling GET request to /swagger/index.html
[2025-03-06 23:22:37 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:22:37 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:22:37 DBG] Response markup is scheduled to include Browser Link script injection.
[2025-03-06 23:22:37 DBG] Response markup is scheduled to include browser refresh script injection.
[2025-03-06 23:22:37 DBG] Response markup was updated to include Browser Link script injection.
[2025-03-06 23:22:37 DBG] Response markup was updated to include browser refresh script injection.
[2025-03-06 23:22:37 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.html - 200 null text/html;charset=utf-8 129.2974ms
[2025-03-06 23:22:38 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.css - null null
[2025-03-06 23:22:38 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/swagger-ui-standalone-preset.js - null null
[2025-03-06 23:22:38 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/swagger-ui.css - null null
[2025-03-06 23:22:38 DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
[2025-03-06 23:22:38 DBG] No candidates found for the request path '/swagger/index.css'
[2025-03-06 23:22:38 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/swagger-ui-bundle.js - null null
[2025-03-06 23:22:38 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/index.js - null null
[2025-03-06 23:22:38 INF] Request starting HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - null null
[2025-03-06 23:22:38 INF] Request starting HTTP/2 GET https://localhost:7238/_vs/browserLink - null null
[2025-03-06 23:22:38 DBG] No candidates found for the request path '/swagger/swagger-ui.css'
[2025-03-06 23:22:38 DBG] Request did not match any endpoints
[2025-03-06 23:22:38 DBG] Request did not match any endpoints
[2025-03-06 23:22:38 INF] Middleware: Handling GET request to /swagger/swagger-ui-standalone-preset.js
[2025-03-06 23:22:38 INF] Middleware: Handling GET request to /swagger/index.css
[2025-03-06 23:22:38 DBG] Request did not match any endpoints
[2025-03-06 23:22:38 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:22:38 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:22:38 DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
[2025-03-06 23:22:38 DBG] No candidates found for the request path '/swagger/index.js'
[2025-03-06 23:22:38 INF] Request finished HTTP/2 GET https://localhost:7238/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 72.1944ms
[2025-03-06 23:22:38 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:22:38 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:22:38 INF] Middleware: Handling GET request to /swagger/swagger-ui.css
[2025-03-06 23:22:38 DBG] Request did not match any endpoints
[2025-03-06 23:22:38 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:22:38 DBG] Request did not match any endpoints
[2025-03-06 23:22:38 INF] Middleware: Handling GET request to /swagger/swagger-ui-bundle.js
[2025-03-06 23:22:38 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:22:38 INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
[2025-03-06 23:22:38 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:22:38 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.css - 200 202 text/css 124.5711ms
[2025-03-06 23:22:38 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:22:38 INF] Middleware: Handling GET request to /swagger/index.js
[2025-03-06 23:22:38 INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[2025-03-06 23:22:38 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:22:38 INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
[2025-03-06 23:22:38 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:22:38 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/swagger-ui.css - 200 154948 text/css 165.2833ms
[2025-03-06 23:22:38 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/index.js - 200 null application/javascript;charset=utf-8 167.4748ms
[2025-03-06 23:22:38 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 163.7383ms
[2025-03-06 23:22:38 INF] Request finished HTTP/2 GET https://localhost:7238/_vs/browserLink - 200 null text/javascript; charset=UTF-8 143.0839ms
[2025-03-06 23:22:38 INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
[2025-03-06 23:22:38 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 203.7989ms
[2025-03-06 23:22:38 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - null null
[2025-03-06 23:22:38 DBG] No candidates found for the request path '/swagger/v1/swagger.json'
[2025-03-06 23:22:38 DBG] Request did not match any endpoints
[2025-03-06 23:22:38 INF] Middleware: Handling GET request to /swagger/v1/swagger.json
[2025-03-06 23:22:38 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:22:38 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:22:38 INF] Request starting HTTP/2 GET https://localhost:7238/swagger/favicon-32x32.png - null null
[2025-03-06 23:22:38 DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
[2025-03-06 23:22:38 DBG] Request did not match any endpoints
[2025-03-06 23:22:38 INF] Middleware: Handling GET request to /swagger/favicon-32x32.png
[2025-03-06 23:22:38 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:22:38 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:22:38 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2025-03-06 23:22:38 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/favicon-32x32.png - 200 628 image/png 20.3146ms
[2025-03-06 23:22:38 INF] Request finished HTTP/2 GET https://localhost:7238/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 223.4985ms
[2025-03-06 23:23:24 DBG] Connection id "0HNAT5UOC7HF7" accepted.
[2025-03-06 23:23:24 DBG] Connection id "0HNAT5UOC7HF7" started.
[2025-03-06 23:23:24 DBG] Connection 0HNAT5UOC7HF7 established using the following protocol: "Tls13"
[2025-03-06 23:23:24 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/account/login - null null
[2025-03-06 23:23:24 DBG] 1 candidate(s) found for the request path '/account/login'
[2025-03-06 23:23:24 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:23:24 INF] Middleware: Handling OPTIONS request to /account/login
[2025-03-06 23:23:24 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:23:24 INF] CORS policy execution successful.
[2025-03-06 23:23:24 DBG] The request is a preflight request.
[2025-03-06 23:23:24 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/account/login - 204 null null 21.1587ms
[2025-03-06 23:23:24 INF] Request starting HTTP/2 POST https://localhost:7238/account/login - application/json 50
[2025-03-06 23:23:24 DBG] 1 candidate(s) found for the request path '/account/login'
[2025-03-06 23:23:24 DBG] Endpoint 'LessonTree.API.Controllers.AccountController.Login (LessonTree.API)' with route pattern 'account/login' is valid for the request path '/account/login'
[2025-03-06 23:23:24 DBG] Request matched endpoint 'LessonTree.API.Controllers.AccountController.Login (LessonTree.API)'
[2025-03-06 23:23:24 INF] Middleware: Handling POST request to /account/login
[2025-03-06 23:23:24 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:23:24 INF] CORS policy execution successful.
[2025-03-06 23:23:24 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:23:24 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:23:24 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:23:24 INF] Executing endpoint 'LessonTree.API.Controllers.AccountController.Login (LessonTree.API)'
[2025-03-06 23:23:24 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LessonTree.Models.DTO.UserResource) on controller LessonTree.API.Controllers.AccountController (LessonTree.API).
[2025-03-06 23:23:24 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:23:24 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:23:24 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:23:24 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:23:24 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:23:24 DBG] Executing controller factory for controller LessonTree.API.Controllers.AccountController (LessonTree.API)
[2025-03-06 23:23:24 DBG] Executed controller factory for controller LessonTree.API.Controllers.AccountController (LessonTree.API)
[2025-03-06 23:23:24 DBG] Attempting to bind parameter 'userResource' of type 'LessonTree.Models.DTO.UserResource' ...
[2025-03-06 23:23:24 DBG] Attempting to bind parameter 'userResource' of type 'LessonTree.Models.DTO.UserResource' using the name '' in request data ...
[2025-03-06 23:23:24 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 23:23:24 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:00000003": started reading request body.
[2025-03-06 23:23:24 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:00000003": done reading request body.
[2025-03-06 23:23:24 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.UserResource'
[2025-03-06 23:23:24 DBG] Done attempting to bind parameter 'userResource' of type 'LessonTree.Models.DTO.UserResource'.
[2025-03-06 23:23:24 DBG] Done attempting to bind parameter 'userResource' of type 'LessonTree.Models.DTO.UserResource'.
[2025-03-06 23:23:24 DBG] Attempting to validate the bound parameter 'userResource' of type 'LessonTree.Models.DTO.UserResource' ...
[2025-03-06 23:23:24 DBG] Done attempting to validate the bound parameter 'userResource' of type 'LessonTree.Models.DTO.UserResource'.
[2025-03-06 23:23:24 INF] Incoming request: POST /account/login, Query: , Body: 
[2025-03-06 23:23:24 DBG] Attempting login for user: admin
[2025-03-06 23:23:24 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:23:24 DBG] Creating DbConnection.
[2025-03-06 23:23:24 DBG] Created DbConnection. (0ms).
[2025-03-06 23:23:24 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:23:24 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:23:24 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:23:24 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 23:23:24 INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."Email", "a"."EmailConfirmed", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-03-06 23:23:24 DBG] Context 'LessonTreeContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:24 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 23:23:24 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:23:24 DBG] User admin found, checking password
[2025-03-06 23:23:24 DBG] Compiling query expression: 
'DbSet<IdentityUserRole<int>>()
    .Join(
        inner: DbSet<IdentityRole<int>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
[2025-03-06 23:23:24 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)'
[2025-03-06 23:23:24 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:23:24 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:23:24 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:23:24 DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
[2025-03-06 23:23:24 INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
[2025-03-06 23:23:24 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 23:23:24 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:23:24 INF] User logged in: admin, Roles: Admin
[2025-03-06 23:23:24 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 23:23:24 DBG] No information found on request to perform content negotiation.
[2025-03-06 23:23:24 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 23:23:24 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 23:23:24 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 23:23:24 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-03-06 23:23:24 INF] Executed action LessonTree.API.Controllers.AccountController.Login (LessonTree.API) in 370.4491ms
[2025-03-06 23:23:24 INF] Executed endpoint 'LessonTree.API.Controllers.AccountController.Login (LessonTree.API)'
[2025-03-06 23:23:24 INF] HTTP POST /account/login responded 200 in 410.9501 ms
[2025-03-06 23:23:24 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:23:24 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:23:24 INF] Request finished HTTP/2 POST https://localhost:7238/account/login - 200 null application/json; charset=utf-8 441.3136ms
[2025-03-06 23:23:24 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 23:23:24 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 23:23:24 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:23:24 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 23:23:24 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:23:24 INF] CORS policy execution successful.
[2025-03-06 23:23:24 DBG] The request is a preflight request.
[2025-03-06 23:23:24 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 13.7952ms
[2025-03-06 23:23:24 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 23:23:24 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 23:23:24 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 23:23:24 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:23:24 INF] Middleware: Handling GET request to /api/course
[2025-03-06 23:23:24 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:23:24 INF] CORS policy execution successful.
[2025-03-06 23:23:24 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:23:24 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:23:24 DBG] Successfully validated the token.
[2025-03-06 23:23:24 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 23:23:24 DBG] Authorization was successful.
[2025-03-06 23:23:24 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:23:24 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:23:24 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 23:23:24 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:23:24 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:23:24 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:23:24 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:23:24 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:23:24 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 23:23:24 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 23:23:24 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 23:23:24 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:23:24 DBG] Compiling query expression: 
'DbSet<Course>()
    .Include(c => c.Topics)
    .ThenInclude(t => t.SubTopics)
    .ThenInclude(st => st.Lessons)'
[2025-03-06 23:23:24 DBG] Including navigation: 'Course.Topics'.
[2025-03-06 23:23:24 DBG] Including navigation: 'Topic.SubTopics'.
[2025-03-06 23:23:24 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-03-06 23:23:24 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-03-06 23:23:24 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Course>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Course.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Course.Description (string) Required, 1], [Property: Course.Title (string) Required, 2] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: Topic.CourseId (int) Required FK Index, 4], [Property: Topic.Description (string) Required, 5], [Property: Topic.Title (string) Required, 6] }
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: SubTopic.Description (string), 8], [Property: SubTopic.Title (string) Required, 9], [Property: SubTopic.TopicId (int) Required FK Index, 10] }
            5 -> 7
            6 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Lesson.Content (string) Required, 12], [Property: Lesson.SubTopicId (int) Required FK Index, 13], [Property: Lesson.Title (string) Required, 14] }
            7 -> 11
        SELECT c.Id, c.Description, c.Title, t1.Id, t1.CourseId, t1.Description, t1.Title, t1.Id0, t1.Description0, t1.Title0, t1.TopicId, t1.Id00, t1.Content, t1.SubTopicId, t1.Title00
        FROM Courses AS c
        LEFT JOIN 
        (
            SELECT t.Id, t.CourseId, t.Description, t.Title, t0.Id AS Id0, t0.Description AS Description0, t0.Title AS Title0, t0.TopicId, t0.Id0 AS Id00, t0.Content, t0.SubTopicId, t0.Title0 AS Title00
            FROM Topics AS t
            LEFT JOIN 
            (
                SELECT s.Id, s.Description, s.Title, s.TopicId, l.Id AS Id0, l.Content, l.SubTopicId, l.Title AS Title0
                FROM SubTopics AS s
                LEFT JOIN Lessons AS l ON s.Id == l.SubTopicId
            ) AS t0 ON t.Id == t0.TopicId
        ) AS t1 ON c.Id == t1.CourseId
        ORDER BY c.Id ASC, t1.Id ASC, t1.Id0 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Course>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)'
[2025-03-06 23:23:24 DBG] Creating DbConnection.
[2025-03-06 23:23:24 DBG] Created DbConnection. (1ms).
[2025-03-06 23:23:24 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:24 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:23:24 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:23:24 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:23:24 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 23:23:24 INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 23:23:24 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:24 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:25 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:25 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 160ms reading results.
[2025-03-06 23:23:25 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:25 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:23:25 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 23:23:25 DBG] No information found on request to perform content negotiation.
[2025-03-06 23:23:25 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 23:23:25 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 23:23:25 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 23:23:25 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 23:23:25 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 524.4746ms
[2025-03-06 23:23:25 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:23:25 INF] HTTP GET /api/course responded 200 in 543.0255 ms
[2025-03-06 23:23:25 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:23:25 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:23:25 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:23:25 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 643.4705ms
[2025-03-06 23:23:37 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 23:23:37 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 23:23:37 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:23:37 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 23:23:37 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:23:37 INF] CORS policy execution successful.
[2025-03-06 23:23:37 DBG] The request is a preflight request.
[2025-03-06 23:23:37 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 10.4862ms
[2025-03-06 23:23:37 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 32
[2025-03-06 23:23:37 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 23:23:37 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 23:23:37 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 23:23:37 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 23:23:37 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:23:37 INF] CORS policy execution successful.
[2025-03-06 23:23:37 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:23:37 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:23:37 DBG] Successfully validated the token.
[2025-03-06 23:23:37 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 23:23:37 DBG] Authorization was successful.
[2025-03-06 23:23:37 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:23:37 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 23:23:37 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 23:23:37 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:23:37 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:23:37 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:23:37 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:23:37 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:23:37 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 23:23:37 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 23:23:37 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 23:23:37 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 23:23:37 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 23:23:37 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:0000000B": started reading request body.
[2025-03-06 23:23:37 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:0000000B": done reading request body.
[2025-03-06 23:23:37 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 23:23:37 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 23:23:37 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 23:23:37 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 23:23:37 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 23:23:37 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 23:23:37 DBG] Entering MoveLesson with Lesson ID: 7, New SubTopic ID: 1
[2025-03-06 23:23:37 DBG] Moving Lesson ID: 7 to SubTopic ID: 1
[2025-03-06 23:23:37 DBG] Retrieving lesson by ID: 7
[2025-03-06 23:23:37 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:23:37 DBG] Compiling query expression: 
'DbSet<Lesson>()
    .Include(l => l.SubTopic)
    .FirstOrDefault(l => l.Id == __id_0)'
[2025-03-06 23:23:37 DBG] Including navigation: 'Lesson.SubTopic'.
[2025-03-06 23:23:37 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Lesson>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Lesson.Content (string) Required, 1], [Property: Lesson.SubTopicId (int) Required FK Index, 2], [Property: Lesson.Title (string) Required, 3] }
            1 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SubTopic.Description (string), 5], [Property: SubTopic.Title (string) Required, 6], [Property: SubTopic.TopicId (int) Required FK Index, 7] }
        SELECT TOP(1) l.Id, l.Content, l.SubTopicId, l.Title, s.Id, s.Description, s.Title, s.TopicId
        FROM Lessons AS l
        INNER JOIN SubTopics AS s ON l.SubTopicId == s.Id
        WHERE l.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Lesson>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 23:23:37 DBG] Creating DbConnection.
[2025-03-06 23:23:37 DBG] Created DbConnection. (0ms).
[2025-03-06 23:23:37 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:23:37 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 23:23:37 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:23:37 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:23:37 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:23:37 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:37 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:37 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 7ms reading results.
[2025-03-06 23:23:37 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:23:37 DBG] Retrieving subtopic by ID: 1
[2025-03-06 23:23:37 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .FirstOrDefault(st => st.Id == __id_0)'
[2025-03-06 23:23:37 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubTopic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Description (string), 1], [Property: SubTopic.Title (string) Required, 2], [Property: SubTopic.TopicId (int) Required FK Index, 3] }
        SELECT TOP(1) s.Id, s.Description, s.Title, s.TopicId
        FROM SubTopics AS s
        WHERE s.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 23:23:37 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:23:37 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 23:23:37 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:23:37 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:23:37 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:23:37 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:37 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 23:23:37 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:23:37 DBG] Updating lesson in database: Compound Sentences
[2025-03-06 23:23:37 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:37 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 23:23:37 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 23:23:37 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 23:23:37 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:37 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 23:23:37 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:23:37 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-03-06 23:23:37 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:23:37 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 21), @p1='?' (DbType = Int32), @p2='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:23:37 INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 21), @p1='?' (DbType = Int32), @p2='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:23:37 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 23:23:37 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:23:37 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:23:37 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 23:23:37 INF] Moved Lesson ID: 7 to SubTopic ID: 1
[2025-03-06 23:23:37 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 23:23:37 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 223.7078ms
[2025-03-06 23:23:37 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 23:23:37 INF] HTTP POST /api/Lesson/move responded 200 in 238.0791 ms
[2025-03-06 23:23:37 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:23:37 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:23:37 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:23:37 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 264.4102ms
[2025-03-06 23:25:31 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 23:25:31 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 23:25:31 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:25:31 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 23:25:31 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:25:31 INF] CORS policy execution successful.
[2025-03-06 23:25:31 DBG] The request is a preflight request.
[2025-03-06 23:25:31 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 21.5898ms
[2025-03-06 23:25:31 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 23:25:32 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 23:25:32 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 23:25:32 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:25:32 INF] Middleware: Handling GET request to /api/course
[2025-03-06 23:25:32 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:25:32 INF] CORS policy execution successful.
[2025-03-06 23:25:32 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:25:32 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:25:32 DBG] Successfully validated the token.
[2025-03-06 23:25:32 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 23:25:32 DBG] Authorization was successful.
[2025-03-06 23:25:32 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:25:32 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:25:32 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 23:25:32 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:25:32 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:25:32 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:25:32 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:25:32 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:25:32 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 23:25:32 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 23:25:32 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 23:25:32 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:25:32 DBG] Creating DbConnection.
[2025-03-06 23:25:32 DBG] Created DbConnection. (0ms).
[2025-03-06 23:25:32 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:25:32 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:25:32 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:25:32 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:25:32 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:25:32 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 23:25:32 INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:25:32 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:25:32 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 130ms reading results.
[2025-03-06 23:25:32 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:25:32 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:25:32 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 23:25:32 DBG] No information found on request to perform content negotiation.
[2025-03-06 23:25:32 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 23:25:32 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 23:25:32 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 23:25:32 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 23:25:32 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 177.6283ms
[2025-03-06 23:25:32 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:25:32 INF] HTTP GET /api/course responded 200 in 193.2878 ms
[2025-03-06 23:25:32 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:25:32 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:25:32 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:25:32 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 242.5285ms
[2025-03-06 23:44:09 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 23:44:09 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 23:44:09 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:44:09 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 23:44:09 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:44:09 INF] CORS policy execution successful.
[2025-03-06 23:44:09 DBG] The request is a preflight request.
[2025-03-06 23:44:09 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 34.4429ms
[2025-03-06 23:44:09 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 23:44:09 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 23:44:09 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 23:44:09 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:44:09 INF] Middleware: Handling GET request to /api/course
[2025-03-06 23:44:09 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:44:09 INF] CORS policy execution successful.
[2025-03-06 23:44:09 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:44:09 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:44:09 DBG] Successfully validated the token.
[2025-03-06 23:44:09 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 23:44:09 DBG] Authorization was successful.
[2025-03-06 23:44:09 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:44:09 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:44:09 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 23:44:09 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:44:09 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:44:09 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:44:09 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:44:09 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:44:09 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 23:44:09 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 23:44:09 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 23:44:09 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:44:09 DBG] Creating DbConnection.
[2025-03-06 23:44:09 DBG] Created DbConnection. (2ms).
[2025-03-06 23:44:09 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:44:09 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:09 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:44:09 DBG] Created DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 23:44:09 DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
[2025-03-06 23:44:09 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 23:44:09 INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:10 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:10 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 287ms reading results.
[2025-03-06 23:44:10 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:10 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:44:10 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 23:44:10 DBG] No information found on request to perform content negotiation.
[2025-03-06 23:44:10 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 23:44:10 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 23:44:10 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 23:44:10 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 23:44:10 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 407.0802ms
[2025-03-06 23:44:10 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:44:10 INF] HTTP GET /api/course responded 200 in 446.2270 ms
[2025-03-06 23:44:10 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:44:10 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:44:10 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (7ms).
[2025-03-06 23:44:10 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 538.1277ms
[2025-03-06 23:44:32 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 23:44:32 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 23:44:32 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:44:32 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 23:44:32 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:44:32 INF] CORS policy execution successful.
[2025-03-06 23:44:32 DBG] The request is a preflight request.
[2025-03-06 23:44:32 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 21.6358ms
[2025-03-06 23:44:32 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 33
[2025-03-06 23:44:32 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 23:44:32 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 23:44:32 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 23:44:32 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 23:44:32 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:44:32 INF] CORS policy execution successful.
[2025-03-06 23:44:32 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:44:32 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:44:32 DBG] Successfully validated the token.
[2025-03-06 23:44:32 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 23:44:32 DBG] Authorization was successful.
[2025-03-06 23:44:32 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:44:32 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 23:44:32 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 23:44:32 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:44:32 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:44:32 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:44:32 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:44:32 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:44:32 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 23:44:32 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 23:44:32 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 23:44:32 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 23:44:32 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 23:44:32 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:00000017": started reading request body.
[2025-03-06 23:44:32 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:00000017": done reading request body.
[2025-03-06 23:44:32 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 23:44:32 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 23:44:32 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 23:44:32 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 23:44:32 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 23:44:32 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 23:44:32 DBG] Entering MoveLesson with Lesson ID: 21, New SubTopic ID: 1
[2025-03-06 23:44:32 DBG] Moving Lesson ID: 21 to SubTopic ID: 1
[2025-03-06 23:44:32 DBG] Retrieving lesson by ID: 21
[2025-03-06 23:44:32 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:44:32 DBG] Creating DbConnection.
[2025-03-06 23:44:32 DBG] Created DbConnection. (1ms).
[2025-03-06 23:44:32 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:44:32 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:44:32 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 23:44:32 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:44:32 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:44:32 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:32 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:32 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 10ms reading results.
[2025-03-06 23:44:32 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 23:44:32 DBG] Retrieving subtopic by ID: 1
[2025-03-06 23:44:32 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:44:32 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:44:32 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 23:44:32 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:44:32 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:44:32 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:32 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 23:44:32 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 23:44:32 DBG] Updating lesson in database: Short Stories
[2025-03-06 23:44:32 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:32 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 23:44:32 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 23:44:32 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 23:44:32 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:32 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 23:44:32 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:44:32 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:44:32 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 23:44:32 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 19), @p1='?' (DbType = Int32), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:44:32 INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 19), @p1='?' (DbType = Int32), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:44:32 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 7ms reading results.
[2025-03-06 23:44:32 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:44:32 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:44:32 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 23:44:32 INF] Moved Lesson ID: 21 to SubTopic ID: 1
[2025-03-06 23:44:32 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 23:44:32 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 209.1783ms
[2025-03-06 23:44:32 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 23:44:32 INF] HTTP POST /api/Lesson/move responded 200 in 235.2149 ms
[2025-03-06 23:44:32 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:44:32 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:44:32 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:44:32 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 279.6694ms
[2025-03-06 23:47:55 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/course - null null
[2025-03-06 23:47:55 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 23:47:55 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:47:55 INF] Middleware: Handling OPTIONS request to /api/course
[2025-03-06 23:47:55 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:47:55 INF] CORS policy execution successful.
[2025-03-06 23:47:55 DBG] The request is a preflight request.
[2025-03-06 23:47:55 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/course - 204 null null 51.2306ms
[2025-03-06 23:47:55 INF] Request starting HTTP/2 GET https://localhost:7238/api/course - null null
[2025-03-06 23:47:55 DBG] 1 candidate(s) found for the request path '/api/course'
[2025-03-06 23:47:55 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/course'
[2025-03-06 23:47:55 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:47:55 INF] Middleware: Handling GET request to /api/course
[2025-03-06 23:47:55 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:47:55 INF] CORS policy execution successful.
[2025-03-06 23:47:55 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:47:55 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:47:55 DBG] Successfully validated the token.
[2025-03-06 23:47:55 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 23:47:55 DBG] Authorization was successful.
[2025-03-06 23:47:55 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:47:55 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:47:55 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCourses() on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-03-06 23:47:55 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:47:55 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:47:55 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:47:55 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:47:55 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:47:56 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 23:47:56 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-03-06 23:47:56 INF] Incoming request: GET /api/course, Query: , Body: 
[2025-03-06 23:47:56 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:47:56 DBG] Creating DbConnection.
[2025-03-06 23:47:56 DBG] Created DbConnection. (3ms).
[2025-03-06 23:47:56 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:47:56 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:47:56 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:47:56 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:47:56 DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
[2025-03-06 23:47:56 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 23:47:56 INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title", "t1"."Id", "t1"."CourseId", "t1"."Description", "t1"."Title", "t1"."Id0", "t1"."Description0", "t1"."Title0", "t1"."TopicId", "t1"."Id00", "t1"."Content", "t1"."SubTopicId", "t1"."Title00"
FROM "Courses" AS "c"
LEFT JOIN (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title", "t0"."Id" AS "Id0", "t0"."Description" AS "Description0", "t0"."Title" AS "Title0", "t0"."TopicId", "t0"."Id0" AS "Id00", "t0"."Content", "t0"."SubTopicId", "t0"."Title0" AS "Title00"
    FROM "Topics" AS "t"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
ORDER BY "c"."Id", "t1"."Id", "t1"."Id0"
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:47:56 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:47:56 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 372ms reading results.
[2025-03-06 23:47:56 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:47:56 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 23:47:56 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-03-06 23:47:56 DBG] No information found on request to perform content negotiation.
[2025-03-06 23:47:56 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-03-06 23:47:56 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-03-06 23:47:56 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-03-06 23:47:56 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-03-06 23:47:56 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 526.8557ms
[2025-03-06 23:47:56 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-03-06 23:47:56 INF] HTTP GET /api/course responded 200 in 579.5712 ms
[2025-03-06 23:47:56 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:47:56 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:47:56 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:47:56 INF] Request finished HTTP/2 GET https://localhost:7238/api/course - 200 null application/json; charset=utf-8 669.0302ms
[2025-03-06 23:48:21 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - null null
[2025-03-06 23:48:21 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 23:48:21 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:48:21 INF] Middleware: Handling OPTIONS request to /api/Lesson/move
[2025-03-06 23:48:21 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:48:21 INF] CORS policy execution successful.
[2025-03-06 23:48:21 DBG] The request is a preflight request.
[2025-03-06 23:48:21 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Lesson/move - 204 null null 17.0745ms
[2025-03-06 23:48:21 INF] Request starting HTTP/2 POST https://localhost:7238/api/Lesson/move - application/json 33
[2025-03-06 23:48:21 DBG] 1 candidate(s) found for the request path '/api/Lesson/move'
[2025-03-06 23:48:21 DBG] Endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)' with route pattern 'api/Lesson/move' is valid for the request path '/api/Lesson/move'
[2025-03-06 23:48:21 DBG] Request matched endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 23:48:21 INF] Middleware: Handling POST request to /api/Lesson/move
[2025-03-06 23:48:21 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:48:21 INF] CORS policy execution successful.
[2025-03-06 23:48:21 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:48:21 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:48:21 DBG] Successfully validated the token.
[2025-03-06 23:48:21 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 23:48:21 DBG] Authorization was successful.
[2025-03-06 23:48:21 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:48:21 INF] Executing endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 23:48:21 INF] Route matched with {action = "MoveLesson", controller = "Lesson"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveLesson(LessonTree.Models.DTO.LessonMoveResource) on controller LessonTree.API.Controllers.LessonController (LessonTree.API).
[2025-03-06 23:48:21 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:48:21 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:48:21 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:48:21 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:48:21 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:48:21 DBG] Executing controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 23:48:21 DBG] Executed controller factory for controller LessonTree.API.Controllers.LessonController (LessonTree.API)
[2025-03-06 23:48:21 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 23:48:21 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' using the name '' in request data ...
[2025-03-06 23:48:21 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 23:48:21 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:0000001F": started reading request body.
[2025-03-06 23:48:21 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:0000001F": done reading request body.
[2025-03-06 23:48:21 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LessonMoveResource'
[2025-03-06 23:48:21 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 23:48:21 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 23:48:21 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource' ...
[2025-03-06 23:48:21 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.LessonMoveResource'.
[2025-03-06 23:48:21 INF] Incoming request: POST /api/Lesson/move, Query: , Body: 
[2025-03-06 23:48:21 DBG] Entering MoveLesson with Lesson ID: 10, New SubTopic ID: 2
[2025-03-06 23:48:21 DBG] Moving Lesson ID: 10 to SubTopic ID: 2
[2025-03-06 23:48:21 DBG] Retrieving lesson by ID: 10
[2025-03-06 23:48:21 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:48:21 DBG] Creating DbConnection.
[2025-03-06 23:48:21 DBG] Created DbConnection. (1ms).
[2025-03-06 23:48:21 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:48:21 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:48:21 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 23:48:21 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:48:21 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title", "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "Lessons" AS "l"
INNER JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
WHERE "l"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:48:21 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:21 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:21 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 12ms reading results.
[2025-03-06 23:48:21 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:48:21 DBG] Retrieving subtopic by ID: 2
[2025-03-06 23:48:21 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:48:21 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:48:21 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 23:48:21 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:48:21 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:48:21 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:21 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 6ms reading results.
[2025-03-06 23:48:21 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:48:21 DBG] Updating lesson in database: Sentence Fragments
[2025-03-06 23:48:21 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:21 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 23:48:21 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 23:48:21 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 23:48:21 DBG] The navigation 'Lesson.SubTopic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:21 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 23:48:21 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:48:21 DBG] Created DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 23:48:21 DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
[2025-03-06 23:48:21 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 18), @p1='?' (DbType = Int32), @p2='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:48:21 INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 18), @p1='?' (DbType = Int32), @p2='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Content" = @p0, "SubTopicId" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:48:21 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 23:48:21 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:48:21 DBG] An entity of type 'Lesson' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:21 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 23:48:21 INF] Moved Lesson ID: 10 to SubTopic ID: 2
[2025-03-06 23:48:21 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 23:48:21 INF] Executed action LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API) in 191.9638ms
[2025-03-06 23:48:21 INF] Executed endpoint 'LessonTree.API.Controllers.LessonController.MoveLesson (LessonTree.API)'
[2025-03-06 23:48:21 INF] HTTP POST /api/Lesson/move responded 200 in 217.3481 ms
[2025-03-06 23:48:21 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:48:21 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:48:21 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (3ms).
[2025-03-06 23:48:21 INF] Request finished HTTP/2 POST https://localhost:7238/api/Lesson/move - 200 0 null 264.1063ms
[2025-03-06 23:48:43 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/SubTopic/move - null null
[2025-03-06 23:48:43 DBG] 1 candidate(s) found for the request path '/api/SubTopic/move'
[2025-03-06 23:48:43 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:48:43 INF] Middleware: Handling OPTIONS request to /api/SubTopic/move
[2025-03-06 23:48:43 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:48:43 INF] CORS policy execution successful.
[2025-03-06 23:48:43 DBG] The request is a preflight request.
[2025-03-06 23:48:43 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/SubTopic/move - 204 null null 12.4162ms
[2025-03-06 23:48:43 INF] Request starting HTTP/2 POST https://localhost:7238/api/SubTopic/move - application/json 31
[2025-03-06 23:48:43 DBG] 1 candidate(s) found for the request path '/api/SubTopic/move'
[2025-03-06 23:48:43 DBG] Endpoint 'LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API)' with route pattern 'api/SubTopic/move' is valid for the request path '/api/SubTopic/move'
[2025-03-06 23:48:43 DBG] Request matched endpoint 'LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API)'
[2025-03-06 23:48:43 INF] Middleware: Handling POST request to /api/SubTopic/move
[2025-03-06 23:48:43 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:48:43 INF] CORS policy execution successful.
[2025-03-06 23:48:43 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:48:43 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:48:43 DBG] Successfully validated the token.
[2025-03-06 23:48:43 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 23:48:43 DBG] Authorization was successful.
[2025-03-06 23:48:43 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:48:43 INF] Executing endpoint 'LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API)'
[2025-03-06 23:48:43 INF] Route matched with {action = "MoveSubTopic", controller = "SubTopic"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveSubTopic(LessonTree.Models.DTO.SubTopicMoveResource) on controller LessonTree.API.Controllers.SubTopicController (LessonTree.API).
[2025-03-06 23:48:43 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:48:43 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:48:43 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:48:43 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:48:43 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:48:43 DBG] Executing controller factory for controller LessonTree.API.Controllers.SubTopicController (LessonTree.API)
[2025-03-06 23:48:43 DBG] Executed controller factory for controller LessonTree.API.Controllers.SubTopicController (LessonTree.API)
[2025-03-06 23:48:43 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource' ...
[2025-03-06 23:48:43 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource' using the name '' in request data ...
[2025-03-06 23:48:43 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 23:48:43 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:00000023": started reading request body.
[2025-03-06 23:48:43 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:00000023": done reading request body.
[2025-03-06 23:48:43 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.SubTopicMoveResource'
[2025-03-06 23:48:43 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource'.
[2025-03-06 23:48:43 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource'.
[2025-03-06 23:48:43 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource' ...
[2025-03-06 23:48:43 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource'.
[2025-03-06 23:48:43 INF] Incoming request: POST /api/SubTopic/move, Query: , Body: 
[2025-03-06 23:48:43 DBG] Entering MoveSubTopic with SubTopic ID: 2, New Topic ID: 2
[2025-03-06 23:48:43 DBG] Moving SubTopic ID: 2 to Topic ID: 2
[2025-03-06 23:48:43 DBG] Retrieving subtopic by ID: 2
[2025-03-06 23:48:43 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:48:43 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .Include(s => s.Lessons)
    .FirstOrDefault(st => st.Id == __id_0)'
[2025-03-06 23:48:43 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-03-06 23:48:43 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubTopic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Description (string), 1], [Property: SubTopic.Title (string) Required, 2], [Property: SubTopic.TopicId (int) Required FK Index, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: Lesson.Content (string) Required, 5], [Property: Lesson.SubTopicId (int) Required FK Index, 6], [Property: Lesson.Title (string) Required, 7] }
            3 -> 4
        SELECT t.Id, t.Description, t.Title, t.TopicId, l.Id, l.Content, l.SubTopicId, l.Title
        FROM 
        (
            SELECT TOP(1) s.Id, s.Description, s.Title, s.TopicId
            FROM SubTopics AS s
            WHERE s.Id == @__id_0
        ) AS t
        LEFT JOIN Lessons AS l ON t.Id == l.SubTopicId
        ORDER BY t.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 23:48:43 DBG] Creating DbConnection.
[2025-03-06 23:48:43 DBG] Created DbConnection. (0ms).
[2025-03-06 23:48:43 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:48:43 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:48:43 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:48:43 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Title", "t"."TopicId", "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title"
FROM (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
    FROM "SubTopics" AS "s"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "Lessons" AS "l" ON "t"."Id" = "l"."SubTopicId"
ORDER BY "t"."Id"
[2025-03-06 23:48:43 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Title", "t"."TopicId", "l"."Id", "l"."Content", "l"."SubTopicId", "l"."Title"
FROM (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId"
    FROM "SubTopics" AS "s"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "Lessons" AS "l" ON "t"."Id" = "l"."SubTopicId"
ORDER BY "t"."Id"
[2025-03-06 23:48:43 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 12ms reading results.
[2025-03-06 23:48:43 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:48:43 DBG] Retrieving topic by ID: 2
[2025-03-06 23:48:43 DBG] Compiling query expression: 
'DbSet<Topic>()
    .FirstOrDefault(t => t.Id == __id_0)'
[2025-03-06 23:48:43 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CourseId (int) Required FK Index, 1], [Property: Topic.Description (string) Required, 2], [Property: Topic.Title (string) Required, 3] }
        SELECT TOP(1) t.Id, t.CourseId, t.Description, t.Title
        FROM Topics AS t
        WHERE t.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 23:48:43 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:48:43 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:48:43 DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:48:43 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
FROM "Topics" AS "t"
WHERE "t"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:48:43 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
FROM "Topics" AS "t"
WHERE "t"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:48:43 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 23:48:43 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:48:43 DBG] Updating subtopic: American Literature
[2025-03-06 23:48:43 DBG] An entity of type 'SubTopic' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 23:48:43 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 23:48:43 DBG] The foreign key property 'SubTopic.TopicId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 23:48:43 DBG] The navigation 'SubTopic.Topic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 23:48:43 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:48:43 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:48:43 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 23:48:43 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 32), @p1='?' (Size = 19), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SubTopics" SET "Description" = @p0, "Title" = @p1, "TopicId" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:48:43 INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 32), @p1='?' (Size = 19), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "SubTopics" SET "Description" = @p0, "Title" = @p1, "TopicId" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:48:43 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 2ms reading results.
[2025-03-06 23:48:43 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:48:43 DBG] An entity of type 'SubTopic' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:48:43 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 23:48:43 INF] Updated subtopic with ID: 2, Title: American Literature
[2025-03-06 23:48:43 INF] Moved SubTopic ID: 2 to Topic ID: 2
[2025-03-06 23:48:43 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 23:48:43 INF] Executed action LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API) in 164.3809ms
[2025-03-06 23:48:43 INF] Executed endpoint 'LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API)'
[2025-03-06 23:48:43 INF] HTTP POST /api/SubTopic/move responded 200 in 180.9696 ms
[2025-03-06 23:48:43 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:48:43 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:48:43 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (1ms).
[2025-03-06 23:48:43 INF] Request finished HTTP/2 POST https://localhost:7238/api/SubTopic/move - 200 0 null 206.4768ms
[2025-03-06 23:49:00 INF] Request starting HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - null null
[2025-03-06 23:49:00 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 23:49:00 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-03-06 23:49:00 INF] Middleware: Handling OPTIONS request to /api/Topic/move
[2025-03-06 23:49:00 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:49:00 INF] CORS policy execution successful.
[2025-03-06 23:49:00 DBG] The request is a preflight request.
[2025-03-06 23:49:00 INF] Request finished HTTP/2 OPTIONS https://localhost:7238/api/Topic/move - 204 null null 17.8831ms
[2025-03-06 23:49:00 INF] Request starting HTTP/2 POST https://localhost:7238/api/Topic/move - application/json 29
[2025-03-06 23:49:00 DBG] 1 candidate(s) found for the request path '/api/Topic/move'
[2025-03-06 23:49:00 DBG] Endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)' with route pattern 'api/Topic/move' is valid for the request path '/api/Topic/move'
[2025-03-06 23:49:00 DBG] Request matched endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 23:49:00 INF] Middleware: Handling POST request to /api/Topic/move
[2025-03-06 23:49:00 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-03-06 23:49:00 INF] CORS policy execution successful.
[2025-03-06 23:49:00 DBG] The host 'localhost' is excluded. Skipping HSTS header.
[2025-03-06 23:49:00 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-03-06 23:49:00 DBG] Successfully validated the token.
[2025-03-06 23:49:00 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-03-06 23:49:00 DBG] Authorization was successful.
[2025-03-06 23:49:00 DBG] Static files was skipped as the request already matched an endpoint.
[2025-03-06 23:49:00 INF] Executing endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 23:49:00 INF] Route matched with {action = "MoveTopic", controller = "Topic"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult MoveTopic(LessonTree.Models.DTO.TopicMoveResource) on controller LessonTree.API.Controllers.TopicController (LessonTree.API).
[2025-03-06 23:49:00 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-03-06 23:49:00 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-03-06 23:49:00 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-03-06 23:49:00 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-03-06 23:49:00 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-03-06 23:49:00 DBG] Executing controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 23:49:00 DBG] Executed controller factory for controller LessonTree.API.Controllers.TopicController (LessonTree.API)
[2025-03-06 23:49:00 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 23:49:00 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' using the name '' in request data ...
[2025-03-06 23:49:00 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-03-06 23:49:00 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:00000027": started reading request body.
[2025-03-06 23:49:00 DBG] Connection id "0HNAT5UOC7HF7", Request id "0HNAT5UOC7HF7:00000027": done reading request body.
[2025-03-06 23:49:00 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.TopicMoveResource'
[2025-03-06 23:49:00 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 23:49:00 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 23:49:00 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource' ...
[2025-03-06 23:49:00 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.TopicMoveResource'.
[2025-03-06 23:49:00 INF] Incoming request: POST /api/Topic/move, Query: , Body: 
[2025-03-06 23:49:00 DBG] Entering MoveTopic with Topic ID: 4, New Course ID: 2
[2025-03-06 23:49:00 DBG] Moving Topic ID: 4 to Course ID: 2
[2025-03-06 23:49:00 DBG] Retrieving topic by ID: 4
[2025-03-06 23:49:00 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
[2025-03-06 23:49:00 DBG] Compiling query expression: 
'DbSet<Topic>()
    .Include(t => t.SubTopics)
    .ThenInclude(s => s.Lessons)
    .FirstOrDefault(t => t.Id == __id_0)'
[2025-03-06 23:49:00 DBG] Including navigation: 'Topic.SubTopics'.
[2025-03-06 23:49:00 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-03-06 23:49:00 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-03-06 23:49:00 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CourseId (int) Required FK Index, 1], [Property: Topic.Description (string) Required, 2], [Property: Topic.Title (string) Required, 3] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 4], [Property: SubTopic.Description (string), 5], [Property: SubTopic.Title (string) Required, 6], [Property: SubTopic.TopicId (int) Required FK Index, 7] }
            3 -> 4
            4 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 8], [Property: Lesson.Content (string) Required, 9], [Property: Lesson.SubTopicId (int) Required FK Index, 10], [Property: Lesson.Title (string) Required, 11] }
            5 -> 8
        SELECT t0.Id, t0.CourseId, t0.Description, t0.Title, t1.Id, t1.Description, t1.Title, t1.TopicId, t1.Id0, t1.Content, t1.SubTopicId, t1.Title0
        FROM 
        (
            SELECT TOP(1) t.Id, t.CourseId, t.Description, t.Title
            FROM Topics AS t
            WHERE t.Id == @__id_0
        ) AS t0
        LEFT JOIN 
        (
            SELECT s.Id, s.Description, s.Title, s.TopicId, l.Id AS Id0, l.Content, l.SubTopicId, l.Title AS Title0
            FROM SubTopics AS s
            LEFT JOIN Lessons AS l ON s.Id == l.SubTopicId
        ) AS t1 ON t0.Id == t1.TopicId
        ORDER BY t0.Id ASC, t1.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 23:49:00 DBG] Creating DbConnection.
[2025-03-06 23:49:00 DBG] Created DbConnection. (1ms).
[2025-03-06 23:49:00 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:49:00 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:49:00 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 23:49:00 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 23:49:00 INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."CourseId", "t0"."Description", "t0"."Title", "t1"."Id", "t1"."Description", "t1"."Title", "t1"."TopicId", "t1"."Id0", "t1"."Content", "t1"."SubTopicId", "t1"."Title0"
FROM (
    SELECT "t"."Id", "t"."CourseId", "t"."Description", "t"."Title"
    FROM "Topics" AS "t"
    WHERE "t"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "s"."Id", "s"."Description", "s"."Title", "s"."TopicId", "l"."Id" AS "Id0", "l"."Content", "l"."SubTopicId", "l"."Title" AS "Title0"
    FROM "SubTopics" AS "s"
    LEFT JOIN "Lessons" AS "l" ON "s"."Id" = "l"."SubTopicId"
) AS "t1" ON "t0"."Id" = "t1"."TopicId"
ORDER BY "t0"."Id", "t1"."Id"
[2025-03-06 23:49:00 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:49:00 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 4ms reading results.
[2025-03-06 23:49:00 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:49:00 DBG] Compiling query expression: 
'DbSet<Course>()
    .FirstOrDefault(c => c.Id == __id_0)'
[2025-03-06 23:49:00 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Course>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Course.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Course.Description (string) Required, 1], [Property: Course.Title (string) Required, 2] }
        SELECT TOP(1) c.Id, c.Description, c.Title
        FROM Courses AS c
        WHERE c.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Course>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
[2025-03-06 23:49:00 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:49:00 DBG] Created DbCommand for 'ExecuteReader' (2ms).
[2025-03-06 23:49:00 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-03-06 23:49:00 DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:49:00 INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Title"
FROM "Courses" AS "c"
WHERE "c"."Id" = @__id_0
LIMIT 1
[2025-03-06 23:49:00 DBG] Context 'LessonTreeContext' started tracking 'Course' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:49:00 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 5ms reading results.
[2025-03-06 23:49:00 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:49:00 DBG] Updating topic: Vocabulary
[2025-03-06 23:49:00 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:49:00 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-03-06 23:49:00 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-03-06 23:49:00 DBG] The foreign key property 'Topic.CourseId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
[2025-03-06 23:49:00 DBG] The navigation 'Topic.Course' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:49:00 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-03-06 23:49:00 DBG] Opening connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Opened connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-03-06 23:49:00 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-03-06 23:49:00 DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
[2025-03-06 23:49:00 DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 25), @p2='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:49:00 INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 25), @p2='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Topics" SET "CourseId" = @p0, "Description" = @p1, "Title" = @p2
WHERE "Id" = @p3
RETURNING 1;
[2025-03-06 23:49:00 DBG] Closing data reader to 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] A data reader for 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db' is being disposed after spending 3ms reading results.
[2025-03-06 23:49:00 DBG] Closing connection to database 'main' on server 'C:\Users\SWash\LessonTree\LessonTree\LessonTree.Api\LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Closed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:49:00 DBG] An entity of type 'Topic' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
[2025-03-06 23:49:00 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-03-06 23:49:00 INF] Updated topic with ID: 4, Title: Vocabulary
[2025-03-06 23:49:00 INF] Moved Topic ID: 4 to Course ID: 2
[2025-03-06 23:49:00 INF] Executing StatusCodeResult, setting HTTP status code 200
[2025-03-06 23:49:00 INF] Executed action LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API) in 215.7661ms
[2025-03-06 23:49:00 INF] Executed endpoint 'LessonTree.API.Controllers.TopicController.MoveTopic (LessonTree.API)'
[2025-03-06 23:49:00 INF] HTTP POST /api/Topic/move responded 200 in 240.5553 ms
[2025-03-06 23:49:00 DBG] 'LessonTreeContext' disposed.
[2025-03-06 23:49:00 DBG] Disposing connection to database 'main' on server 'LessonTree.dev.db'.
[2025-03-06 23:49:00 DBG] Disposed connection to database 'main' on server 'LessonTree.dev.db' (2ms).
[2025-03-06 23:49:00 INF] Request finished HTTP/2 POST https://localhost:7238/api/Topic/move - 200 0 null 280.9662ms
[2025-03-06 23:52:13 DBG] Connection id "0HNAT5UOC7HF5" received FIN.
[2025-03-06 23:52:13 DBG] Connection id "0HNAT5UOC7HF7" received FIN.
[2025-03-06 23:52:13 DBG] Connection id "0HNAT5UOC7HF5" is closed. The last processed stream ID was 21.
[2025-03-06 23:52:13 DBG] Connection id "0HNAT5UOC7HF7" is closed. The last processed stream ID was 39.
[2025-03-06 23:52:13 DBG] The connection queue processing loop for 0HNAT5UOC7HF7 completed.
[2025-03-06 23:52:13 DBG] Connection id "0HNAT5UOC7HF5" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 23:52:13 DBG] Connection id "0HNAT5UOC7HF7" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-03-06 23:52:13 DBG] The connection queue processing loop for 0HNAT5UOC7HF5 completed.
[2025-03-06 23:52:13 DBG] Connection id "0HNAT5UOC7HF7" stopped.
[2025-03-06 23:52:13 DBG] Connection id "0HNAT5UOC7HF5" stopped.

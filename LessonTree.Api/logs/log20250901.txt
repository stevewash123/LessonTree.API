[2025-09-01 10:47:34 DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
[2025-09-01 10:47:34 WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
[2025-09-01 10:47:34 INF] User profile is available. Using 'C:\Users\steve\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-09-01 10:47:34 INF] 🌱 Starting database seeding with schedule generation...
[2025-09-01 10:47:34 INF] 🌱 Starting comprehensive test data seeding...
[2025-09-01 10:47:34 INF] 📋 Phase 1: Seeding base data (users, courses, configurations)
[2025-09-01 10:47:34 DBG] The index {'DepartmentsId'} was not created on entity type 'DepartmentUser (Dictionary<string, object>)' as the properties are already covered by the index {'DepartmentsId', 'MembersId'}.
[2025-09-01 10:47:34 DBG] The index {'TopicId'} was not created on entity type 'Lesson' as the properties are already covered by the index {'TopicId', 'SubTopicId', 'SortOrder'}.
[2025-09-01 10:47:34 DBG] The index {'UserId'} was not created on entity type 'Lesson' as the properties are already covered by the index {'UserId', 'TopicId', 'SubTopicId'}.
[2025-09-01 10:47:34 DBG] The index {'LessonId'} was not created on entity type 'LessonAttachment' as the properties are already covered by the index {'LessonId', 'AttachmentId'}.
[2025-09-01 10:47:34 DBG] The index {'LessonId'} was not created on entity type 'LessonStandard' as the properties are already covered by the index {'LessonId', 'StandardId'}.
[2025-09-01 10:47:34 DBG] The index {'ScheduleConfigurationId'} was not created on entity type 'PeriodAssignment' as the properties are already covered by the index {'ScheduleConfigurationId', 'Period'}.
[2025-09-01 10:47:34 DBG] The index {'UserId'} was not created on entity type 'ScheduleConfiguration' as the properties are already covered by the index {'UserId', 'IsActive'}.
[2025-09-01 10:47:34 DBG] The index {'UserId'} was not created on entity type 'ScheduleConfiguration' as the properties are already covered by the index {'UserId', 'SchoolYear'}.
[2025-09-01 10:47:34 DBG] The index {'ScheduleId'} was not created on entity type 'ScheduleEvent' as the properties are already covered by the index {'ScheduleId', 'LessonId'}.
[2025-09-01 10:47:34 DBG] The index {'ScheduleId'} was not created on entity type 'ScheduleEvent' as the properties are already covered by the index {'ScheduleId', 'Date', 'Period'}.
[2025-09-01 10:47:34 DBG] The index {'ScheduleId'} was not created on entity type 'ScheduleEvent' as the properties are already covered by the index {'ScheduleId', 'Date', 'Period'}.
[2025-09-01 10:47:34 DBG] The index {'ScheduleId'} was not created on entity type 'SpecialDay' as the properties are already covered by the index {'ScheduleId', 'Date'}.
[2025-09-01 10:47:34 DBG] The index {'TopicId'} was not created on entity type 'SubTopic' as the properties are already covered by the index {'TopicId', 'SortOrder'}.
[2025-09-01 10:47:34 DBG] The index {'CourseId'} was not created on entity type 'Topic' as the properties are already covered by the index {'CourseId', 'SortOrder'}.
[2025-09-01 10:47:34 DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
[2025-09-01 10:47:34 DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
[2025-09-01 10:47:35 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-09-01 10:47:35 DBG] The property 'DepartmentUser (Dictionary<string, object>).DepartmentsId' was created in shadow state because there are no eligible CLR members with a matching name.
[2025-09-01 10:47:35 DBG] The property 'DepartmentUser (Dictionary<string, object>).MembersId' was created in shadow state because there are no eligible CLR members with a matching name.
[2025-09-01 10:47:35 DBG] The property 'Schedule.CourseId' was created in shadow state because there are no eligible CLR members with a matching name.
[2025-09-01 10:47:35 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled 
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<ScheduleEvent>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ScheduleEvent>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ScheduleEvent.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScheduleEvent.Comment (string) MaxLength(1000), 1], [Property: ScheduleEvent.CourseId (int?), 2], [Property: ScheduleEvent.Date (DateTime) Required Index, 3], [Property: ScheduleEvent.EventCategory (string) MaxLength(50), 4], [Property: ScheduleEvent.EventType (string) Required MaxLength(50), 5], [Property: ScheduleEvent.LessonId (int?) FK Index, 6], [Property: ScheduleEvent.Period (int) Required Index, 7], [Property: ScheduleEvent.ScheduleId (int) Required FK Index, 8], [Property: ScheduleEvent.ScheduleSort (int) Required, 9] }
        SELECT s.Id, s.Comment, s.CourseId, s.Date, s.EventCategory, s.EventType, s.LessonId, s.Period, s.ScheduleId, s.ScheduleSort
        FROM ScheduleEvents AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScheduleEvent>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Creating DbConnection.
[2025-09-01 10:47:35 DBG] Created DbConnection. (4ms).
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (1ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Comment", "s"."CourseId", "s"."Date", "s"."EventCategory", "s"."EventType", "s"."LessonId", "s"."Period", "s"."ScheduleId", "s"."ScheduleSort"
FROM "ScheduleEvents" AS "s"
[2025-09-01 10:47:35 INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Comment", "s"."CourseId", "s"."Date", "s"."EventCategory", "s"."EventType", "s"."LessonId", "s"."Period", "s"."ScheduleId", "s"."ScheduleSort"
FROM "ScheduleEvents" AS "s"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 45}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 45}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 46}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 46}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 47}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 47}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 48}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 48}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 49}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 49}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 50}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 50}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 51}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 51}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 52}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 52}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 53}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 53}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 54}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 54}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 55}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 55}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 56}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 56}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 57}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 57}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 58}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 58}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 59}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 59}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 60}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 60}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 61}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 61}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 62}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 62}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 63}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 63}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 64}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 64}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 65}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 65}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 66}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 66}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 59ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (1ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<Schedule>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Schedule>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Schedule.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.CourseId (no field, int?) Shadow FK Index, 1], [Property: Schedule.CreatedDate (DateTime) Required, 2], [Property: Schedule.IsLocked (bool) Required, 3], [Property: Schedule.ScheduleConfigurationId (int) Required FK Index, 4], [Property: Schedule.Title (string) Required MaxLength(100), 5], [Property: Schedule.UserId (int) Required FK Index, 6] }
        SELECT s.Id, s.CourseId, s.CreatedDate, s.IsLocked, s.ScheduleConfigurationId, s.Title, s.UserId
        FROM Schedules AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId"
FROM "Schedules" AS "s"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId"
FROM "Schedules" AS "s"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Schedule' entity with key '{Id: 3}'.
[2025-09-01 10:47:35 DBG] The 'Schedule' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 18ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<LessonAttachment>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LessonAttachment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LessonAttachment.LessonId (int) Required PK FK AfterSave:Throw, 0], [Property: LessonAttachment.AttachmentId (int) Required PK FK Index AfterSave:Throw, 1] }
        SELECT l.LessonId, l.AttachmentId
        FROM LessonAttachments AS l), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LessonAttachment>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LessonId", "l"."AttachmentId"
FROM "LessonAttachments" AS "l"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LessonId", "l"."AttachmentId"
FROM "LessonAttachments" AS "l"
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<LessonStandard>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<LessonStandard>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: LessonStandard.LessonId (int) Required PK FK AfterSave:Throw, 0], [Property: LessonStandard.StandardId (int) Required PK FK Index AfterSave:Throw, 1] }
        SELECT l.LessonId, l.StandardId
        FROM LessonStandards AS l), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, LessonStandard>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LessonId", "l"."StandardId"
FROM "LessonStandards" AS "l"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."LessonId", "l"."StandardId"
FROM "LessonStandards" AS "l"
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<Note>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Note>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Note.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Note.Content (string) Required, 1], [Property: Note.CourseId (int?) FK Index, 2], [Property: Note.CreatedDate (DateTime) Required, 3], [Property: Note.LessonId (int?) FK Index, 4], [Property: Note.SubTopicId (int?) FK Index, 5], [Property: Note.TopicId (int?) FK Index, 6], [Property: Note.UserId (int) Required FK Index, 7], [Property: Note.Visibility (VisibilityType) Required, 8] }
        SELECT n.Id, n.Content, n.CourseId, n.CreatedDate, n.LessonId, n.SubTopicId, n.TopicId, n.UserId, n.Visibility
        FROM Notes AS n), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Note>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."Content", "n"."CourseId", "n"."CreatedDate", "n"."LessonId", "n"."SubTopicId", "n"."TopicId", "n"."UserId", "n"."Visibility"
FROM "Notes" AS "n"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "n"."Id", "n"."Content", "n"."CourseId", "n"."CreatedDate", "n"."LessonId", "n"."SubTopicId", "n"."TopicId", "n"."UserId", "n"."Visibility"
FROM "Notes" AS "n"
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<Lesson>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Lesson>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Lesson.Archived (bool) Required, 1], [Property: Lesson.Assessment (string) MaxLength(250), 2], [Property: Lesson.ClassTime (string) MaxLength(100), 3], [Property: Lesson.Level (string) MaxLength(100), 4], [Property: Lesson.Materials (string) MaxLength(200), 5], [Property: Lesson.Methods (string) MaxLength(500), 6], [Property: Lesson.Objective (string) Required MaxLength(500), 7], [Property: Lesson.SortOrder (int) Required Index, 8], [Property: Lesson.SpecialNeeds (string) MaxLength(500), 9], [Property: Lesson.SubTopicId (int?) FK Index, 10], [Property: Lesson.Title (string) Required MaxLength(200), 11], [Property: Lesson.TopicId (int?) FK Index, 12], [Property: Lesson.UserId (int) Required FK Index, 13], [Property: Lesson.Visibility (VisibilityType) Required, 14] }
        SELECT l.Id, l.Archived, l.Assessment, l.ClassTime, l.Level, l.Materials, l.Methods, l.Objective, l.SortOrder, l.SpecialNeeds, l.SubTopicId, l.Title, l.TopicId, l.UserId, l.Visibility
        FROM Lessons AS l), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Lesson>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
FROM "Lessons" AS "l"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
FROM "Lessons" AS "l"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 41}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 41}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 42}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 42}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 43}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 43}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 44}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 44}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 45}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 45}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 46}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 46}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 47}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 47}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 48}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 48}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 49}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 49}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 50}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 50}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 51}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 51}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 52}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 52}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 53}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 53}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 54}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 54}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 55}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 55}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 56}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 56}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 57}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 57}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 58}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 58}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 59}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 59}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 60}'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 60}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 53ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<SubTopic>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubTopic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Archived (bool) Required, 1], [Property: SubTopic.Description (string), 2], [Property: SubTopic.IsDefault (bool) Required, 3], [Property: SubTopic.SortOrder (int) Required Index, 4], [Property: SubTopic.Title (string) Required, 5], [Property: SubTopic.TopicId (int) Required FK Index, 6], [Property: SubTopic.UserId (int) Required FK Index, 7], [Property: SubTopic.Visibility (VisibilityType) Required, 8] }
        SELECT s.Id, s.Archived, s.Description, s.IsDefault, s.SortOrder, s.Title, s.TopicId, s.UserId, s.Visibility
        FROM SubTopics AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility"
FROM "SubTopics" AS "s"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility"
FROM "SubTopics" AS "s"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: 9}'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 9}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: 10}'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 10}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: 11}'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 11}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: 12}'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 12}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 11ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<Topic>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.Archived (bool) Required, 1], [Property: Topic.CourseId (int) Required FK Index, 2], [Property: Topic.Description (string), 3], [Property: Topic.SortOrder (int) Required Index, 4], [Property: Topic.Title (string) Required, 5], [Property: Topic.UserId (int) Required FK Index, 6], [Property: Topic.Visibility (VisibilityType) Required, 7] }
        SELECT t.Id, t.Archived, t.CourseId, t.Description, t.SortOrder, t.Title, t.UserId, t.Visibility
        FROM Topics AS t), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility"
FROM "Topics" AS "t"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility"
FROM "Topics" AS "t"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: 9}'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 9}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: 10}'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 10}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: 11}'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 11}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: 12}'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 12}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 11ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<Course>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Course>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Course.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Course.Archived (bool) Required, 1], [Property: Course.Description (string), 2], [Property: Course.Title (string) Required, 3], [Property: Course.UserId (int) Required FK Index, 4], [Property: Course.Visibility (VisibilityType) Required, 5] }
        SELECT c.Id, c.Archived, c.Description, c.Title, c.UserId, c.Visibility
        FROM Courses AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Course>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Archived", "c"."Description", "c"."Title", "c"."UserId", "c"."Visibility"
FROM "Courses" AS "c"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Archived", "c"."Description", "c"."Title", "c"."UserId", "c"."Visibility"
FROM "Courses" AS "c"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Course' entity with key '{Id: 5}'.
[2025-09-01 10:47:35 DBG] The 'Course' entity with key '{Id: 5}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Course' entity with key '{Id: 6}'.
[2025-09-01 10:47:35 DBG] The 'Course' entity with key '{Id: 6}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 12ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<Standard>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Standard>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Standard.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Standard.CourseId (int) Required FK Index, 1], [Property: Standard.Description (string) MaxLength(500), 2], [Property: Standard.DistrictId (int?) FK Index, 3], [Property: Standard.StandardType (string) MaxLength(20), 4], [Property: Standard.Title (string) Required, 5], [Property: Standard.TopicId (int?) FK Index, 6] }
        SELECT s.Id, s.CourseId, s.Description, s.DistrictId, s.StandardType, s.Title, s.TopicId
        FROM Standards AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Standard>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CourseId", "s"."Description", "s"."DistrictId", "s"."StandardType", "s"."Title", "s"."TopicId"
FROM "Standards" AS "s"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CourseId", "s"."Description", "s"."DistrictId", "s"."StandardType", "s"."Title", "s"."TopicId"
FROM "Standards" AS "s"
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<Attachment>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Attachment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Attachment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Attachment.Blob (byte[]) Required, 1], [Property: Attachment.ContentType (string), 2], [Property: Attachment.Description (string), 3], [Property: Attachment.FileName (string) Required, 4], [Property: Attachment.FileSize (int) Required, 5], [Property: Attachment.GoogleDocId (string), 6], [Property: Attachment.GoogleDocUrl (string), 7], [Property: Attachment.Name (string), 8], [Property: Attachment.Shared (bool) Required, 9], [Property: Attachment.Type (AttachmentType) Required, 10] }
        SELECT a.Id, a.Blob, a.ContentType, a.Description, a.FileName, a.FileSize, a.GoogleDocId, a.GoogleDocUrl, a.Name, a.Shared, a.Type
        FROM Attachments AS a), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Attachment>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Blob", "a"."ContentType", "a"."Description", "a"."FileName", "a"."FileSize", "a"."GoogleDocId", "a"."GoogleDocUrl", "a"."Name", "a"."Shared", "a"."Type"
FROM "Attachments" AS "a"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Blob", "a"."ContentType", "a"."Description", "a"."FileName", "a"."FileSize", "a"."GoogleDocId", "a"."GoogleDocUrl", "a"."Name", "a"."Shared", "a"."Type"
FROM "Attachments" AS "a"
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<UserConfiguration>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserConfiguration.LastUpdated (DateTime) Required, 1], [Property: UserConfiguration.SettingsJson (string), 2], [Property: UserConfiguration.UserId (int) Required FK Index, 3] }
        SELECT u.Id, u.LastUpdated, u.SettingsJson, u.UserId
        FROM UserConfigurations AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserConfiguration>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."LastUpdated", "u"."SettingsJson", "u"."UserId"
FROM "UserConfigurations" AS "u"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."LastUpdated", "u"."SettingsJson", "u"."UserId"
FROM "UserConfigurations" AS "u"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'UserConfiguration' entity with key '{Id: 3}'.
[2025-09-01 10:47:35 DBG] The 'UserConfiguration' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 4ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<PeriodAssignment>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PeriodAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PeriodAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PeriodAssignment.BackgroundColor (string) Required MaxLength(7), 1], [Property: PeriodAssignment.CourseId (int?), 2], [Property: PeriodAssignment.FontColor (string) Required MaxLength(7), 3], [Property: PeriodAssignment.Notes (string) MaxLength(500), 4], [Property: PeriodAssignment.Period (int) Required Index, 5], [Property: PeriodAssignment.Room (string) MaxLength(50), 6], [Property: PeriodAssignment.ScheduleConfigurationId (int) Required FK Index, 7], [Property: PeriodAssignment.SpecialPeriodType (string) MaxLength(50), 8], [Property: PeriodAssignment.TeachingDays (string) Required MaxLength(200), 9] }
        SELECT p.Id, p.BackgroundColor, p.CourseId, p.FontColor, p.Notes, p.Period, p.Room, p.ScheduleConfigurationId, p.SpecialPeriodType, p.TeachingDays
        FROM PeriodAssignments AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PeriodAssignment>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays"
FROM "PeriodAssignments" AS "p"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays"
FROM "PeriodAssignments" AS "p"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 5}'.
[2025-09-01 10:47:35 DBG] The 'PeriodAssignment' entity with key '{Id: 5}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 6}'.
[2025-09-01 10:47:35 DBG] The 'PeriodAssignment' entity with key '{Id: 6}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 10ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<ScheduleConfiguration>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ScheduleConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ScheduleConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScheduleConfiguration.CreatedDate (DateTime) Required, 1], [Property: ScheduleConfiguration.EndDate (DateTime) Required, 2], [Property: ScheduleConfiguration.IsActive (bool) Required Index, 3], [Property: ScheduleConfiguration.IsTemplate (bool) Required, 4], [Property: ScheduleConfiguration.LastUpdated (DateTime) Required, 5], [Property: ScheduleConfiguration.PeriodsPerDay (int) Required, 6], [Property: ScheduleConfiguration.SchoolYear (string) Required Index MaxLength(20), 7], [Property: ScheduleConfiguration.StartDate (DateTime) Required, 8], [Property: ScheduleConfiguration.TeachingDays (string) Required MaxLength(200), 9], [Property: ScheduleConfiguration.Title (string) Required MaxLength(100), 10], [Property: ScheduleConfiguration.UserId (int) Required FK Index, 11] }
        SELECT s.Id, s.CreatedDate, s.EndDate, s.IsActive, s.IsTemplate, s.LastUpdated, s.PeriodsPerDay, s.SchoolYear, s.StartDate, s.TeachingDays, s.Title, s.UserId
        FROM ScheduleConfigurations AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScheduleConfiguration>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId"
FROM "ScheduleConfigurations" AS "s"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId"
FROM "ScheduleConfigurations" AS "s"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleConfiguration' entity with key '{Id: 3}'.
[2025-09-01 10:47:35 DBG] The 'ScheduleConfiguration' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 12ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<Department>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Department>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Department.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Department.Description (string), 1], [Property: Department.Name (string) Required, 2], [Property: Department.SchoolId (int) Required FK Index, 3] }
        SELECT d.Id, d.Description, d.Name, d.SchoolId
        FROM Departments AS d), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Department>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."Description", "d"."Name", "d"."SchoolId"
FROM "Departments" AS "d"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."Description", "d"."Name", "d"."SchoolId"
FROM "Departments" AS "d"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Department' entity with key '{Id: 3}'.
[2025-09-01 10:47:35 DBG] The 'Department' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 7ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<School>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<School>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: School.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: School.Description (string), 1], [Property: School.DistrictId (int) Required FK Index, 2], [Property: School.Name (string) Required, 3] }
        SELECT s.Id, s.Description, s.DistrictId, s.Name
        FROM Schools AS s), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, School>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."DistrictId", "s"."Name"
FROM "Schools" AS "s"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Description", "s"."DistrictId", "s"."Name"
FROM "Schools" AS "s"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'School' entity with key '{Id: 3}'.
[2025-09-01 10:47:35 DBG] The 'School' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 6ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<District>()'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<District>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: District.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: District.Description (string), 1], [Property: District.Name (string) Required, 2] }
        SELECT d.Id, d.Description, d.Name
        FROM Districts AS d), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, District>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."Description", "d"."Name"
FROM "Districts" AS "d"
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "d"."Id", "d"."Description", "d"."Name"
FROM "Districts" AS "d"
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'District' entity with key '{Id: 3}'.
[2025-09-01 10:47:35 DBG] The 'District' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Deleted"'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 10ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Beginning transaction with isolation level 'Unspecified'.
[2025-09-01 10:47:35 DBG] Began transaction with isolation level 'Serializable'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Departments"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (3ms) [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Departments"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 3ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='5'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PeriodAssignments"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='5'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PeriodAssignments"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='6'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PeriodAssignments"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='6'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PeriodAssignments"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='45'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='45'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='46'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='46'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='47'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='47'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='48'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='48'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='49'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='49'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='50'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='50'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='51'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='51'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='52'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='52'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='53'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='53'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='54'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='54'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='55'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='55'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='56'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='56'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='57'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='57'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='58'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='58'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='59'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='59'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='60'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='60'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='61'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='61'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='62'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='62'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='63'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='63'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='64'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='64'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='65'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='65'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='66'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='66'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "UserConfigurations"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "UserConfigurations"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='41'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='41'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='42'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='42'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='43'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='43'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='44'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='44'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='45'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='45'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='46'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='46'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='47'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='47'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='48'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='48'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='49'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='49'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='50'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='50'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='51'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='51'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='52'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='52'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='53'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='53'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='54'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='54'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='55'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='55'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='56'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='56'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='57'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='57'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='58'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='58'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='59'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='59'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='60'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='60'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Schedules"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Schedules"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Schools"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Schools"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Districts"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Districts"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleConfigurations"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='3'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleConfigurations"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='9'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SubTopics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='9'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SubTopics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='10'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SubTopics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='10'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SubTopics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='11'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SubTopics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='11'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SubTopics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='12'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SubTopics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='12'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SubTopics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='9'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Topics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='9'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Topics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='10'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Topics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='10'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Topics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='11'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Topics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='11'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Topics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='12'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Topics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='12'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Topics"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='5'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Courses"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='5'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Courses"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='6'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Courses"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='6'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Courses"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Committing transaction.
[2025-09-01 10:47:35 DBG] Committed transaction.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Disposing transaction.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 45}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 46}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 47}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 48}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 49}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 50}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 51}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 52}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 53}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 54}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 55}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 56}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 57}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 58}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 59}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 60}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 61}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 62}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 63}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 64}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 65}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleEvent' entity with key '{Id: 66}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Schedule' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 41}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 42}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 43}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 44}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 45}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 46}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 47}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 48}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 49}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 50}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 51}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 52}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 53}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 54}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 55}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 56}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 57}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 58}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 59}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 60}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 9}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 10}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 11}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 12}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 9}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 10}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 11}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 12}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Course' entity with key '{Id: 5}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Course' entity with key '{Id: 6}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'UserConfiguration' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'PeriodAssignment' entity with key '{Id: 5}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'PeriodAssignment' entity with key '{Id: 6}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleConfiguration' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'Department' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'School' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] The 'District' entity with key '{Id: 3}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:47:35 DBG] SaveChanges completed for 'LessonTreeContext' with 60 entities written to the database.
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<IdentityRole<int>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<int>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<int>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<int>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<int>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<int>.Name (string) MaxLength(256), 2], [Property: IdentityRole<int>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<int>>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='ADMIN' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-09-01 10:47:35 INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='ADMIN' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity with key '{Id: 1}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 6ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='PAIDUSER' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='PAIDUSER' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity with key '{Id: 2}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@__normalizedName_0='FREEUSER' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@__normalizedName_0='FREEUSER' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."ConcurrencyStamp", "a"."Name", "a"."NormalizedName"
FROM "AspNetRoles" AS "a"
WHERE "a"."NormalizedName" = @__normalizedName_0
LIMIT 1
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'IdentityRole' entity with key '{Id: 3}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'District.Id'.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'District' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='Test district' (Size = 13), @p1='Test District' (Nullable = false) (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Districts" ("Description", "Name")
VALUES (@p0, @p1)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='Test district' (Size = 13), @p1='Test District' (Nullable = false) (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Districts" ("Description", "Name")
VALUES (@p0, @p1)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'District.Id' was detected as changed from '-2147482647' to '4' for entity with key '{Id: 4}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 10ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] The 'District' entity with key '{Id: 4}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'School.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'School.District' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'School' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='Test school' (Size = 11), @p1='4', @p2='Test School' (Nullable = false) (Size = 11)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Schools" ("Description", "DistrictId", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='Test school' (Size = 11), @p1='4', @p2='Test School' (Nullable = false) (Size = 11)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Schools" ("Description", "DistrictId", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'School.Id' was detected as changed from '-2147482647' to '4' for entity with key '{Id: 4}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 4ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] The 'School' entity with key '{Id: 4}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'Department.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Department.School' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Department' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='Math department' (Size = 15), @p1='Mathematics' (Nullable = false) (Size = 11), @p2='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Departments" ("Description", "Name", "SchoolId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='Math department' (Size = 15), @p1='Mathematics' (Nullable = false) (Size = 11), @p2='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Departments" ("Description", "Name", "SchoolId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Department.Id' was detected as changed from '-2147482647' to '4' for entity with key '{Id: 4}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 3ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] The 'Department' entity with key '{Id: 4}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-09-01 10:47:35 DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
[2025-09-01 10:47:35 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.DistrictId (int?) FK Index, 3], [Property: User.Email (string) MaxLength(256), 4], [Property: User.EmailConfirmed (bool) Required, 5], [Property: User.FirstName (string) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SchoolId (int?) FK Index, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string) MaxLength(256), 18] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DistrictId, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SchoolId, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'User' entity with key '{Id: 1}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 32ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 INF] 📚 Seeding courses with topics and lessons
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'Course.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Course.User' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Course' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'Topic.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Topic.Course' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] The navigation 'Topic.User' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482647' for entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482646' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482647' for entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482645' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482645}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482647' for entity with key '{Id: -2147482645}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482645}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482645}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'SubTopic.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'SubTopic.Topic' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] The navigation 'SubTopic.User' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482644' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482644}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '0' to '-2147482647' for entity with key '{Id: -2147482644}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.SubTopic' for entity with key '{Id: -2147482644}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482644}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482643' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482643}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '0' to '-2147482647' for entity with key '{Id: -2147482643}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.SubTopic' for entity with key '{Id: -2147482643}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482643}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482646' for the property 'Topic.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Topic.Course' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:35 DBG] The navigation 'Topic.User' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482642' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482642}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482646' for entity with key '{Id: -2147482642}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482642}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482642}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482641' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482641}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482646' for entity with key '{Id: -2147482641}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482641}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482641}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482640' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482640}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482646' for entity with key '{Id: -2147482640}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482640}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482640}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482646' for the property 'SubTopic.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'SubTopic.Topic' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:35 DBG] The navigation 'SubTopic.User' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482639' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482639}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '0' to '-2147482646' for entity with key '{Id: -2147482639}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.SubTopic' for entity with key '{Id: -2147482639}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482639}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482638' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482638}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '0' to '-2147482646' for entity with key '{Id: -2147482638}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.SubTopic' for entity with key '{Id: -2147482638}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482638}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482646' for the property 'Course.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Course.User' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Course' entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482645' for the property 'Topic.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Topic.Course' for entity with key '{Id: -2147482645}' was detected as changed.
[2025-09-01 10:47:35 DBG] The navigation 'Topic.User' for entity with key '{Id: -2147482645}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: -2147482645}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482637' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482637}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482645' for entity with key '{Id: -2147482637}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482637}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482637}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482636' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482636}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482645' for entity with key '{Id: -2147482636}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482636}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482636}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482635' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482635}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482645' for entity with key '{Id: -2147482635}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482635}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482635}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482645' for the property 'SubTopic.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'SubTopic.Topic' for entity with key '{Id: -2147482645}' was detected as changed.
[2025-09-01 10:47:35 DBG] The navigation 'SubTopic.User' for entity with key '{Id: -2147482645}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: -2147482645}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482634' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482634}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '0' to '-2147482645' for entity with key '{Id: -2147482634}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.SubTopic' for entity with key '{Id: -2147482634}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482634}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482633' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482633}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '0' to '-2147482645' for entity with key '{Id: -2147482633}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.SubTopic' for entity with key '{Id: -2147482633}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482633}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482644' for the property 'Topic.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Topic.Course' for entity with key '{Id: -2147482644}' was detected as changed.
[2025-09-01 10:47:35 DBG] The navigation 'Topic.User' for entity with key '{Id: -2147482644}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: -2147482644}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482632' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482632}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482644' for entity with key '{Id: -2147482632}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482632}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482632}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482631' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482631}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482644' for entity with key '{Id: -2147482631}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482631}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482631}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482630' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482630}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '0' to '-2147482644' for entity with key '{Id: -2147482630}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.Topic' for entity with key '{Id: -2147482630}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482630}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482644' for the property 'SubTopic.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'SubTopic.Topic' for entity with key '{Id: -2147482644}' was detected as changed.
[2025-09-01 10:47:35 DBG] The navigation 'SubTopic.User' for entity with key '{Id: -2147482644}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: -2147482644}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482629' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482629}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '0' to '-2147482644' for entity with key '{Id: -2147482629}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.SubTopic' for entity with key '{Id: -2147482629}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482629}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482628' for the property 'Lesson.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.User' for entity with key '{Id: -2147482628}' was detected as changed.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '0' to '-2147482644' for entity with key '{Id: -2147482628}'.
[2025-09-01 10:47:35 DBG] The navigation 'Lesson.SubTopic' for entity with key '{Id: -2147482628}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: -2147482628}'.
[2025-09-01 10:47:35 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Beginning transaction with isolation level 'Unspecified'.
[2025-09-01 10:47:35 DBG] Began transaction with isolation level 'Serializable'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Test course 1 for comprehensive testing' (Size = 39), @p2='Course 1' (Nullable = false) (Size = 8), @p3='1', @p4='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Archived", "Description", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Test course 1 for comprehensive testing' (Size = 39), @p2='Course 1' (Nullable = false) (Size = 8), @p3='1', @p4='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Archived", "Description", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Course.Id' was detected as changed from '-2147482647' to '7' for entity with key '{Id: 7}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Topic.CourseId' was detected as changed from '-2147482647' to '7' for entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Topic.CourseId' was detected as changed from '-2147482647' to '7' for entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 2ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Test course 2 for comprehensive testing' (Size = 39), @p2='Course 2' (Nullable = false) (Size = 8), @p3='1', @p4='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Archived", "Description", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Test course 2 for comprehensive testing' (Size = 39), @p2='Course 2' (Nullable = false) (Size = 8), @p3='1', @p4='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Courses" ("Archived", "Description", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Course.Id' was detected as changed from '-2147482646' to '8' for entity with key '{Id: 8}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Topic.CourseId' was detected as changed from '-2147482646' to '8' for entity with key '{Id: -2147482645}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Topic.CourseId' was detected as changed from '-2147482646' to '8' for entity with key '{Id: -2147482644}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p5='False', @p6='7', @p7='Topic 1 for course 1' (Size = 20), @p8='1', @p9='Course 1 - Topic 1' (Nullable = false) (Size = 18), @p10='1', @p11='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Topics" ("Archived", "CourseId", "Description", "SortOrder", "Title", "UserId", "Visibility")
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p5='False', @p6='7', @p7='Topic 1 for course 1' (Size = 20), @p8='1', @p9='Course 1 - Topic 1' (Nullable = false) (Size = 18), @p10='1', @p11='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Topics" ("Archived", "CourseId", "Description", "SortOrder", "Title", "UserId", "Visibility")
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Topic.Id' was detected as changed from '-2147482647' to '13' for entity with key '{Id: 13}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482647' to '13' for entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482647' to '13' for entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482647' to '13' for entity with key '{Id: -2147482645}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'SubTopic.TopicId' was detected as changed from '-2147482647' to '13' for entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 1ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='7', @p2='Topic 2 for course 1' (Size = 20), @p3='2', @p4='Course 1 - Topic 2' (Nullable = false) (Size = 18), @p5='1', @p6='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Topics" ("Archived", "CourseId", "Description", "SortOrder", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='7', @p2='Topic 2 for course 1' (Size = 20), @p3='2', @p4='Course 1 - Topic 2' (Nullable = false) (Size = 18), @p5='1', @p6='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Topics" ("Archived", "CourseId", "Description", "SortOrder", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Topic.Id' was detected as changed from '-2147482646' to '14' for entity with key '{Id: 14}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482646' to '14' for entity with key '{Id: -2147482642}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482646' to '14' for entity with key '{Id: -2147482641}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482646' to '14' for entity with key '{Id: -2147482640}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'SubTopic.TopicId' was detected as changed from '-2147482646' to '14' for entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='8', @p2='Topic 1 for course 2' (Size = 20), @p3='1', @p4='Course 2 - Topic 1' (Nullable = false) (Size = 18), @p5='1', @p6='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Topics" ("Archived", "CourseId", "Description", "SortOrder", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='8', @p2='Topic 1 for course 2' (Size = 20), @p3='1', @p4='Course 2 - Topic 1' (Nullable = false) (Size = 18), @p5='1', @p6='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Topics" ("Archived", "CourseId", "Description", "SortOrder", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Topic.Id' was detected as changed from '-2147482645' to '15' for entity with key '{Id: 15}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482645' to '15' for entity with key '{Id: -2147482637}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482645' to '15' for entity with key '{Id: -2147482636}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482645' to '15' for entity with key '{Id: -2147482635}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'SubTopic.TopicId' was detected as changed from '-2147482645' to '15' for entity with key '{Id: -2147482645}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='8', @p2='Topic 2 for course 2' (Size = 20), @p3='2', @p4='Course 2 - Topic 2' (Nullable = false) (Size = 18), @p5='1', @p6='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Topics" ("Archived", "CourseId", "Description", "SortOrder", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='8', @p2='Topic 2 for course 2' (Size = 20), @p3='2', @p4='Course 2 - Topic 2' (Nullable = false) (Size = 18), @p5='1', @p6='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Topics" ("Archived", "CourseId", "Description", "SortOrder", "Title", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Topic.Id' was detected as changed from '-2147482644' to '16' for entity with key '{Id: 16}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482644' to '16' for entity with key '{Id: -2147482632}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482644' to '16' for entity with key '{Id: -2147482631}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.TopicId' was detected as changed from '-2147482644' to '16' for entity with key '{Id: -2147482630}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'SubTopic.TopicId' was detected as changed from '-2147482644' to '16' for entity with key '{Id: -2147482644}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p7='False', @p8='Quiz, Discussion, Homework' (Size = 26), @p9='45 minutes' (Size = 10), @p10='Beginner' (Size = 8), @p11='Textbook, Worksheets, Digital tools' (Size = 35), @p12='Instruction, Practice, Assessment' (Size = 33), @p13='C1T1L1' (Nullable = false) (Size = 6), @p14='0', @p15='Visual aids available' (Size = 21), @p16=NULL (DbType = Int32), @p17='Lesson 1' (Nullable = false) (Size = 8), @p18='13' (Nullable = true), @p19='1', @p20='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p7='False', @p8='Quiz, Discussion, Homework' (Size = 26), @p9='45 minutes' (Size = 10), @p10='Beginner' (Size = 8), @p11='Textbook, Worksheets, Digital tools' (Size = 35), @p12='Instruction, Practice, Assessment' (Size = 33), @p13='C1T1L1' (Nullable = false) (Size = 6), @p14='0', @p15='Visual aids available' (Size = 21), @p16=NULL (DbType = Int32), @p17='Lesson 1' (Nullable = false) (Size = 8), @p18='13' (Nullable = true), @p19='1', @p20='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482647' to '61' for entity with key '{Id: 61}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T1L2' (Nullable = false) (Size = 6), @p7='1', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 2' (Nullable = false) (Size = 8), @p11='13' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T1L2' (Nullable = false) (Size = 6), @p7='1', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 2' (Nullable = false) (Size = 8), @p11='13' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482646' to '62' for entity with key '{Id: 62}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T1L3' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 3' (Nullable = false) (Size = 8), @p11='13' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T1L3' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 3' (Nullable = false) (Size = 8), @p11='13' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482645' to '63' for entity with key '{Id: 63}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T2L1' (Nullable = false) (Size = 6), @p7='0', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 6' (Nullable = false) (Size = 8), @p11='14' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T2L1' (Nullable = false) (Size = 6), @p7='0', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 6' (Nullable = false) (Size = 8), @p11='14' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482642' to '64' for entity with key '{Id: 64}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T2L2' (Nullable = false) (Size = 6), @p7='1', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 7' (Nullable = false) (Size = 8), @p11='14' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T2L2' (Nullable = false) (Size = 6), @p7='1', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 7' (Nullable = false) (Size = 8), @p11='14' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482641' to '65' for entity with key '{Id: 65}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T2L3' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 8' (Nullable = false) (Size = 8), @p11='14' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T2L3' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 8' (Nullable = false) (Size = 8), @p11='14' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482640' to '66' for entity with key '{Id: 66}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T1L1' (Nullable = false) (Size = 6), @p7='0', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 11' (Nullable = false) (Size = 9), @p11='15' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T1L1' (Nullable = false) (Size = 6), @p7='0', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 11' (Nullable = false) (Size = 9), @p11='15' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482637' to '67' for entity with key '{Id: 67}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T1L2' (Nullable = false) (Size = 6), @p7='1', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 12' (Nullable = false) (Size = 9), @p11='15' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T1L2' (Nullable = false) (Size = 6), @p7='1', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 12' (Nullable = false) (Size = 9), @p11='15' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482636' to '68' for entity with key '{Id: 68}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T1L3' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 13' (Nullable = false) (Size = 9), @p11='15' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T1L3' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 13' (Nullable = false) (Size = 9), @p11='15' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482635' to '69' for entity with key '{Id: 69}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T2L1' (Nullable = false) (Size = 6), @p7='0', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 16' (Nullable = false) (Size = 9), @p11='16' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T2L1' (Nullable = false) (Size = 6), @p7='0', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 16' (Nullable = false) (Size = 9), @p11='16' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482632' to '70' for entity with key '{Id: 70}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T2L2' (Nullable = false) (Size = 6), @p7='1', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 17' (Nullable = false) (Size = 9), @p11='16' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T2L2' (Nullable = false) (Size = 6), @p7='1', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 17' (Nullable = false) (Size = 9), @p11='16' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482631' to '71' for entity with key '{Id: 71}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T2L3' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 18' (Nullable = false) (Size = 9), @p11='16' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C2T2L3' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 18' (Nullable = false) (Size = 9), @p11='16' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482630' to '72' for entity with key '{Id: 72}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='SubTopic A for topic 1' (Size = 22), @p2='False', @p3='3', @p4='Course 1 - Topic 1 - SubTopic A' (Nullable = false) (Size = 31), @p5='13', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubTopics" ("Archived", "Description", "IsDefault", "SortOrder", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='SubTopic A for topic 1' (Size = 22), @p2='False', @p3='3', @p4='Course 1 - Topic 1 - SubTopic A' (Nullable = false) (Size = 31), @p5='13', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubTopics" ("Archived", "Description", "IsDefault", "SortOrder", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'SubTopic.Id' was detected as changed from '-2147482647' to '13' for entity with key '{Id: 13}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '-2147482647' to '13' for entity with key '{Id: -2147482644}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '-2147482647' to '13' for entity with key '{Id: -2147482643}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='SubTopic A for topic 2' (Size = 22), @p2='False', @p3='3', @p4='Course 1 - Topic 2 - SubTopic A' (Nullable = false) (Size = 31), @p5='14', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubTopics" ("Archived", "Description", "IsDefault", "SortOrder", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='SubTopic A for topic 2' (Size = 22), @p2='False', @p3='3', @p4='Course 1 - Topic 2 - SubTopic A' (Nullable = false) (Size = 31), @p5='14', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubTopics" ("Archived", "Description", "IsDefault", "SortOrder", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'SubTopic.Id' was detected as changed from '-2147482646' to '14' for entity with key '{Id: 14}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '-2147482646' to '14' for entity with key '{Id: -2147482639}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '-2147482646' to '14' for entity with key '{Id: -2147482638}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='SubTopic A for topic 1' (Size = 22), @p2='False', @p3='3', @p4='Course 2 - Topic 1 - SubTopic A' (Nullable = false) (Size = 31), @p5='15', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubTopics" ("Archived", "Description", "IsDefault", "SortOrder", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='SubTopic A for topic 1' (Size = 22), @p2='False', @p3='3', @p4='Course 2 - Topic 1 - SubTopic A' (Nullable = false) (Size = 31), @p5='15', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubTopics" ("Archived", "Description", "IsDefault", "SortOrder", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'SubTopic.Id' was detected as changed from '-2147482645' to '15' for entity with key '{Id: 15}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '-2147482645' to '15' for entity with key '{Id: -2147482634}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '-2147482645' to '15' for entity with key '{Id: -2147482633}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='SubTopic A for topic 2' (Size = 22), @p2='False', @p3='3', @p4='Course 2 - Topic 2 - SubTopic A' (Nullable = false) (Size = 31), @p5='16', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubTopics" ("Archived", "Description", "IsDefault", "SortOrder", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='SubTopic A for topic 2' (Size = 22), @p2='False', @p3='3', @p4='Course 2 - Topic 2 - SubTopic A' (Nullable = false) (Size = 31), @p5='16', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubTopics" ("Archived", "Description", "IsDefault", "SortOrder", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'SubTopic.Id' was detected as changed from '-2147482644' to '16' for entity with key '{Id: 16}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '-2147482644' to '16' for entity with key '{Id: -2147482629}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.SubTopicId' was detected as changed from '-2147482644' to '16' for entity with key '{Id: -2147482628}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p8='False', @p9='Formative assessment, Peer review' (Size = 33), @p10='30 minutes' (Size = 10), @p11='Intermediate' (Size = 12), @p12='Manipulatives, Digital resources' (Size = 32), @p13='Guided practice, Independent work' (Size = 33), @p14='C1T1S1L1' (Nullable = false) (Size = 8), @p15='0', @p16='Differentiated instruction' (Size = 26), @p17='13' (Nullable = true), @p18='Lesson 4' (Nullable = false) (Size = 8), @p19=NULL (DbType = Int32), @p20='1', @p21='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p8='False', @p9='Formative assessment, Peer review' (Size = 33), @p10='30 minutes' (Size = 10), @p11='Intermediate' (Size = 12), @p12='Manipulatives, Digital resources' (Size = 32), @p13='Guided practice, Independent work' (Size = 33), @p14='C1T1S1L1' (Nullable = false) (Size = 8), @p15='0', @p16='Differentiated instruction' (Size = 26), @p17='13' (Nullable = true), @p18='Lesson 4' (Nullable = false) (Size = 8), @p19=NULL (DbType = Int32), @p20='1', @p21='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482644' to '73' for entity with key '{Id: 73}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C1T1S1L2' (Nullable = false) (Size = 8), @p7='1', @p8='Differentiated instruction' (Size = 26), @p9='13' (Nullable = true), @p10='Lesson 5' (Nullable = false) (Size = 8), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C1T1S1L2' (Nullable = false) (Size = 8), @p7='1', @p8='Differentiated instruction' (Size = 26), @p9='13' (Nullable = true), @p10='Lesson 5' (Nullable = false) (Size = 8), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482643' to '74' for entity with key '{Id: 74}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C1T2S1L1' (Nullable = false) (Size = 8), @p7='0', @p8='Differentiated instruction' (Size = 26), @p9='14' (Nullable = true), @p10='Lesson 9' (Nullable = false) (Size = 8), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C1T2S1L1' (Nullable = false) (Size = 8), @p7='0', @p8='Differentiated instruction' (Size = 26), @p9='14' (Nullable = true), @p10='Lesson 9' (Nullable = false) (Size = 8), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482639' to '75' for entity with key '{Id: 75}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C1T2S1L2' (Nullable = false) (Size = 8), @p7='1', @p8='Differentiated instruction' (Size = 26), @p9='14' (Nullable = true), @p10='Lesson 10' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C1T2S1L2' (Nullable = false) (Size = 8), @p7='1', @p8='Differentiated instruction' (Size = 26), @p9='14' (Nullable = true), @p10='Lesson 10' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482638' to '76' for entity with key '{Id: 76}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C2T1S1L1' (Nullable = false) (Size = 8), @p7='0', @p8='Differentiated instruction' (Size = 26), @p9='15' (Nullable = true), @p10='Lesson 14' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C2T1S1L1' (Nullable = false) (Size = 8), @p7='0', @p8='Differentiated instruction' (Size = 26), @p9='15' (Nullable = true), @p10='Lesson 14' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482634' to '77' for entity with key '{Id: 77}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C2T1S1L2' (Nullable = false) (Size = 8), @p7='1', @p8='Differentiated instruction' (Size = 26), @p9='15' (Nullable = true), @p10='Lesson 15' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C2T1S1L2' (Nullable = false) (Size = 8), @p7='1', @p8='Differentiated instruction' (Size = 26), @p9='15' (Nullable = true), @p10='Lesson 15' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482633' to '78' for entity with key '{Id: 78}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C2T2S1L1' (Nullable = false) (Size = 8), @p7='0', @p8='Differentiated instruction' (Size = 26), @p9='16' (Nullable = true), @p10='Lesson 19' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C2T2S1L1' (Nullable = false) (Size = 8), @p7='0', @p8='Differentiated instruction' (Size = 26), @p9='16' (Nullable = true), @p10='Lesson 19' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482629' to '79' for entity with key '{Id: 79}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C2T2S1L2' (Nullable = false) (Size = 8), @p7='1', @p8='Differentiated instruction' (Size = 26), @p9='16' (Nullable = true), @p10='Lesson 20' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='False', @p1='Formative assessment, Peer review' (Size = 33), @p2='30 minutes' (Size = 10), @p3='Intermediate' (Size = 12), @p4='Manipulatives, Digital resources' (Size = 32), @p5='Guided practice, Independent work' (Size = 33), @p6='C2T2S1L2' (Nullable = false) (Size = 8), @p7='1', @p8='Differentiated instruction' (Size = 26), @p9='16' (Nullable = true), @p10='Lesson 20' (Nullable = false) (Size = 9), @p11=NULL (DbType = Int32), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Archived", "Assessment", "ClassTime", "Level", "Materials", "Methods", "Objective", "SortOrder", "SpecialNeeds", "SubTopicId", "Title", "TopicId", "UserId", "Visibility")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'Lesson.Id' was detected as changed from '-2147482628' to '80' for entity with key '{Id: 80}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Committing transaction.
[2025-09-01 10:47:35 DBG] Committed transaction.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Disposing transaction.
[2025-09-01 10:47:35 DBG] The 'Course' entity with key '{Id: 7}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 13}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 61}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 62}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 63}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 13}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 73}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 74}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 14}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 64}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 65}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 66}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 14}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 75}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 76}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Course' entity with key '{Id: 8}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 15}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 67}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 68}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 69}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 15}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 77}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 78}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Topic' entity with key '{Id: 16}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 70}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 71}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 72}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'SubTopic' entity with key '{Id: 16}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 79}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'Lesson' entity with key '{Id: 80}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] SaveChanges completed for 'LessonTreeContext' with 30 entities written to the database.
[2025-09-01 10:47:35 INF] ✅ CORRECTED SORT ORDER STRUCTURE:
[2025-09-01 10:47:35 INF]   Topic 13 'Course 1 - Topic 1' (SortOrder: 1):
[2025-09-01 10:47:35 INF]     Lesson 61 'Lesson 1' (SortOrder: 0) [DIRECT]
[2025-09-01 10:47:35 INF]     Lesson 62 'Lesson 2' (SortOrder: 1) [DIRECT]
[2025-09-01 10:47:35 INF]     Lesson 63 'Lesson 3' (SortOrder: 2) [DIRECT]
[2025-09-01 10:47:35 INF]     SubTopic 13 'Course 1 - Topic 1 - SubTopic A' (SortOrder: 3):
[2025-09-01 10:47:35 INF]       Lesson 73 'Lesson 4' (SortOrder: 0) [SUB]
[2025-09-01 10:47:35 INF]       Lesson 74 'Lesson 5' (SortOrder: 1) [SUB]
[2025-09-01 10:47:35 INF] ✅ Seeded 2 courses with 20 lessons
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'ScheduleConfiguration.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'ScheduleConfiguration.User' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'ScheduleConfiguration' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'PeriodAssignment.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'PeriodAssignment.ScheduleConfiguration' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482646' for the property 'PeriodAssignment.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'PeriodAssignment.ScheduleConfiguration' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Beginning transaction with isolation level 'Unspecified'.
[2025-09-01 10:47:35 DBG] Began transaction with isolation level 'Serializable'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='2025-09-01T15:47:35.9468057Z' (DbType = DateTime), @p1='2025-09-22T00:00:00.0000000-05:00' (DbType = DateTime), @p2='True', @p3='False', @p4='2025-09-01T15:47:35.9466518Z' (DbType = DateTime), @p5='2', @p6='2025-2026' (Nullable = false) (Size = 9), @p7='2025-09-08T00:00:00.0000000-05:00' (DbType = DateTime), @p8='Monday,Tuesday,Wednesday,Thursday,Friday' (Nullable = false) (Size = 40), @p9='Test Schedule Configuration' (Nullable = false) (Size = 27), @p10='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleConfigurations" ("CreatedDate", "EndDate", "IsActive", "IsTemplate", "LastUpdated", "PeriodsPerDay", "SchoolYear", "StartDate", "TeachingDays", "Title", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (2ms) [Parameters=[@p0='2025-09-01T15:47:35.9468057Z' (DbType = DateTime), @p1='2025-09-22T00:00:00.0000000-05:00' (DbType = DateTime), @p2='True', @p3='False', @p4='2025-09-01T15:47:35.9466518Z' (DbType = DateTime), @p5='2', @p6='2025-2026' (Nullable = false) (Size = 9), @p7='2025-09-08T00:00:00.0000000-05:00' (DbType = DateTime), @p8='Monday,Tuesday,Wednesday,Thursday,Friday' (Nullable = false) (Size = 40), @p9='Test Schedule Configuration' (Nullable = false) (Size = 27), @p10='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleConfigurations" ("CreatedDate", "EndDate", "IsActive", "IsTemplate", "LastUpdated", "PeriodsPerDay", "SchoolYear", "StartDate", "TeachingDays", "Title", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'ScheduleConfiguration.Id' was detected as changed from '-2147482647' to '4' for entity with key '{Id: 4}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'PeriodAssignment.ScheduleConfigurationId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] The foreign key property 'PeriodAssignment.ScheduleConfigurationId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 1ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p11='#e3f2fd' (Nullable = false) (Size = 7), @p12='7' (Nullable = true), @p13='#1976d2' (Nullable = false) (Size = 7), @p14='Course 1 - Period 1' (Size = 19), @p15='1', @p16='Room 101' (Size = 8), @p17='4', @p18=NULL, @p19='Monday,Tuesday,Wednesday,Thursday,Friday' (Nullable = false) (Size = 40)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PeriodAssignments" ("BackgroundColor", "CourseId", "FontColor", "Notes", "Period", "Room", "ScheduleConfigurationId", "SpecialPeriodType", "TeachingDays")
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p11='#e3f2fd' (Nullable = false) (Size = 7), @p12='7' (Nullable = true), @p13='#1976d2' (Nullable = false) (Size = 7), @p14='Course 1 - Period 1' (Size = 19), @p15='1', @p16='Room 101' (Size = 8), @p17='4', @p18=NULL, @p19='Monday,Tuesday,Wednesday,Thursday,Friday' (Nullable = false) (Size = 40)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PeriodAssignments" ("BackgroundColor", "CourseId", "FontColor", "Notes", "Period", "Room", "ScheduleConfigurationId", "SpecialPeriodType", "TeachingDays")
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'PeriodAssignment.Id' was detected as changed from '-2147482647' to '7' for entity with key '{Id: 7}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='#f3e5f5' (Nullable = false) (Size = 7), @p1='8' (Nullable = true), @p2='#7b1fa2' (Nullable = false) (Size = 7), @p3='Course 2 - Period 2' (Size = 19), @p4='2', @p5='Room 102' (Size = 8), @p6='4', @p7=NULL, @p8='Monday,Tuesday,Wednesday,Thursday,Friday' (Nullable = false) (Size = 40)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PeriodAssignments" ("BackgroundColor", "CourseId", "FontColor", "Notes", "Period", "Room", "ScheduleConfigurationId", "SpecialPeriodType", "TeachingDays")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='#f3e5f5' (Nullable = false) (Size = 7), @p1='8' (Nullable = true), @p2='#7b1fa2' (Nullable = false) (Size = 7), @p3='Course 2 - Period 2' (Size = 19), @p4='2', @p5='Room 102' (Size = 8), @p6='4', @p7=NULL, @p8='Monday,Tuesday,Wednesday,Thursday,Friday' (Nullable = false) (Size = 40)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PeriodAssignments" ("BackgroundColor", "CourseId", "FontColor", "Notes", "Period", "Room", "ScheduleConfigurationId", "SpecialPeriodType", "TeachingDays")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'PeriodAssignment.Id' was detected as changed from '-2147482646' to '8' for entity with key '{Id: 8}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:35 DBG] Committing transaction.
[2025-09-01 10:47:35 DBG] Committed transaction.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] Disposing transaction.
[2025-09-01 10:47:35 DBG] The 'PeriodAssignment' entity with key '{Id: 8}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'PeriodAssignment' entity with key '{Id: 7}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] The 'ScheduleConfiguration' entity with key '{Id: 4}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] SaveChanges completed for 'LessonTreeContext' with 3 entities written to the database.
[2025-09-01 10:47:35 INF] ✅ Seeded ScheduleConfiguration 4 with 2 periods and 2 course assignments
[2025-09-01 10:47:35 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'UserConfiguration.Id'.
[2025-09-01 10:47:35 DBG] The navigation 'UserConfiguration.User' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:35 DBG] The navigation 'User.Configuration' for entity with key '{Id: 1}' was detected as changed.
[2025-09-01 10:47:35 DBG] Context 'LessonTreeContext' started tracking 'UserConfiguration' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:35 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:47:35 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:35 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:35 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:35 DBG] Executing DbCommand [Parameters=[@p0='2025-09-01T15:47:35.9592902Z' (DbType = DateTime), @p1='{"theme":"light"}' (Size = 17), @p2='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserConfigurations" ("LastUpdated", "SettingsJson", "UserId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
[2025-09-01 10:47:35 INF] Executed DbCommand (0ms) [Parameters=[@p0='2025-09-01T15:47:35.9592902Z' (DbType = DateTime), @p1='{"theme":"light"}' (Size = 17), @p2='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserConfigurations" ("LastUpdated", "SettingsJson", "UserId")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
[2025-09-01 10:47:35 DBG] The foreign key property 'UserConfiguration.Id' was detected as changed from '-2147482647' to '4' for entity with key '{Id: 4}'.
[2025-09-01 10:47:35 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 3ms reading results.
[2025-09-01 10:47:35 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:35 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:35 DBG] The 'UserConfiguration' entity with key '{Id: 4}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:35 DBG] SaveChanges completed for 'LessonTreeContext' with 1 entities written to the database.
[2025-09-01 10:47:35 INF] ✅ Phase 1 completed: Base data seeded successfully
[2025-09-01 10:47:35 INF] 🚀 Phase 2: Generating schedules from configurations using ScheduleGenerationService
[2025-09-01 10:47:36 DBG] Compiling query expression: 
'DbSet<ScheduleConfiguration>()
    .Where(config => !(DbSet<Schedule>()
        .Any(schedule => schedule.ScheduleConfigurationId == config.Id)))'
[2025-09-01 10:47:36 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ScheduleConfiguration>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ScheduleConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScheduleConfiguration.CreatedDate (DateTime) Required, 1], [Property: ScheduleConfiguration.EndDate (DateTime) Required, 2], [Property: ScheduleConfiguration.IsActive (bool) Required Index, 3], [Property: ScheduleConfiguration.IsTemplate (bool) Required, 4], [Property: ScheduleConfiguration.LastUpdated (DateTime) Required, 5], [Property: ScheduleConfiguration.PeriodsPerDay (int) Required, 6], [Property: ScheduleConfiguration.SchoolYear (string) Required Index MaxLength(20), 7], [Property: ScheduleConfiguration.StartDate (DateTime) Required, 8], [Property: ScheduleConfiguration.TeachingDays (string) Required MaxLength(200), 9], [Property: ScheduleConfiguration.Title (string) Required MaxLength(100), 10], [Property: ScheduleConfiguration.UserId (int) Required FK Index, 11] }
        SELECT s.Id, s.CreatedDate, s.EndDate, s.IsActive, s.IsTemplate, s.LastUpdated, s.PeriodsPerDay, s.SchoolYear, s.StartDate, s.TeachingDays, s.Title, s.UserId
        FROM ScheduleConfigurations AS s
        WHERE Not(EXISTS (
            SELECT 1
            FROM Schedules AS s0
            WHERE s0.ScheduleConfigurationId == s.Id))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScheduleConfiguration>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:36 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId"
FROM "ScheduleConfigurations" AS "s"
WHERE NOT EXISTS (
    SELECT 1
    FROM "Schedules" AS "s0"
    WHERE "s0"."ScheduleConfigurationId" = "s"."Id")
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId"
FROM "ScheduleConfigurations" AS "s"
WHERE NOT EXISTS (
    SELECT 1
    FROM "Schedules" AS "s0"
    WHERE "s0"."ScheduleConfigurationId" = "s"."Id")
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 INF] 📋 Found 1 configurations that need schedule generation
[2025-09-01 10:47:36 INF] 🔄 Generating schedule for configuration 4 ('Test Schedule Configuration') for user 1
[2025-09-01 10:47:36 INF] GenerateScheduleFromConfigurationAsync: Starting generation for configuration 4, user 1
[2025-09-01 10:47:36 INF] GetByIdAsync: Fetching configuration 4
[2025-09-01 10:47:36 DBG] Compiling query expression: 
'DbSet<ScheduleConfiguration>()
    .Include(sc => sc.PeriodAssignments
        .OrderBy(pa => pa.Period))
    .Include(sc => sc.User)
    .FirstOrDefault(sc => sc.Id == __id_0)'
[2025-09-01 10:47:36 DBG] Including navigation: 'ScheduleConfiguration.PeriodAssignments'.
[2025-09-01 10:47:36 DBG] Including navigation: 'ScheduleConfiguration.User'.
[2025-09-01 10:47:36 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ScheduleConfiguration>(
    asyncEnumerable: new SingleQueryingEnumerable<ScheduleConfiguration>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ScheduleConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ScheduleConfiguration.CreatedDate (DateTime) Required, 1], [Property: ScheduleConfiguration.EndDate (DateTime) Required, 2], [Property: ScheduleConfiguration.IsActive (bool) Required Index, 3], [Property: ScheduleConfiguration.IsTemplate (bool) Required, 4], [Property: ScheduleConfiguration.LastUpdated (DateTime) Required, 5], [Property: ScheduleConfiguration.PeriodsPerDay (int) Required, 6], [Property: ScheduleConfiguration.SchoolYear (string) Required Index MaxLength(20), 7], [Property: ScheduleConfiguration.StartDate (DateTime) Required, 8], [Property: ScheduleConfiguration.TeachingDays (string) Required MaxLength(200), 9], [Property: ScheduleConfiguration.Title (string) Required MaxLength(100), 10], [Property: ScheduleConfiguration.UserId (int) Required FK Index, 11] }
                1 -> 0
                2 -> 12
                3 -> Dictionary<IProperty, int> { [Property: PeriodAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: PeriodAssignment.BackgroundColor (string) Required MaxLength(7), 14], [Property: PeriodAssignment.CourseId (int?), 15], [Property: PeriodAssignment.FontColor (string) Required MaxLength(7), 16], [Property: PeriodAssignment.Notes (string) MaxLength(500), 17], [Property: PeriodAssignment.Period (int) Required Index, 18], [Property: PeriodAssignment.Room (string) MaxLength(50), 19], [Property: PeriodAssignment.ScheduleConfigurationId (int) Required FK Index, 20], [Property: PeriodAssignment.SpecialPeriodType (string) MaxLength(50), 21], [Property: PeriodAssignment.TeachingDays (string) Required MaxLength(200), 22] }
                4 -> 13
                5 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: User.AccessFailedCount (int) Required, 23], [Property: User.ConcurrencyStamp (string) Concurrency, 24], [Property: User.DistrictId (int?) FK Index, 25], [Property: User.Email (string) MaxLength(256), 26], [Property: User.EmailConfirmed (bool) Required, 27], [Property: User.FirstName (string) Required, 28], [Property: User.LastName (string) Required, 29], [Property: User.LockoutEnabled (bool) Required, 30], [Property: User.LockoutEnd (DateTimeOffset?), 31], [Property: User.NormalizedEmail (string) Index MaxLength(256), 32], [Property: User.NormalizedUserName (string) Index MaxLength(256), 33], [Property: User.PasswordHash (string), 34], [Property: User.PhoneNumber (string), 35], [Property: User.PhoneNumberConfirmed (bool) Required, 36], [Property: User.SchoolId (int?) FK Index, 37], [Property: User.SecurityStamp (string), 38], [Property: User.TwoFactorEnabled (bool) Required, 39], [Property: User.UserName (string) MaxLength(256), 40] }
            SELECT t.Id, t.CreatedDate, t.EndDate, t.IsActive, t.IsTemplate, t.LastUpdated, t.PeriodsPerDay, t.SchoolYear, t.StartDate, t.TeachingDays, t.Title, t.UserId, t.Id0, p.Id, p.BackgroundColor, p.CourseId, p.FontColor, p.Notes, p.Period, p.Room, p.ScheduleConfigurationId, p.SpecialPeriodType, p.TeachingDays, t.AccessFailedCount, t.ConcurrencyStamp, t.DistrictId, t.Email, t.EmailConfirmed, t.FirstName, t.LastName, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.PhoneNumber, t.PhoneNumberConfirmed, t.SchoolId, t.SecurityStamp, t.TwoFactorEnabled, t.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CreatedDate, s.EndDate, s.IsActive, s.IsTemplate, s.LastUpdated, s.PeriodsPerDay, s.SchoolYear, s.StartDate, s.TeachingDays, s.Title, s.UserId, a.Id AS Id0, a.AccessFailedCount, a.ConcurrencyStamp, a.DistrictId, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SchoolId, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM ScheduleConfigurations AS s
                INNER JOIN AspNetUsers AS a ON s.UserId == a.Id
                WHERE s.Id == @__id_0
            ) AS t
            LEFT JOIN PeriodAssignments AS p ON t.Id == p.ScheduleConfigurationId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Period ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ScheduleConfiguration>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:47:36 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedDate", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title", "t"."UserId", "t"."Id0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "ScheduleConfigurations" AS "s"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id" = "p"."ScheduleConfigurationId"
ORDER BY "t"."Id", "t"."Id0", "p"."Period"
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedDate", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title", "t"."UserId", "t"."Id0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "ScheduleConfigurations" AS "s"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id" = "p"."ScheduleConfigurationId"
ORDER BY "t"."Id", "t"."Id0", "p"."Period"
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 2ms reading results.
[2025-09-01 10:47:36 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 INF] GetByIdAsync: Found configuration 4 for user 1
[2025-09-01 10:47:36 INF] ValidateConfigurationForGenerationAsync: Validating configuration 4 for user 1
[2025-09-01 10:47:36 INF] GetByIdAsync: Fetching configuration 4
[2025-09-01 10:47:36 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedDate", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title", "t"."UserId", "t"."Id0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "ScheduleConfigurations" AS "s"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id" = "p"."ScheduleConfigurationId"
ORDER BY "t"."Id", "t"."Id0", "p"."Period"
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedDate", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title", "t"."UserId", "t"."Id0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "ScheduleConfigurations" AS "s"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id" = "p"."ScheduleConfigurationId"
ORDER BY "t"."Id", "t"."Id0", "p"."Period"
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 INF] GetByIdAsync: Found configuration 4 for user 1
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Starting - CourseId: 7, UserId: 1
[2025-09-01 10:47:36 DBG] Retrieving lessons by User ID: 1
[2025-09-01 10:47:36 DBG] Compiling query expression: 
'DbSet<Lesson>()
    .Where(l => l.UserId == __userId_0)
    .Where(l => !(l.Archived))
    .AsNoTracking()
    .Where(l => l.TopicId.HasValue && l.Topic.CourseId == __courseId_1 || l.SubTopicId.HasValue && l.SubTopic.Topic.CourseId == __courseId_1)
    .Include(l => l.Topic)
    .Include(l => l.SubTopic)
    .ThenInclude(st => st.Topic)'
[2025-09-01 10:47:36 DBG] Including navigation: 'Lesson.Topic'.
[2025-09-01 10:47:36 DBG] Including navigation: 'Lesson.SubTopic'.
[2025-09-01 10:47:36 DBG] Including navigation: 'SubTopic.Topic'.
[2025-09-01 10:47:36 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Lesson>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Lesson.Archived (bool) Required, 1], [Property: Lesson.Assessment (string) MaxLength(250), 2], [Property: Lesson.ClassTime (string) MaxLength(100), 3], [Property: Lesson.Level (string) MaxLength(100), 4], [Property: Lesson.Materials (string) MaxLength(200), 5], [Property: Lesson.Methods (string) MaxLength(500), 6], [Property: Lesson.Objective (string) Required MaxLength(500), 7], [Property: Lesson.SortOrder (int) Required Index, 8], [Property: Lesson.SpecialNeeds (string) MaxLength(500), 9], [Property: Lesson.SubTopicId (int?) FK Index, 10], [Property: Lesson.Title (string) Required MaxLength(200), 11], [Property: Lesson.TopicId (int?) FK Index, 12], [Property: Lesson.UserId (int) Required FK Index, 13], [Property: Lesson.Visibility (VisibilityType) Required, 14] }
            1 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: Topic.Archived (bool) Required, 16], [Property: Topic.CourseId (int) Required FK Index, 17], [Property: Topic.Description (string), 18], [Property: Topic.SortOrder (int) Required Index, 19], [Property: Topic.Title (string) Required, 20], [Property: Topic.UserId (int) Required FK Index, 21], [Property: Topic.Visibility (VisibilityType) Required, 22] }
            2 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 23], [Property: SubTopic.Archived (bool) Required, 24], [Property: SubTopic.Description (string), 25], [Property: SubTopic.IsDefault (bool) Required, 26], [Property: SubTopic.SortOrder (int) Required Index, 27], [Property: SubTopic.Title (string) Required, 28], [Property: SubTopic.TopicId (int) Required FK Index, 29], [Property: SubTopic.UserId (int) Required FK Index, 30], [Property: SubTopic.Visibility (VisibilityType) Required, 31] }
            3 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: Topic.Archived (bool) Required, 33], [Property: Topic.CourseId (int) Required FK Index, 34], [Property: Topic.Description (string), 35], [Property: Topic.SortOrder (int) Required Index, 36], [Property: Topic.Title (string) Required, 37], [Property: Topic.UserId (int) Required FK Index, 38], [Property: Topic.Visibility (VisibilityType) Required, 39] }
        SELECT l.Id, l.Archived, l.Assessment, l.ClassTime, l.Level, l.Materials, l.Methods, l.Objective, l.SortOrder, l.SpecialNeeds, l.SubTopicId, l.Title, l.TopicId, l.UserId, l.Visibility, t.Id, t.Archived, t.CourseId, t.Description, t.SortOrder, t.Title, t.UserId, t.Visibility, s.Id, s.Archived, s.Description, s.IsDefault, s.SortOrder, s.Title, s.TopicId, s.UserId, s.Visibility, t0.Id, t0.Archived, t0.CourseId, t0.Description, t0.SortOrder, t0.Title, t0.UserId, t0.Visibility
        FROM Lessons AS l
        LEFT JOIN Topics AS t ON l.TopicId == t.Id
        LEFT JOIN SubTopics AS s ON l.SubTopicId == s.Id
        LEFT JOIN Topics AS t0 ON s.TopicId == t0.Id
        WHERE ((l.UserId == @__userId_0) && Not(l.Archived)) && ((l.TopicId IS NOT NULL && (t.CourseId == @__courseId_1)) || (l.SubTopicId IS NOT NULL && (t0.CourseId == @__courseId_1)))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Lesson>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:47:36 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@__userId_0='1', @__courseId_1='7'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1', @__courseId_1='7'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Found 10 lessons for Course 7
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Final lesson sequence:
[2025-09-01 10:47:36 INF]   [0] Lesson 61 'Lesson 1' - Topic:1, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:47:36 INF]   [1] Lesson 62 'Lesson 2' - Topic:1, Entity:1, Lesson:1 [Direct]
[2025-09-01 10:47:36 INF]   [2] Lesson 63 'Lesson 3' - Topic:1, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:47:36 INF]   [3] Lesson 73 'Lesson 4' - Topic:1, Entity:3, Lesson:0 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [4] Lesson 74 'Lesson 5' - Topic:1, Entity:3, Lesson:1 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [5] Lesson 64 'Lesson 6' - Topic:2, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:47:36 INF]   [6] Lesson 65 'Lesson 7' - Topic:2, Entity:1, Lesson:1 [Direct]
[2025-09-01 10:47:36 INF]   [7] Lesson 66 'Lesson 8' - Topic:2, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:47:36 INF]   [8] Lesson 75 'Lesson 9' - Topic:2, Entity:3, Lesson:0 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [9] Lesson 76 'Lesson 10' - Topic:2, Entity:3, Lesson:1 [SubTopic-3]
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Starting - CourseId: 8, UserId: 1
[2025-09-01 10:47:36 DBG] Retrieving lessons by User ID: 1
[2025-09-01 10:47:36 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@__userId_0='1', @__courseId_1='8'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1', @__courseId_1='8'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Found 10 lessons for Course 8
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Final lesson sequence:
[2025-09-01 10:47:36 INF]   [0] Lesson 67 'Lesson 11' - Topic:1, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:47:36 INF]   [1] Lesson 68 'Lesson 12' - Topic:1, Entity:1, Lesson:1 [Direct]
[2025-09-01 10:47:36 INF]   [2] Lesson 69 'Lesson 13' - Topic:1, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:47:36 INF]   [3] Lesson 77 'Lesson 14' - Topic:1, Entity:3, Lesson:0 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [4] Lesson 78 'Lesson 15' - Topic:1, Entity:3, Lesson:1 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [5] Lesson 70 'Lesson 16' - Topic:2, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:47:36 INF]   [6] Lesson 71 'Lesson 17' - Topic:2, Entity:1, Lesson:1 [Direct]
[2025-09-01 10:47:36 INF]   [7] Lesson 72 'Lesson 18' - Topic:2, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:47:36 INF]   [8] Lesson 79 'Lesson 19' - Topic:2, Entity:3, Lesson:0 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [9] Lesson 80 'Lesson 20' - Topic:2, Entity:3, Lesson:1 [SubTopic-3]
[2025-09-01 10:47:36 INF] Configuration validation passed - generating events for 2 course assignments
[2025-09-01 10:47:36 INF] GenerateScheduleEventsFromConfiguration: Processing 2 period assignments
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Starting - CourseId: 7, UserId: 1
[2025-09-01 10:47:36 DBG] Retrieving lessons by User ID: 1
[2025-09-01 10:47:36 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@__userId_0='1', @__courseId_1='7'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1', @__courseId_1='7'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Found 10 lessons for Course 7
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Final lesson sequence:
[2025-09-01 10:47:36 INF]   [0] Lesson 61 'Lesson 1' - Topic:1, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:47:36 INF]   [1] Lesson 62 'Lesson 2' - Topic:1, Entity:1, Lesson:1 [Direct]
[2025-09-01 10:47:36 INF]   [2] Lesson 63 'Lesson 3' - Topic:1, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:47:36 INF]   [3] Lesson 73 'Lesson 4' - Topic:1, Entity:3, Lesson:0 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [4] Lesson 74 'Lesson 5' - Topic:1, Entity:3, Lesson:1 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [5] Lesson 64 'Lesson 6' - Topic:2, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:47:36 INF]   [6] Lesson 65 'Lesson 7' - Topic:2, Entity:1, Lesson:1 [Direct]
[2025-09-01 10:47:36 INF]   [7] Lesson 66 'Lesson 8' - Topic:2, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:47:36 INF]   [8] Lesson 75 'Lesson 9' - Topic:2, Entity:3, Lesson:0 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [9] Lesson 76 'Lesson 10' - Topic:2, Entity:3, Lesson:1 [SubTopic-3]
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] Period 1, Course 7 - 10 lessons available
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] First lessons: [{"Id":61,"Title":"Lesson 1","TopicId":13,"SubTopicId":null},{"Id":62,"Title":"Lesson 2","TopicId":13,"SubTopicId":null},{"Id":63,"Title":"Lesson 3","TopicId":13,"SubTopicId":null}]
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] Teaching days: monday, tuesday, wednesday, thursday, friday
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] Date range: 2025-09-08 to 2025-09-22
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 1: 2025-09-08 (monday), LessonIndex: 0, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 0 (lessonIndex) for Date: 2025-09-08, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -1, Date: 2025-09-08, Period: 1, CourseId: 7, LessonIndex: 0, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 61, Title: 'Lesson 1', Objective: 'C1T1L1'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 61, LessonTitle: 'Lesson 1', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=61, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 1
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 2: 2025-09-09 (tuesday), LessonIndex: 1, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 1 (lessonIndex) for Date: 2025-09-09, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2, Date: 2025-09-09, Period: 1, CourseId: 7, LessonIndex: 1, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 62, Title: 'Lesson 2', Objective: 'C1T1L2'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 62, LessonTitle: 'Lesson 2', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=62, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 2
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 3: 2025-09-10 (wednesday), LessonIndex: 2, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 2 (lessonIndex) for Date: 2025-09-10, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -3, Date: 2025-09-10, Period: 1, CourseId: 7, LessonIndex: 2, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 63, Title: 'Lesson 3', Objective: 'C1T1L3'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 63, LessonTitle: 'Lesson 3', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=63, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 3
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 4: 2025-09-11 (thursday), LessonIndex: 3, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 3 (lessonIndex) for Date: 2025-09-11, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -4, Date: 2025-09-11, Period: 1, CourseId: 7, LessonIndex: 3, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 73, Title: 'Lesson 4', Objective: 'C1T1S1L1'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 73, LessonTitle: 'Lesson 4', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=73, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 4
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 5: 2025-09-12 (friday), LessonIndex: 4, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 4 (lessonIndex) for Date: 2025-09-12, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -5, Date: 2025-09-12, Period: 1, CourseId: 7, LessonIndex: 4, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 74, Title: 'Lesson 5', Objective: 'C1T1S1L2'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 74, LessonTitle: 'Lesson 5', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=74, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 5
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 6: 2025-09-15 (monday), LessonIndex: 5, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 5 (lessonIndex) for Date: 2025-09-15, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -6, Date: 2025-09-15, Period: 1, CourseId: 7, LessonIndex: 5, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 64, Title: 'Lesson 6', Objective: 'C1T2L1'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 64, LessonTitle: 'Lesson 6', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=64, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 6
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 7: 2025-09-16 (tuesday), LessonIndex: 6, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 6 (lessonIndex) for Date: 2025-09-16, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -7, Date: 2025-09-16, Period: 1, CourseId: 7, LessonIndex: 6, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 65, Title: 'Lesson 7', Objective: 'C1T2L2'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 65, LessonTitle: 'Lesson 7', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=65, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 7
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 8: 2025-09-17 (wednesday), LessonIndex: 7, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 7 (lessonIndex) for Date: 2025-09-17, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -8, Date: 2025-09-17, Period: 1, CourseId: 7, LessonIndex: 7, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 66, Title: 'Lesson 8', Objective: 'C1T2L3'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 66, LessonTitle: 'Lesson 8', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=66, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 8
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 9: 2025-09-18 (thursday), LessonIndex: 8, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 8 (lessonIndex) for Date: 2025-09-18, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -9, Date: 2025-09-18, Period: 1, CourseId: 7, LessonIndex: 8, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 75, Title: 'Lesson 9', Objective: 'C1T2S1L1'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 75, LessonTitle: 'Lesson 9', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=75, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 9
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 10: 2025-09-19 (friday), LessonIndex: 9, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 9 (lessonIndex) for Date: 2025-09-19, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -10, Date: 2025-09-19, Period: 1, CourseId: 7, LessonIndex: 9, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 76, Title: 'Lesson 10', Objective: 'C1T2S1L2'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 76, LessonTitle: 'Lesson 10', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=76, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 10
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 11: 2025-09-22 (monday), LessonIndex: 10, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 10 (lessonIndex) for Date: 2025-09-22, Period: 1, CourseId: 7
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -11, Date: 2025-09-22, Period: 1, CourseId: 7, LessonIndex: 10, LessonsCount: 10
[2025-09-01 10:47:36 WRN] ⚠️ [CreatePeriodCourseEvent] ERROR EVENT - LessonIndex 10 >= LessonsCount 10
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Error, LessonId: , LessonTitle: '', Comment: No lesson assigned - schedule needs more content
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Error, LessonId=, Comment=No lesson assigned - schedule needs more content
[2025-09-01 10:47:36 WRN] ⚠️ [GenerateEventsForPeriodCourse] ERROR EVENT created for 2025-09-22, Period 1
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] Final result: 11 events created, 10 lessons, 1 errors
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Starting - CourseId: 8, UserId: 1
[2025-09-01 10:47:36 DBG] Retrieving lessons by User ID: 1
[2025-09-01 10:47:36 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@__userId_0='1', @__courseId_1='8'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1', @__courseId_1='8'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Found 10 lessons for Course 8
[2025-09-01 10:47:36 INF] 🔍 [GetLessonsForCourse] Final lesson sequence:
[2025-09-01 10:47:36 INF]   [0] Lesson 67 'Lesson 11' - Topic:1, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:47:36 INF]   [1] Lesson 68 'Lesson 12' - Topic:1, Entity:1, Lesson:1 [Direct]
[2025-09-01 10:47:36 INF]   [2] Lesson 69 'Lesson 13' - Topic:1, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:47:36 INF]   [3] Lesson 77 'Lesson 14' - Topic:1, Entity:3, Lesson:0 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [4] Lesson 78 'Lesson 15' - Topic:1, Entity:3, Lesson:1 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [5] Lesson 70 'Lesson 16' - Topic:2, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:47:36 INF]   [6] Lesson 71 'Lesson 17' - Topic:2, Entity:1, Lesson:1 [Direct]
[2025-09-01 10:47:36 INF]   [7] Lesson 72 'Lesson 18' - Topic:2, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:47:36 INF]   [8] Lesson 79 'Lesson 19' - Topic:2, Entity:3, Lesson:0 [SubTopic-3]
[2025-09-01 10:47:36 INF]   [9] Lesson 80 'Lesson 20' - Topic:2, Entity:3, Lesson:1 [SubTopic-3]
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] Period 2, Course 8 - 10 lessons available
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] First lessons: [{"Id":67,"Title":"Lesson 11","TopicId":15,"SubTopicId":null},{"Id":68,"Title":"Lesson 12","TopicId":15,"SubTopicId":null},{"Id":69,"Title":"Lesson 13","TopicId":15,"SubTopicId":null}]
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] Teaching days: monday, tuesday, wednesday, thursday, friday
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] Date range: 2025-09-08 to 2025-09-22
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 1: 2025-09-08 (monday), LessonIndex: 0, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 0 (lessonIndex) for Date: 2025-09-08, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -12, Date: 2025-09-08, Period: 2, CourseId: 8, LessonIndex: 0, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 67, Title: 'Lesson 11', Objective: 'C2T1L1'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 67, LessonTitle: 'Lesson 11', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=67, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 1
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 2: 2025-09-09 (tuesday), LessonIndex: 1, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 1 (lessonIndex) for Date: 2025-09-09, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -13, Date: 2025-09-09, Period: 2, CourseId: 8, LessonIndex: 1, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 68, Title: 'Lesson 12', Objective: 'C2T1L2'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 68, LessonTitle: 'Lesson 12', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=68, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 2
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 3: 2025-09-10 (wednesday), LessonIndex: 2, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 2 (lessonIndex) for Date: 2025-09-10, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -14, Date: 2025-09-10, Period: 2, CourseId: 8, LessonIndex: 2, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 69, Title: 'Lesson 13', Objective: 'C2T1L3'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 69, LessonTitle: 'Lesson 13', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=69, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 3
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 4: 2025-09-11 (thursday), LessonIndex: 3, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 3 (lessonIndex) for Date: 2025-09-11, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -15, Date: 2025-09-11, Period: 2, CourseId: 8, LessonIndex: 3, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 77, Title: 'Lesson 14', Objective: 'C2T1S1L1'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 77, LessonTitle: 'Lesson 14', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=77, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 4
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 5: 2025-09-12 (friday), LessonIndex: 4, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 4 (lessonIndex) for Date: 2025-09-12, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -16, Date: 2025-09-12, Period: 2, CourseId: 8, LessonIndex: 4, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 78, Title: 'Lesson 15', Objective: 'C2T1S1L2'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 78, LessonTitle: 'Lesson 15', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=78, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 5
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 6: 2025-09-15 (monday), LessonIndex: 5, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 5 (lessonIndex) for Date: 2025-09-15, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -17, Date: 2025-09-15, Period: 2, CourseId: 8, LessonIndex: 5, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 70, Title: 'Lesson 16', Objective: 'C2T2L1'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 70, LessonTitle: 'Lesson 16', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=70, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 6
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 7: 2025-09-16 (tuesday), LessonIndex: 6, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 6 (lessonIndex) for Date: 2025-09-16, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -18, Date: 2025-09-16, Period: 2, CourseId: 8, LessonIndex: 6, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 71, Title: 'Lesson 17', Objective: 'C2T2L2'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 71, LessonTitle: 'Lesson 17', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=71, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 7
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 8: 2025-09-17 (wednesday), LessonIndex: 7, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 7 (lessonIndex) for Date: 2025-09-17, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -19, Date: 2025-09-17, Period: 2, CourseId: 8, LessonIndex: 7, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 72, Title: 'Lesson 18', Objective: 'C2T2L3'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 72, LessonTitle: 'Lesson 18', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=72, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 8
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 9: 2025-09-18 (thursday), LessonIndex: 8, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 8 (lessonIndex) for Date: 2025-09-18, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -20, Date: 2025-09-18, Period: 2, CourseId: 8, LessonIndex: 8, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 79, Title: 'Lesson 19', Objective: 'C2T2S1L1'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 79, LessonTitle: 'Lesson 19', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=79, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 9
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 10: 2025-09-19 (friday), LessonIndex: 9, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 9 (lessonIndex) for Date: 2025-09-19, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -21, Date: 2025-09-19, Period: 2, CourseId: 8, LessonIndex: 9, LessonsCount: 10
[2025-09-01 10:47:36 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 80, Title: 'Lesson 20', Objective: 'C2T2S1L2'
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 80, LessonTitle: 'Lesson 20', Comment: 
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=80, Comment=
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 10
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 11: 2025-09-22 (monday), LessonIndex: 10, LessonsCount: 10
[2025-09-01 10:47:36 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 10 (lessonIndex) for Date: 2025-09-22, Period: 2, CourseId: 8
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -22, Date: 2025-09-22, Period: 2, CourseId: 8, LessonIndex: 10, LessonsCount: 10
[2025-09-01 10:47:36 WRN] ⚠️ [CreatePeriodCourseEvent] ERROR EVENT - LessonIndex 10 >= LessonsCount 10
[2025-09-01 10:47:36 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Error, LessonId: , LessonTitle: '', Comment: No lesson assigned - schedule needs more content
[2025-09-01 10:47:36 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Error, LessonId=, Comment=No lesson assigned - schedule needs more content
[2025-09-01 10:47:36 WRN] ⚠️ [GenerateEventsForPeriodCourse] ERROR EVENT created for 2025-09-22, Period 2
[2025-09-01 10:47:36 INF] 🔍 [GenerateEventsForPeriodCourse] Final result: 11 events created, 10 lessons, 1 errors
[2025-09-01 10:47:36 INF] CreateOrReplaceScheduleAsync: Creating/replacing schedule for user 1 with 22 events
[2025-09-01 10:47:36 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Beginning transaction with isolation level 'Unspecified'.
[2025-09-01 10:47:36 DBG] Began transaction with isolation level 'Serializable'.
[2025-09-01 10:47:36 DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Include(s => s.ScheduleEvents)
    .Include(s => s.SpecialDays)
    .FirstOrDefault(s => s.UserId == __userId_0)'
[2025-09-01 10:47:36 DBG] Including navigation: 'Schedule.ScheduleEvents'.
[2025-09-01 10:47:36 DBG] Including navigation: 'Schedule.SpecialDays'.
[2025-09-01 10:47:36 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-09-01 10:47:36 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Schedule>(
    asyncEnumerable: new SingleQueryingEnumerable<Schedule>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Schedule.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.CourseId (no field, int?) Shadow FK Index, 1], [Property: Schedule.CreatedDate (DateTime) Required, 2], [Property: Schedule.IsLocked (bool) Required, 3], [Property: Schedule.ScheduleConfigurationId (int) Required FK Index, 4], [Property: Schedule.Title (string) Required MaxLength(100), 5], [Property: Schedule.UserId (int) Required FK Index, 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: ScheduleEvent.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: ScheduleEvent.Comment (string) MaxLength(1000), 8], [Property: ScheduleEvent.CourseId (int?), 9], [Property: ScheduleEvent.Date (DateTime) Required Index, 10], [Property: ScheduleEvent.EventCategory (string) MaxLength(50), 11], [Property: ScheduleEvent.EventType (string) Required MaxLength(50), 12], [Property: ScheduleEvent.LessonId (int?) FK Index, 13], [Property: ScheduleEvent.Period (int) Required Index, 14], [Property: ScheduleEvent.ScheduleId (int) Required FK Index, 15], [Property: ScheduleEvent.ScheduleSort (int) Required, 16] }
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: SpecialDay.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: SpecialDay.Date (DateTime) Required Index, 18], [Property: SpecialDay.EventType (string) Required MaxLength(100), 19], [Property: SpecialDay.Periods (string) Required MaxLength(50), 20], [Property: SpecialDay.ScheduleId (int) Required FK Index, 21], [Property: SpecialDay.Title (string) Required MaxLength(200), 22] }
                5 -> 17
            SELECT t.Id, t.CourseId, t.CreatedDate, t.IsLocked, t.ScheduleConfigurationId, t.Title, t.UserId, s0.Id, s0.Comment, s0.CourseId, s0.Date, s0.EventCategory, s0.EventType, s0.LessonId, s0.Period, s0.ScheduleId, s0.ScheduleSort, s1.Id, s1.Date, s1.EventType, s1.Periods, s1.ScheduleId, s1.Title
            FROM 
            (
                SELECT TOP(1) s.Id, s.CourseId, s.CreatedDate, s.IsLocked, s.ScheduleConfigurationId, s.Title, s.UserId
                FROM Schedules AS s
                WHERE s.UserId == @__userId_0
            ) AS t
            LEFT JOIN ScheduleEvents AS s0 ON t.Id == s0.ScheduleId
            LEFT JOIN SpecialDays AS s1 ON t.Id == s1.ScheduleId
            ORDER BY t.Id ASC, s0.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "s0"."Id", "s0"."Comment", "s0"."CourseId", "s0"."Date", "s0"."EventCategory", "s0"."EventType", "s0"."LessonId", "s0"."Period", "s0"."ScheduleId", "s0"."ScheduleSort", "s1"."Id", "s1"."Date", "s1"."EventType", "s1"."Periods", "s1"."ScheduleId", "s1"."Title"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId"
    FROM "Schedules" AS "s"
    WHERE "s"."UserId" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ScheduleEvents" AS "s0" ON "t"."Id" = "s0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s1" ON "t"."Id" = "s1"."ScheduleId"
ORDER BY "t"."Id", "s0"."Id"
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "s0"."Id", "s0"."Comment", "s0"."CourseId", "s0"."Date", "s0"."EventCategory", "s0"."EventType", "s0"."LessonId", "s0"."Period", "s0"."ScheduleId", "s0"."ScheduleSort", "s1"."Id", "s1"."Date", "s1"."EventType", "s1"."Periods", "s1"."ScheduleId", "s1"."Title"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId"
    FROM "Schedules" AS "s"
    WHERE "s"."UserId" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ScheduleEvents" AS "s0" ON "t"."Id" = "s0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s1" ON "t"."Id" = "s1"."ScheduleId"
ORDER BY "t"."Id", "s0"."Id"
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 INF] CreateOrReplaceScheduleAsync: Creating new schedule for user 1
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'Schedule.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'Schedule.ScheduleConfiguration' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'Schedule.User' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'Schedule' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482647' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482647}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482646' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482646}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482645' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482645}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482645}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482645}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482644' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482644}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482644}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482644}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482643' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482643}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482643}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482643}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482642' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482642}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482642}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482642}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482641' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482641}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482641}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482641}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482640' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482640}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482640}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482640}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482639' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482639}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482639}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482639}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482638' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482638}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482638}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482638}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482637' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482637}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482637}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482637}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482636' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482636}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482636}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482636}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482635' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482635}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482635}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482635}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482634' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482634}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482634}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482634}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482633' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482633}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482633}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482633}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482632' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482632}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482632}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482632}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482631' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482631}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482631}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482631}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482630' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482630}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482630}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482630}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482629' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482629}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482629}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482629}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482628' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482628}' was detected as changed.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482628}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482628}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482627' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482627}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482627}'.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' generated temporary value '-2147482626' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:47:36 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482626}' was detected as changed.
[2025-09-01 10:47:36 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482626}'.
[2025-09-01 10:47:36 INF] CreateOrReplaceScheduleAsync: Created new schedule with 22 events
[2025-09-01 10:47:36 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:36 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:47:36 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:47:36 DBG] Creating transaction savepoint.
[2025-09-01 10:47:36 DBG] Created transaction savepoint.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL (DbType = Int32), @p1='2025-09-01T15:47:36.2950679Z' (DbType = DateTime), @p2='False', @p3='4', @p4='' (Nullable = false), @p5='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Schedules" ("CourseId", "CreatedDate", "IsLocked", "ScheduleConfigurationId", "Title", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL (DbType = Int32), @p1='2025-09-01T15:47:36.2950679Z' (DbType = DateTime), @p2='False', @p3='4', @p4='' (Nullable = false), @p5='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Schedules" ("CourseId", "CreatedDate", "IsLocked", "ScheduleConfigurationId", "Title", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'Schedule.Id' was detected as changed from '-2147482647' to '4' for entity with key '{Id: 4}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482647}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482646}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482645}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482644}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482643}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482642}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482641}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482640}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482639}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482638}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482637}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482636}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482635}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482634}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482633}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482632}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482631}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482630}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482629}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482628}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482627}'.
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.ScheduleId' was detected as changed from '-2147482647' to '4' for entity with key '{Id: -2147482626}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 4ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p6=NULL, @p7='7' (Nullable = true), @p8='2025-09-08T00:00:00.0000000-05:00' (DbType = DateTime), @p9='Lesson' (Size = 6), @p10='Lesson' (Nullable = false) (Size = 6), @p11='61' (Nullable = true), @p12='1', @p13='4', @p14='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p6=NULL, @p7='7' (Nullable = true), @p8='2025-09-08T00:00:00.0000000-05:00' (DbType = DateTime), @p9='Lesson' (Size = 6), @p10='Lesson' (Nullable = false) (Size = 6), @p11='61' (Nullable = true), @p12='1', @p13='4', @p14='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482647' to '67' for entity with key '{Id: 67}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-08T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='67' (Nullable = true), @p6='2', @p7='4', @p8='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-08T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='67' (Nullable = true), @p6='2', @p7='4', @p8='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482646' to '68' for entity with key '{Id: 68}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-09T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='62' (Nullable = true), @p6='1', @p7='4', @p8='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-09T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='62' (Nullable = true), @p6='1', @p7='4', @p8='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482645' to '69' for entity with key '{Id: 69}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-09T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='68' (Nullable = true), @p6='2', @p7='4', @p8='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-09T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='68' (Nullable = true), @p6='2', @p7='4', @p8='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482644' to '70' for entity with key '{Id: 70}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-10T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='63' (Nullable = true), @p6='1', @p7='4', @p8='2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-10T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='63' (Nullable = true), @p6='1', @p7='4', @p8='2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482643' to '71' for entity with key '{Id: 71}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-10T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='69' (Nullable = true), @p6='2', @p7='4', @p8='2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-10T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='69' (Nullable = true), @p6='2', @p7='4', @p8='2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482642' to '72' for entity with key '{Id: 72}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-11T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='73' (Nullable = true), @p6='1', @p7='4', @p8='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-11T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='73' (Nullable = true), @p6='1', @p7='4', @p8='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482641' to '73' for entity with key '{Id: 73}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-11T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='77' (Nullable = true), @p6='2', @p7='4', @p8='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-11T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='77' (Nullable = true), @p6='2', @p7='4', @p8='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482640' to '74' for entity with key '{Id: 74}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-12T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='74' (Nullable = true), @p6='1', @p7='4', @p8='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-12T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='74' (Nullable = true), @p6='1', @p7='4', @p8='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482639' to '75' for entity with key '{Id: 75}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-12T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='78' (Nullable = true), @p6='2', @p7='4', @p8='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-12T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='78' (Nullable = true), @p6='2', @p7='4', @p8='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482638' to '76' for entity with key '{Id: 76}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-15T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='64' (Nullable = true), @p6='1', @p7='4', @p8='5'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-15T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='64' (Nullable = true), @p6='1', @p7='4', @p8='5'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482637' to '77' for entity with key '{Id: 77}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-15T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='70' (Nullable = true), @p6='2', @p7='4', @p8='5'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-15T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='70' (Nullable = true), @p6='2', @p7='4', @p8='5'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482636' to '78' for entity with key '{Id: 78}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-16T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='65' (Nullable = true), @p6='1', @p7='4', @p8='6'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-16T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='65' (Nullable = true), @p6='1', @p7='4', @p8='6'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482635' to '79' for entity with key '{Id: 79}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-16T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='71' (Nullable = true), @p6='2', @p7='4', @p8='6'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-16T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='71' (Nullable = true), @p6='2', @p7='4', @p8='6'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482634' to '80' for entity with key '{Id: 80}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-17T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='66' (Nullable = true), @p6='1', @p7='4', @p8='7'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-17T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='66' (Nullable = true), @p6='1', @p7='4', @p8='7'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482633' to '81' for entity with key '{Id: 81}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-17T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='72' (Nullable = true), @p6='2', @p7='4', @p8='7'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-17T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='72' (Nullable = true), @p6='2', @p7='4', @p8='7'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482632' to '82' for entity with key '{Id: 82}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-18T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='75' (Nullable = true), @p6='1', @p7='4', @p8='8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-18T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='75' (Nullable = true), @p6='1', @p7='4', @p8='8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482631' to '83' for entity with key '{Id: 83}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-18T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='79' (Nullable = true), @p6='2', @p7='4', @p8='8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-18T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='79' (Nullable = true), @p6='2', @p7='4', @p8='8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482630' to '84' for entity with key '{Id: 84}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-19T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='76' (Nullable = true), @p6='1', @p7='4', @p8='9'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-19T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='76' (Nullable = true), @p6='1', @p7='4', @p8='9'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482629' to '85' for entity with key '{Id: 85}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-19T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='80' (Nullable = true), @p6='2', @p7='4', @p8='9'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-19T00:00:00.0000000-05:00' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='80' (Nullable = true), @p6='2', @p7='4', @p8='9'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482628' to '86' for entity with key '{Id: 86}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0='No lesson assigned - schedule needs more content' (Size = 48), @p1='7' (Nullable = true), @p2='2025-09-22T00:00:00.0000000-05:00' (DbType = DateTime), @p3=NULL, @p4='Error' (Nullable = false) (Size = 5), @p5=NULL (DbType = Int32), @p6='1', @p7='4', @p8='10'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0='No lesson assigned - schedule needs more content' (Size = 48), @p1='7' (Nullable = true), @p2='2025-09-22T00:00:00.0000000-05:00' (DbType = DateTime), @p3=NULL, @p4='Error' (Nullable = false) (Size = 5), @p5=NULL (DbType = Int32), @p6='1', @p7='4', @p8='10'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482627' to '87' for entity with key '{Id: 87}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@p0='No lesson assigned - schedule needs more content' (Size = 48), @p1='8' (Nullable = true), @p2='2025-09-22T00:00:00.0000000-05:00' (DbType = DateTime), @p3=NULL, @p4='Error' (Nullable = false) (Size = 5), @p5=NULL (DbType = Int32), @p6='2', @p7='4', @p8='10'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 INF] Executed DbCommand (0ms) [Parameters=[@p0='No lesson assigned - schedule needs more content' (Size = 48), @p1='8' (Nullable = true), @p2='2025-09-22T00:00:00.0000000-05:00' (DbType = DateTime), @p3=NULL, @p4='Error' (Nullable = false) (Size = 5), @p5=NULL (DbType = Int32), @p6='2', @p7='4', @p8='10'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:47:36 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482626' to '88' for entity with key '{Id: 88}'.
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Releasing transaction savepoint.
[2025-09-01 10:47:36 DBG] Released transaction savepoint.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 88}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 87}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 86}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 85}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 84}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 83}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 82}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 81}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 80}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 79}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 78}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 77}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 76}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 75}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 74}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 73}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 72}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 71}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 70}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 69}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 68}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'ScheduleEvent' entity with key '{Id: 67}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] The 'Schedule' entity with key '{Id: 4}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:47:36 DBG] SaveChanges completed for 'LessonTreeContext' with 23 entities written to the database.
[2025-09-01 10:47:36 DBG] Committing transaction.
[2025-09-01 10:47:36 DBG] Committed transaction.
[2025-09-01 10:47:36 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 INF] CreateOrReplaceScheduleAsync: Successfully persisted schedule 4 with 22 events for user 1
[2025-09-01 10:47:36 INF] GetByIdAsync: Fetching schedule 4
[2025-09-01 10:47:36 DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Include(s => s.ScheduleConfiguration)
    .ThenInclude(sc => sc.PeriodAssignments)
    .Include(s => s.ScheduleEvents
        .OrderBy(e => e.Date)
        .ThenBy(e => e.Period))
    .ThenInclude(e => e.Lesson)
    .Include(s => s.SpecialDays
        .OrderBy(sd => sd.Date))
    .Include(s => s.User)
    .FirstOrDefault(s => s.Id == __id_0)'
[2025-09-01 10:47:36 DBG] Including navigation: 'Schedule.ScheduleConfiguration'.
[2025-09-01 10:47:36 DBG] Including navigation: 'ScheduleConfiguration.PeriodAssignments'.
[2025-09-01 10:47:36 DBG] Including navigation: 'Schedule.ScheduleEvents'.
[2025-09-01 10:47:36 DBG] Including navigation: 'Schedule.SpecialDays'.
[2025-09-01 10:47:36 DBG] Including navigation: 'Schedule.User'.
[2025-09-01 10:47:36 DBG] Including navigation: 'ScheduleEvent.Lesson'.
[2025-09-01 10:47:36 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-09-01 10:47:36 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Schedule>(
    asyncEnumerable: new SingleQueryingEnumerable<Schedule>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Schedule.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.CourseId (no field, int?) Shadow FK Index, 1], [Property: Schedule.CreatedDate (DateTime) Required, 2], [Property: Schedule.IsLocked (bool) Required, 3], [Property: Schedule.ScheduleConfigurationId (int) Required FK Index, 4], [Property: Schedule.Title (string) Required MaxLength(100), 5], [Property: Schedule.UserId (int) Required FK Index, 6] }
                1 -> Dictionary<IProperty, int> { [Property: ScheduleConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: ScheduleConfiguration.CreatedDate (DateTime) Required, 8], [Property: ScheduleConfiguration.EndDate (DateTime) Required, 9], [Property: ScheduleConfiguration.IsActive (bool) Required Index, 10], [Property: ScheduleConfiguration.IsTemplate (bool) Required, 11], [Property: ScheduleConfiguration.LastUpdated (DateTime) Required, 12], [Property: ScheduleConfiguration.PeriodsPerDay (int) Required, 13], [Property: ScheduleConfiguration.SchoolYear (string) Required Index MaxLength(20), 14], [Property: ScheduleConfiguration.StartDate (DateTime) Required, 15], [Property: ScheduleConfiguration.TeachingDays (string) Required MaxLength(200), 16], [Property: ScheduleConfiguration.Title (string) Required MaxLength(100), 17], [Property: ScheduleConfiguration.UserId (int) Required FK Index, 18] }
                2 -> 0
                3 -> 7
                4 -> 19
                5 -> Dictionary<IProperty, int> { [Property: PeriodAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 20], [Property: PeriodAssignment.BackgroundColor (string) Required MaxLength(7), 21], [Property: PeriodAssignment.CourseId (int?), 22], [Property: PeriodAssignment.FontColor (string) Required MaxLength(7), 23], [Property: PeriodAssignment.Notes (string) MaxLength(500), 24], [Property: PeriodAssignment.Period (int) Required Index, 25], [Property: PeriodAssignment.Room (string) MaxLength(50), 26], [Property: PeriodAssignment.ScheduleConfigurationId (int) Required FK Index, 27], [Property: PeriodAssignment.SpecialPeriodType (string) MaxLength(50), 28], [Property: PeriodAssignment.TeachingDays (string) Required MaxLength(200), 29] }
                6 -> 20
                7 -> Dictionary<IProperty, int> { [Property: ScheduleEvent.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: ScheduleEvent.Comment (string) MaxLength(1000), 31], [Property: ScheduleEvent.CourseId (int?), 32], [Property: ScheduleEvent.Date (DateTime) Required Index, 33], [Property: ScheduleEvent.EventCategory (string) MaxLength(50), 34], [Property: ScheduleEvent.EventType (string) Required MaxLength(50), 35], [Property: ScheduleEvent.LessonId (int?) FK Index, 36], [Property: ScheduleEvent.Period (int) Required Index, 37], [Property: ScheduleEvent.ScheduleId (int) Required FK Index, 38], [Property: ScheduleEvent.ScheduleSort (int) Required, 39] }
                8 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 40], [Property: Lesson.Archived (bool) Required, 41], [Property: Lesson.Assessment (string) MaxLength(250), 42], [Property: Lesson.ClassTime (string) MaxLength(100), 43], [Property: Lesson.Level (string) MaxLength(100), 44], [Property: Lesson.Materials (string) MaxLength(200), 45], [Property: Lesson.Methods (string) MaxLength(500), 46], [Property: Lesson.Objective (string) Required MaxLength(500), 47], [Property: Lesson.SortOrder (int) Required Index, 48], [Property: Lesson.SpecialNeeds (string) MaxLength(500), 49], [Property: Lesson.SubTopicId (int?) FK Index, 50], [Property: Lesson.Title (string) Required MaxLength(200), 51], [Property: Lesson.TopicId (int?) FK Index, 52], [Property: Lesson.UserId (int) Required FK Index, 53], [Property: Lesson.Visibility (VisibilityType) Required, 54] }
                9 -> 30
                10 -> 40
                11 -> Dictionary<IProperty, int> { [Property: SpecialDay.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 55], [Property: SpecialDay.Date (DateTime) Required Index, 56], [Property: SpecialDay.EventType (string) Required MaxLength(100), 57], [Property: SpecialDay.Periods (string) Required MaxLength(50), 58], [Property: SpecialDay.ScheduleId (int) Required FK Index, 59], [Property: SpecialDay.Title (string) Required MaxLength(200), 60] }
                12 -> 55
                13 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: User.AccessFailedCount (int) Required, 61], [Property: User.ConcurrencyStamp (string) Concurrency, 62], [Property: User.DistrictId (int?) FK Index, 63], [Property: User.Email (string) MaxLength(256), 64], [Property: User.EmailConfirmed (bool) Required, 65], [Property: User.FirstName (string) Required, 66], [Property: User.LastName (string) Required, 67], [Property: User.LockoutEnabled (bool) Required, 68], [Property: User.LockoutEnd (DateTimeOffset?), 69], [Property: User.NormalizedEmail (string) Index MaxLength(256), 70], [Property: User.NormalizedUserName (string) Index MaxLength(256), 71], [Property: User.PasswordHash (string), 72], [Property: User.PhoneNumber (string), 73], [Property: User.PhoneNumberConfirmed (bool) Required, 74], [Property: User.SchoolId (int?) FK Index, 75], [Property: User.SecurityStamp (string), 76], [Property: User.TwoFactorEnabled (bool) Required, 77], [Property: User.UserName (string) MaxLength(256), 78] }
            SELECT t.Id, t.CourseId, t.CreatedDate, t.IsLocked, t.ScheduleConfigurationId, t.Title, t.UserId, t.Id0, t.CreatedDate0, t.EndDate, t.IsActive, t.IsTemplate, t.LastUpdated, t.PeriodsPerDay, t.SchoolYear, t.StartDate, t.TeachingDays, t.Title0, t.UserId0, t.Id1, p.Id, p.BackgroundColor, p.CourseId, p.FontColor, p.Notes, p.Period, p.Room, p.ScheduleConfigurationId, p.SpecialPeriodType, p.TeachingDays, t0.Id, t0.Comment, t0.CourseId, t0.Date, t0.EventCategory, t0.EventType, t0.LessonId, t0.Period, t0.ScheduleId, t0.ScheduleSort, t0.Id0, t0.Archived, t0.Assessment, t0.ClassTime, t0.Level, t0.Materials, t0.Methods, t0.Objective, t0.SortOrder, t0.SpecialNeeds, t0.SubTopicId, t0.Title, t0.TopicId, t0.UserId, t0.Visibility, s2.Id, s2.Date, s2.EventType, s2.Periods, s2.ScheduleId, s2.Title, t.AccessFailedCount, t.ConcurrencyStamp, t.DistrictId, t.Email, t.EmailConfirmed, t.FirstName, t.LastName, t.LockoutEnabled, t.LockoutEnd, t.NormalizedEmail, t.NormalizedUserName, t.PasswordHash, t.PhoneNumber, t.PhoneNumberConfirmed, t.SchoolId, t.SecurityStamp, t.TwoFactorEnabled, t.UserName
            FROM 
            (
                SELECT TOP(1) s.Id, s.CourseId, s.CreatedDate, s.IsLocked, s.ScheduleConfigurationId, s.Title, s.UserId, s0.Id AS Id0, s0.CreatedDate AS CreatedDate0, s0.EndDate, s0.IsActive, s0.IsTemplate, s0.LastUpdated, s0.PeriodsPerDay, s0.SchoolYear, s0.StartDate, s0.TeachingDays, s0.Title AS Title0, s0.UserId AS UserId0, a.Id AS Id1, a.AccessFailedCount, a.ConcurrencyStamp, a.DistrictId, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SchoolId, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM Schedules AS s
                INNER JOIN ScheduleConfigurations AS s0 ON s.ScheduleConfigurationId == s0.Id
                INNER JOIN AspNetUsers AS a ON s.UserId == a.Id
                WHERE s.Id == @__id_0
            ) AS t
            LEFT JOIN PeriodAssignments AS p ON t.Id0 == p.ScheduleConfigurationId
            LEFT JOIN 
            (
                SELECT s1.Id, s1.Comment, s1.CourseId, s1.Date, s1.EventCategory, s1.EventType, s1.LessonId, s1.Period, s1.ScheduleId, s1.ScheduleSort, l.Id AS Id0, l.Archived, l.Assessment, l.ClassTime, l.Level, l.Materials, l.Methods, l.Objective, l.SortOrder, l.SpecialNeeds, l.SubTopicId, l.Title, l.TopicId, l.UserId, l.Visibility
                FROM ScheduleEvents AS s1
                LEFT JOIN Lessons AS l ON s1.LessonId == l.Id
            ) AS t0 ON t.Id == t0.ScheduleId
            LEFT JOIN SpecialDays AS s2 ON t.Id == s2.ScheduleId
            ORDER BY t.Id ASC, t.Id0 ASC, t.Id1 ASC, p.Id ASC, t0.Date ASC, t0.Period ASC, t0.Id ASC, t0.Id0 ASC, s2.Date ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:47:36 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:47:36 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:47:36 DBG] Executing DbCommand [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:47:36 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:47:36 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:47:36 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:47:36 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 INF] GetByIdAsync: Found schedule 4 for user 1 with 22 events and 0 special days
[2025-09-01 10:47:36 DBG] Disposing transaction.
[2025-09-01 10:47:36 INF] Persisted Schedule 4 with 22 events
[2025-09-01 10:47:36 INF] Generated and saved schedule with 22 events across 2 periods
[2025-09-01 10:47:36 INF] ✅ Generated and saved schedule 4 with 22 events
[2025-09-01 10:47:36 INF]    📊 Event breakdown across 2 periods
[2025-09-01 10:47:36 INF] ✅ Phase 2 completed: Schedule generation finished
[2025-09-01 10:47:36 INF] 🎉 Comprehensive test data seeding completed successfully!
[2025-09-01 10:47:36 INF] 🎉 Database seeding completed successfully.
[2025-09-01 10:47:36 DBG] 'LessonTreeContext' disposed.
[2025-09-01 10:47:36 DBG] Disposing connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:47:36 DBG] Disposed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:47:36 DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
[2025-09-01 10:47:36 DBG] Hosting starting
[2025-09-01 10:47:36 DBG] Reading data from file 'C:\Users\steve\AppData\Local\ASP.NET\DataProtection-Keys\key-26239dd7-05fc-4d68-b559-4f6b0f141668.xml'.
[2025-09-01 10:47:36 DBG] Found key {26239dd7-05fc-4d68-b559-4f6b0f141668}.
[2025-09-01 10:47:36 DBG] Considering key {26239dd7-05fc-4d68-b559-4f6b0f141668} with expiration date 2025-11-27 23:51:07Z as default key.
[2025-09-01 10:47:36 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-09-01 10:47:36 DBG] Decrypting secret element using Windows DPAPI.
[2025-09-01 10:47:36 DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
[2025-09-01 10:47:36 DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
[2025-09-01 10:47:36 DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
[2025-09-01 10:47:36 DBG] Using key {26239dd7-05fc-4d68-b559-4f6b0f141668} as the default key.
[2025-09-01 10:47:36 DBG] Key ring with default key {26239dd7-05fc-4d68-b559-4f6b0f141668} was loaded during application startup.
[2025-09-01 10:47:36 INF] Now listening on: http://localhost:5046
[2025-09-01 10:47:36 DBG] Loaded hosting startup assembly LessonTree.API
[2025-09-01 10:47:36 INF] Application started. Press Ctrl+C to shut down.
[2025-09-01 10:47:36 INF] Hosting environment: Development
[2025-09-01 10:47:36 INF] Content root path: C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api
[2025-09-01 10:47:36 DBG] Hosting started
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7S9" accepted.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7S9" started.
[2025-09-01 10:48:05 INF] Request starting HTTP/1.1 OPTIONS http://localhost:5046/account/login - null null
[2025-09-01 10:48:05 DBG] Wildcard detected, all requests with hosts will be allowed.
[2025-09-01 10:48:05 DBG] 1 candidate(s) found for the request path '/account/login'
[2025-09-01 10:48:05 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-09-01 10:48:05 INF] Middleware: Handling OPTIONS request to /account/login
[2025-09-01 10:48:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:05 INF] CORS policy execution successful.
[2025-09-01 10:48:05 DBG] The request is a preflight request.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7S9" completed keep alive response.
[2025-09-01 10:48:05 INF] Request finished HTTP/1.1 OPTIONS http://localhost:5046/account/login - 204 null null 35.4271ms
[2025-09-01 10:48:05 INF] Request starting HTTP/1.1 POST http://localhost:5046/account/login - application/json 50
[2025-09-01 10:48:05 DBG] 1 candidate(s) found for the request path '/account/login'
[2025-09-01 10:48:05 DBG] Endpoint 'LessonTree.API.Controllers.AccountController.Login (LessonTree.API)' with route pattern 'account/login' is valid for the request path '/account/login'
[2025-09-01 10:48:05 DBG] Request matched endpoint 'LessonTree.API.Controllers.AccountController.Login (LessonTree.API)'
[2025-09-01 10:48:05 INF] Middleware: Handling POST request to /account/login
[2025-09-01 10:48:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:05 INF] CORS policy execution successful.
[2025-09-01 10:48:05 DBG] The request is insecure. Skipping HSTS header.
[2025-09-01 10:48:05 WRN] Failed to determine the https port for redirect.
[2025-09-01 10:48:05 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-09-01 10:48:05 DBG] Static files was skipped as the request already matched an endpoint.
[2025-09-01 10:48:05 INF] Executing endpoint 'LessonTree.API.Controllers.AccountController.Login (LessonTree.API)'
[2025-09-01 10:48:05 INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(LessonTree.Models.DTO.LoginRequest) on controller LessonTree.API.Controllers.AccountController (LessonTree.API).
[2025-09-01 10:48:05 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-09-01 10:48:05 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-09-01 10:48:05 DBG] Executing controller factory for controller LessonTree.API.Controllers.AccountController (LessonTree.API)
[2025-09-01 10:48:05 DBG] Executed controller factory for controller LessonTree.API.Controllers.AccountController (LessonTree.API)
[2025-09-01 10:48:05 DBG] Attempting to bind parameter 'loginRequest' of type 'LessonTree.Models.DTO.LoginRequest' ...
[2025-09-01 10:48:05 DBG] Attempting to bind parameter 'loginRequest' of type 'LessonTree.Models.DTO.LoginRequest' using the name '' in request data ...
[2025-09-01 10:48:05 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7S9", Request id "0HNF9DRODF7S9:00000002": started reading request body.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7S9", Request id "0HNF9DRODF7S9:00000002": done reading request body.
[2025-09-01 10:48:05 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.LoginRequest'
[2025-09-01 10:48:05 DBG] Done attempting to bind parameter 'loginRequest' of type 'LessonTree.Models.DTO.LoginRequest'.
[2025-09-01 10:48:05 DBG] Done attempting to bind parameter 'loginRequest' of type 'LessonTree.Models.DTO.LoginRequest'.
[2025-09-01 10:48:05 DBG] Attempting to validate the bound parameter 'loginRequest' of type 'LessonTree.Models.DTO.LoginRequest' ...
[2025-09-01 10:48:05 DBG] Done attempting to validate the bound parameter 'loginRequest' of type 'LessonTree.Models.DTO.LoginRequest'.
[2025-09-01 10:48:05 INF] Incoming request: POST /account/login, Query: , Body: 
[2025-09-01 10:48:05 DBG] Attempting login for user: admin
[2025-09-01 10:48:05 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled 
[2025-09-01 10:48:05 DBG] Creating DbConnection.
[2025-09-01 10:48:05 DBG] Created DbConnection. (0ms).
[2025-09-01 10:48:05 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:05 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:05 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-09-01 10:48:05 INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='ADMIN' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "AspNetUsers" AS "a"
WHERE "a"."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'User' entity with key '{Id: 1}'.
[2025-09-01 10:48:05 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:05 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:05 DBG] User admin found, checking password
[2025-09-01 10:48:05 DBG] Compiling query expression: 
'DbSet<IdentityUserRole<int>>()
    .Join(
        inner: DbSet<IdentityRole<int>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
[2025-09-01 10:48:05 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:48:05 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:05 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:05 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Executing DbCommand [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
[2025-09-01 10:48:05 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "a0"."Name"
FROM "AspNetUserRoles" AS "a"
INNER JOIN "AspNetRoles" AS "a0" ON "a"."RoleId" = "a0"."Id"
WHERE "a"."UserId" = @__userId_0
[2025-09-01 10:48:05 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:05 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:05 INF] User logged in: admin, Roles: admin
[2025-09-01 10:48:05 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-09-01 10:48:05 DBG] No information found on request to perform content negotiation.
[2025-09-01 10:48:05 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-09-01 10:48:05 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-09-01 10:48:05 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-09-01 10:48:05 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-09-01 10:48:05 INF] Executed action LessonTree.API.Controllers.AccountController.Login (LessonTree.API) in 201.0603ms
[2025-09-01 10:48:05 INF] Executed endpoint 'LessonTree.API.Controllers.AccountController.Login (LessonTree.API)'
[2025-09-01 10:48:05 INF] HTTP POST /account/login responded 200 in 220.1919 ms
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7S9" completed keep alive response.
[2025-09-01 10:48:05 DBG] 'LessonTreeContext' disposed.
[2025-09-01 10:48:05 DBG] Disposing connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:05 DBG] Disposed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:05 INF] Request finished HTTP/1.1 POST http://localhost:5046/account/login - 200 null application/json; charset=utf-8 249.0405ms
[2025-09-01 10:48:05 INF] Request starting HTTP/1.1 OPTIONS http://localhost:5046/api/Course - null null
[2025-09-01 10:48:05 DBG] 1 candidate(s) found for the request path '/api/Course'
[2025-09-01 10:48:05 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-09-01 10:48:05 INF] Middleware: Handling OPTIONS request to /api/Course
[2025-09-01 10:48:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:05 INF] CORS policy execution successful.
[2025-09-01 10:48:05 DBG] The request is a preflight request.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7S9" completed keep alive response.
[2025-09-01 10:48:05 INF] Request finished HTTP/1.1 OPTIONS http://localhost:5046/api/Course - 204 null null 1.1174ms
[2025-09-01 10:48:05 INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Course - null null
[2025-09-01 10:48:05 DBG] 1 candidate(s) found for the request path '/api/Course'
[2025-09-01 10:48:05 DBG] Endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)' with route pattern 'api/Course' is valid for the request path '/api/Course'
[2025-09-01 10:48:05 DBG] Request matched endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-09-01 10:48:05 INF] Middleware: Handling GET request to /api/Course
[2025-09-01 10:48:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:05 INF] CORS policy execution successful.
[2025-09-01 10:48:05 DBG] The request is insecure. Skipping HSTS header.
[2025-09-01 10:48:05 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7SA" accepted.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7SA" started.
[2025-09-01 10:48:05 INF] Request starting HTTP/1.1 OPTIONS http://localhost:5046/api/user/profile - null null
[2025-09-01 10:48:05 DBG] 1 candidate(s) found for the request path '/api/user/profile'
[2025-09-01 10:48:05 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-09-01 10:48:05 INF] Middleware: Handling OPTIONS request to /api/user/profile
[2025-09-01 10:48:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:05 INF] CORS policy execution successful.
[2025-09-01 10:48:05 DBG] The request is a preflight request.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7SA" completed keep alive response.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7SB" accepted.
[2025-09-01 10:48:05 INF] Request finished HTTP/1.1 OPTIONS http://localhost:5046/api/user/profile - 204 null null 1.6443ms
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7SB" started.
[2025-09-01 10:48:05 INF] Request starting HTTP/1.1 OPTIONS http://localhost:5046/api/user/configuration - null null
[2025-09-01 10:48:05 DBG] 1 candidate(s) found for the request path '/api/user/configuration'
[2025-09-01 10:48:05 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-09-01 10:48:05 INF] Middleware: Handling OPTIONS request to /api/user/configuration
[2025-09-01 10:48:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:05 INF] CORS policy execution successful.
[2025-09-01 10:48:05 DBG] The request is a preflight request.
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7SB" completed keep alive response.
[2025-09-01 10:48:05 INF] Request finished HTTP/1.1 OPTIONS http://localhost:5046/api/user/configuration - 204 null null 2.1734ms
[2025-09-01 10:48:05 INF] Request starting HTTP/1.1 GET http://localhost:5046/api/user/profile - null null
[2025-09-01 10:48:05 DBG] 1 candidate(s) found for the request path '/api/user/profile'
[2025-09-01 10:48:05 DBG] Endpoint 'LessonTree.API.Controllers.UserController.GetCurrentUserProfile (LessonTree.API)' with route pattern 'api/User/profile' is valid for the request path '/api/user/profile'
[2025-09-01 10:48:05 DBG] Request matched endpoint 'LessonTree.API.Controllers.UserController.GetCurrentUserProfile (LessonTree.API)'
[2025-09-01 10:48:05 INF] Middleware: Handling GET request to /api/user/profile
[2025-09-01 10:48:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:05 INF] CORS policy execution successful.
[2025-09-01 10:48:05 DBG] The request is insecure. Skipping HSTS header.
[2025-09-01 10:48:05 INF] Request starting HTTP/1.1 GET http://localhost:5046/api/user/configuration - null null
[2025-09-01 10:48:05 DBG] 1 candidate(s) found for the request path '/api/user/configuration'
[2025-09-01 10:48:05 DBG] Endpoint 'LessonTree.API.Controllers.UserController.GetCurrentUserConfiguration (LessonTree.API)' with route pattern 'api/User/configuration' is valid for the request path '/api/user/configuration'
[2025-09-01 10:48:05 DBG] Request matched endpoint 'LessonTree.API.Controllers.UserController.GetCurrentUserConfiguration (LessonTree.API)'
[2025-09-01 10:48:05 INF] Middleware: Handling GET request to /api/user/configuration
[2025-09-01 10:48:05 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:05 INF] CORS policy execution successful.
[2025-09-01 10:48:05 DBG] The request is insecure. Skipping HSTS header.
[2025-09-01 10:48:05 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-09-01 10:48:05 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-09-01 10:48:05 DBG] Successfully validated the token.
[2025-09-01 10:48:05 DBG] Successfully validated the token.
[2025-09-01 10:48:05 DBG] Successfully validated the token.
[2025-09-01 10:48:05 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-09-01 10:48:05 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-09-01 10:48:05 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-09-01 10:48:05 DBG] Authorization was successful.
[2025-09-01 10:48:05 DBG] Authorization was successful.
[2025-09-01 10:48:05 DBG] Authorization was successful.
[2025-09-01 10:48:05 DBG] Static files was skipped as the request already matched an endpoint.
[2025-09-01 10:48:05 DBG] Static files was skipped as the request already matched an endpoint.
[2025-09-01 10:48:05 DBG] Static files was skipped as the request already matched an endpoint.
[2025-09-01 10:48:05 INF] Executing endpoint 'LessonTree.API.Controllers.UserController.GetCurrentUserConfiguration (LessonTree.API)'
[2025-09-01 10:48:05 INF] Executing endpoint 'LessonTree.API.Controllers.UserController.GetCurrentUserProfile (LessonTree.API)'
[2025-09-01 10:48:05 INF] Executing endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-09-01 10:48:05 INF] Route matched with {action = "GetCurrentUserProfile", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCurrentUserProfile() on controller LessonTree.API.Controllers.UserController (LessonTree.API).
[2025-09-01 10:48:05 INF] Route matched with {action = "GetCurrentUserConfiguration", controller = "User"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCurrentUserConfiguration() on controller LessonTree.API.Controllers.UserController (LessonTree.API).
[2025-09-01 10:48:05 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-09-01 10:48:05 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-09-01 10:48:05 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-09-01 10:48:05 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-09-01 10:48:05 DBG] Executing controller factory for controller LessonTree.API.Controllers.UserController (LessonTree.API)
[2025-09-01 10:48:05 DBG] Executing controller factory for controller LessonTree.API.Controllers.UserController (LessonTree.API)
[2025-09-01 10:48:05 DBG] Executed controller factory for controller LessonTree.API.Controllers.UserController (LessonTree.API)
[2025-09-01 10:48:05 DBG] Executed controller factory for controller LessonTree.API.Controllers.UserController (LessonTree.API)
[2025-09-01 10:48:05 INF] Incoming request: GET /api/user/configuration, Query: , Body: 
[2025-09-01 10:48:05 INF] Incoming request: GET /api/user/profile, Query: , Body: 
[2025-09-01 10:48:05 DBG] Fetching profile for current user ID: 1
[2025-09-01 10:48:05 DBG] Fetching configuration for current user ID: 1
[2025-09-01 10:48:05 DBG] Fetching user resource by ID: 1
[2025-09-01 10:48:05 DBG] Fetching user configuration for user ID: 1
[2025-09-01 10:48:05 INF] Route matched with {action = "GetCourses", controller = "Course"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourses(LessonTree.Models.Enums.ArchiveFilter, System.Nullable`1[System.Int32]) on controller LessonTree.API.Controllers.CourseController (LessonTree.API).
[2025-09-01 10:48:05 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-09-01 10:48:05 DBG] Retrieving user by ID: 1
[2025-09-01 10:48:05 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-09-01 10:48:05 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-09-01 10:48:05 DBG] Retrieving user by ID: 1
[2025-09-01 10:48:05 DBG] Executing controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-09-01 10:48:05 DBG] Executed controller factory for controller LessonTree.API.Controllers.CourseController (LessonTree.API)
[2025-09-01 10:48:05 DBG] Attempting to bind parameter 'filter' of type 'LessonTree.Models.Enums.ArchiveFilter' ...
[2025-09-01 10:48:05 DBG] Attempting to bind parameter 'filter' of type 'LessonTree.Models.Enums.ArchiveFilter' using the name '' in request data ...
[2025-09-01 10:48:05 DBG] Could not find a value in the request with name '' for binding parameter 'filter' of type 'LessonTree.Models.Enums.ArchiveFilter'.
[2025-09-01 10:48:05 DBG] Done attempting to bind parameter 'filter' of type 'LessonTree.Models.Enums.ArchiveFilter'.
[2025-09-01 10:48:05 DBG] Done attempting to bind parameter 'filter' of type 'LessonTree.Models.Enums.ArchiveFilter'.
[2025-09-01 10:48:05 DBG] Attempting to validate the bound parameter 'filter' of type 'LessonTree.Models.Enums.ArchiveFilter' ...
[2025-09-01 10:48:05 DBG] Done attempting to validate the bound parameter 'filter' of type 'LessonTree.Models.Enums.ArchiveFilter'.
[2025-09-01 10:48:05 DBG] Attempting to bind parameter 'visibility' of type 'System.Nullable`1[System.Int32]' ...
[2025-09-01 10:48:05 DBG] Attempting to bind parameter 'visibility' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
[2025-09-01 10:48:05 DBG] Could not find a value in the request with name '' for binding parameter 'visibility' of type 'System.Nullable`1[System.Int32]'.
[2025-09-01 10:48:05 DBG] Done attempting to bind parameter 'visibility' of type 'System.Nullable`1[System.Int32]'.
[2025-09-01 10:48:05 DBG] Done attempting to bind parameter 'visibility' of type 'System.Nullable`1[System.Int32]'.
[2025-09-01 10:48:05 DBG] Attempting to validate the bound parameter 'visibility' of type 'System.Nullable`1[System.Int32]' ...
[2025-09-01 10:48:05 DBG] Done attempting to validate the bound parameter 'visibility' of type 'System.Nullable`1[System.Int32]'.
[2025-09-01 10:48:05 INF] Incoming request: GET /api/Course, Query: , Body: 
[2025-09-01 10:48:05 DBG] Fetching courses for User ID: 1, Filter: "Active", Visibility: null
[2025-09-01 10:48:05 INF] GetAllAsync: Fetching courses for user 1, filter: Active, visibility: 
[2025-09-01 10:48:05 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled 
[2025-09-01 10:48:05 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled 
[2025-09-01 10:48:05 INF] GetAll: Retrieving all courses
[2025-09-01 10:48:05 DBG] Compiling query expression: 
'DbSet<User>()
    .Include(u => u.Configuration)
    .FirstOrDefault(u => u.Id == __id_0)'
[2025-09-01 10:48:05 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled 
[2025-09-01 10:48:05 DBG] Including navigation: 'User.Configuration'.
[2025-09-01 10:48:05 DBG] Compiling query expression: 
'DbSet<Course>()
    .Include(c => c.Topics)
    .ThenInclude(t => t.Lessons)
    .Include(c => c.Topics)
    .ThenInclude(t => t.SubTopics)
    .ThenInclude(st => st.Lessons)
    .Include(c => c.User)
    .Where(c => !(c.Archived))
    .Where(c => c.UserId == __userId_0 || (int)c.Visibility == 1)'
[2025-09-01 10:48:05 DBG] Including navigation: 'Course.Topics'.
[2025-09-01 10:48:05 DBG] Including navigation: 'Course.User'.
[2025-09-01 10:48:05 DBG] Including navigation: 'Topic.Lessons'.
[2025-09-01 10:48:05 DBG] Including navigation: 'Topic.SubTopics'.
[2025-09-01 10:48:05 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-09-01 10:48:05 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.DistrictId (int?) FK Index, 3], [Property: User.Email (string) MaxLength(256), 4], [Property: User.EmailConfirmed (bool) Required, 5], [Property: User.FirstName (string) Required, 6], [Property: User.LastName (string) Required, 7], [Property: User.LockoutEnabled (bool) Required, 8], [Property: User.LockoutEnd (DateTimeOffset?), 9], [Property: User.NormalizedEmail (string) Index MaxLength(256), 10], [Property: User.NormalizedUserName (string) Index MaxLength(256), 11], [Property: User.PasswordHash (string), 12], [Property: User.PhoneNumber (string), 13], [Property: User.PhoneNumberConfirmed (bool) Required, 14], [Property: User.SchoolId (int?) FK Index, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string) MaxLength(256), 18] }
            1 -> Dictionary<IProperty, int> { [Property: UserConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: UserConfiguration.LastUpdated (DateTime) Required, 20], [Property: UserConfiguration.SettingsJson (string), 21], [Property: UserConfiguration.UserId (int) Required FK Index, 22] }
        SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.DistrictId, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SchoolId, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, u.Id, u.LastUpdated, u.SettingsJson, u.UserId
        FROM AspNetUsers AS a
        LEFT JOIN UserConfigurations AS u ON a.Id == u.UserId
        WHERE a.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)
    .SingleOrDefault()'
[2025-09-01 10:48:05 DBG] Creating DbConnection.
[2025-09-01 10:48:05 DBG] Creating DbConnection.
[2025-09-01 10:48:05 DBG] Created DbConnection. (0ms).
[2025-09-01 10:48:05 DBG] Created DbConnection. (0ms).
[2025-09-01 10:48:05 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:05 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:05 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:05 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Executing DbCommand [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "u"."Id", "u"."LastUpdated", "u"."SettingsJson", "u"."UserId"
FROM "AspNetUsers" AS "a"
LEFT JOIN "UserConfigurations" AS "u" ON "a"."Id" = "u"."UserId"
WHERE "a"."Id" = @__id_0
LIMIT 1
[2025-09-01 10:48:05 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:05 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Executing DbCommand [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "u"."Id", "u"."LastUpdated", "u"."SettingsJson", "u"."UserId"
FROM "AspNetUsers" AS "a"
LEFT JOIN "UserConfigurations" AS "u" ON "a"."Id" = "u"."UserId"
WHERE "a"."Id" = @__id_0
LIMIT 1
[2025-09-01 10:48:05 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "u"."Id", "u"."LastUpdated", "u"."SettingsJson", "u"."UserId"
FROM "AspNetUsers" AS "a"
LEFT JOIN "UserConfigurations" AS "u" ON "a"."Id" = "u"."UserId"
WHERE "a"."Id" = @__id_0
LIMIT 1
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'User' entity with key '{Id: 1}'.
[2025-09-01 10:48:05 DBG] The navigation 'User.Configuration' for entity with key '{Id: 1}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'UserConfiguration' entity with key '{Id: 4}'.
[2025-09-01 10:48:05 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 3ms reading results.
[2025-09-01 10:48:05 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:05 DBG] Returning configuration for current user ID: 1
[2025-09-01 10:48:05 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-09-01 10:48:05 DBG] No information found on request to perform content negotiation.
[2025-09-01 10:48:05 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-09-01 10:48:05 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-09-01 10:48:05 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-09-01 10:48:05 INF] Executing OkObjectResult, writing value of type 'LessonTree.Models.DTO.UserConfigurationResource'.
[2025-09-01 10:48:05 INF] Executed action LessonTree.API.Controllers.UserController.GetCurrentUserConfiguration (LessonTree.API) in 42.5626ms
[2025-09-01 10:48:05 INF] Executed endpoint 'LessonTree.API.Controllers.UserController.GetCurrentUserConfiguration (LessonTree.API)'
[2025-09-01 10:48:05 INF] HTTP GET /api/user/configuration responded 200 in 46.4892 ms
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7SB" completed keep alive response.
[2025-09-01 10:48:05 DBG] 'LessonTreeContext' disposed.
[2025-09-01 10:48:05 DBG] Disposing connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:05 DBG] Disposed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:05 INF] Request finished HTTP/1.1 GET http://localhost:5046/api/user/configuration - 200 null application/json; charset=utf-8 67.7104ms
[2025-09-01 10:48:05 INF] Executed DbCommand (16ms) [Parameters=[@__id_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName", "u"."Id", "u"."LastUpdated", "u"."SettingsJson", "u"."UserId"
FROM "AspNetUsers" AS "a"
LEFT JOIN "UserConfigurations" AS "u" ON "a"."Id" = "u"."UserId"
WHERE "a"."Id" = @__id_0
LIMIT 1
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'User' entity with key '{Id: 1}'.
[2025-09-01 10:48:05 DBG] The navigation 'User.Configuration' for entity with key '{Id: 1}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'UserConfiguration' entity with key '{Id: 4}'.
[2025-09-01 10:48:05 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:05 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:05 DBG] Returning profile for user: admin
[2025-09-01 10:48:05 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-09-01 10:48:05 DBG] No information found on request to perform content negotiation.
[2025-09-01 10:48:05 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-09-01 10:48:05 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-09-01 10:48:05 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-09-01 10:48:05 INF] Executing OkObjectResult, writing value of type 'LessonTree.Models.DTO.UserResource'.
[2025-09-01 10:48:05 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-09-01 10:48:05 INF] Executed action LessonTree.API.Controllers.UserController.GetCurrentUserProfile (LessonTree.API) in 82.643ms
[2025-09-01 10:48:05 INF] Executed endpoint 'LessonTree.API.Controllers.UserController.GetCurrentUserProfile (LessonTree.API)'
[2025-09-01 10:48:05 INF] HTTP GET /api/user/profile responded 200 in 86.5156 ms
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7SA" completed keep alive response.
[2025-09-01 10:48:05 DBG] 'LessonTreeContext' disposed.
[2025-09-01 10:48:05 DBG] Disposing connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:05 DBG] Disposed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:05 INF] Request finished HTTP/1.1 GET http://localhost:5046/api/user/profile - 200 null application/json; charset=utf-8 108.8632ms
[2025-09-01 10:48:05 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Course>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Course.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Course.Archived (bool) Required, 1], [Property: Course.Description (string), 2], [Property: Course.Title (string) Required, 3], [Property: Course.UserId (int) Required FK Index, 4], [Property: Course.Visibility (VisibilityType) Required, 5] }
            1 -> 0
            2 -> 6
            3 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: Topic.Archived (bool) Required, 8], [Property: Topic.CourseId (int) Required FK Index, 9], [Property: Topic.Description (string), 10], [Property: Topic.SortOrder (int) Required Index, 11], [Property: Topic.Title (string) Required, 12], [Property: Topic.UserId (int) Required FK Index, 13], [Property: Topic.Visibility (VisibilityType) Required, 14] }
            4 -> 7
            5 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: Lesson.Archived (bool) Required, 16], [Property: Lesson.Assessment (string) MaxLength(250), 17], [Property: Lesson.ClassTime (string) MaxLength(100), 18], [Property: Lesson.Level (string) MaxLength(100), 19], [Property: Lesson.Materials (string) MaxLength(200), 20], [Property: Lesson.Methods (string) MaxLength(500), 21], [Property: Lesson.Objective (string) Required MaxLength(500), 22], [Property: Lesson.SortOrder (int) Required Index, 23], [Property: Lesson.SpecialNeeds (string) MaxLength(500), 24], [Property: Lesson.SubTopicId (int?) FK Index, 25], [Property: Lesson.Title (string) Required MaxLength(200), 26], [Property: Lesson.TopicId (int?) FK Index, 27], [Property: Lesson.UserId (int) Required FK Index, 28], [Property: Lesson.Visibility (VisibilityType) Required, 29] }
            6 -> 15
            7 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: SubTopic.Archived (bool) Required, 31], [Property: SubTopic.Description (string), 32], [Property: SubTopic.IsDefault (bool) Required, 33], [Property: SubTopic.SortOrder (int) Required Index, 34], [Property: SubTopic.Title (string) Required, 35], [Property: SubTopic.TopicId (int) Required FK Index, 36], [Property: SubTopic.UserId (int) Required FK Index, 37], [Property: SubTopic.Visibility (VisibilityType) Required, 38] }
            8 -> 30
            9 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 39], [Property: Lesson.Archived (bool) Required, 40], [Property: Lesson.Assessment (string) MaxLength(250), 41], [Property: Lesson.ClassTime (string) MaxLength(100), 42], [Property: Lesson.Level (string) MaxLength(100), 43], [Property: Lesson.Materials (string) MaxLength(200), 44], [Property: Lesson.Methods (string) MaxLength(500), 45], [Property: Lesson.Objective (string) Required MaxLength(500), 46], [Property: Lesson.SortOrder (int) Required Index, 47], [Property: Lesson.SpecialNeeds (string) MaxLength(500), 48], [Property: Lesson.SubTopicId (int?) FK Index, 49], [Property: Lesson.Title (string) Required MaxLength(200), 50], [Property: Lesson.TopicId (int?) FK Index, 51], [Property: Lesson.UserId (int) Required FK Index, 52], [Property: Lesson.Visibility (VisibilityType) Required, 53] }
            10 -> 39
            11 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 6], [Property: User.AccessFailedCount (int) Required, 54], [Property: User.ConcurrencyStamp (string) Concurrency, 55], [Property: User.DistrictId (int?) FK Index, 56], [Property: User.Email (string) MaxLength(256), 57], [Property: User.EmailConfirmed (bool) Required, 58], [Property: User.FirstName (string) Required, 59], [Property: User.LastName (string) Required, 60], [Property: User.LockoutEnabled (bool) Required, 61], [Property: User.LockoutEnd (DateTimeOffset?), 62], [Property: User.NormalizedEmail (string) Index MaxLength(256), 63], [Property: User.NormalizedUserName (string) Index MaxLength(256), 64], [Property: User.PasswordHash (string), 65], [Property: User.PhoneNumber (string), 66], [Property: User.PhoneNumberConfirmed (bool) Required, 67], [Property: User.SchoolId (int?) FK Index, 68], [Property: User.SecurityStamp (string), 69], [Property: User.TwoFactorEnabled (bool) Required, 70], [Property: User.UserName (string) MaxLength(256), 71] }
        SELECT c.Id, c.Archived, c.Description, c.Title, c.UserId, c.Visibility, a.Id, t1.Id, t1.Archived, t1.CourseId, t1.Description, t1.SortOrder, t1.Title, t1.UserId, t1.Visibility, t1.Id0, t1.Archived0, t1.Assessment, t1.ClassTime, t1.Level, t1.Materials, t1.Methods, t1.Objective, t1.SortOrder0, t1.SpecialNeeds, t1.SubTopicId, t1.Title0, t1.TopicId, t1.UserId0, t1.Visibility0, t1.Id1, t1.Archived1, t1.Description0, t1.IsDefault, t1.SortOrder1, t1.Title1, t1.TopicId0, t1.UserId1, t1.Visibility1, t1.Id00, t1.Archived00, t1.Assessment0, t1.ClassTime0, t1.Level0, t1.Materials0, t1.Methods0, t1.Objective0, t1.SortOrder00, t1.SpecialNeeds0, t1.SubTopicId0, t1.Title00, t1.TopicId00, t1.UserId00, t1.Visibility00, a.AccessFailedCount, a.ConcurrencyStamp, a.DistrictId, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SchoolId, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
        FROM Courses AS c
        INNER JOIN AspNetUsers AS a ON c.UserId == a.Id
        LEFT JOIN 
        (
            SELECT t.Id, t.Archived, t.CourseId, t.Description, t.SortOrder, t.Title, t.UserId, t.Visibility, l.Id AS Id0, l.Archived AS Archived0, l.Assessment, l.ClassTime, l.Level, l.Materials, l.Methods, l.Objective, l.SortOrder AS SortOrder0, l.SpecialNeeds, l.SubTopicId, l.Title AS Title0, l.TopicId, l.UserId AS UserId0, l.Visibility AS Visibility0, t0.Id AS Id1, t0.Archived AS Archived1, t0.Description AS Description0, t0.IsDefault, t0.SortOrder AS SortOrder1, t0.Title AS Title1, t0.TopicId AS TopicId0, t0.UserId AS UserId1, t0.Visibility AS Visibility1, t0.Id0 AS Id00, t0.Archived0 AS Archived00, t0.Assessment AS Assessment0, t0.ClassTime AS ClassTime0, t0.Level AS Level0, t0.Materials AS Materials0, t0.Methods AS Methods0, t0.Objective AS Objective0, t0.SortOrder0 AS SortOrder00, t0.SpecialNeeds AS SpecialNeeds0, t0.SubTopicId AS SubTopicId0, t0.Title0 AS Title00, t0.TopicId0 AS TopicId00, t0.UserId0 AS UserId00, t0.Visibility0 AS Visibility00
            FROM Topics AS t
            LEFT JOIN Lessons AS l ON t.Id == l.TopicId
            LEFT JOIN 
            (
                SELECT s.Id, s.Archived, s.Description, s.IsDefault, s.SortOrder, s.Title, s.TopicId, s.UserId, s.Visibility, l0.Id AS Id0, l0.Archived AS Archived0, l0.Assessment, l0.ClassTime, l0.Level, l0.Materials, l0.Methods, l0.Objective, l0.SortOrder AS SortOrder0, l0.SpecialNeeds, l0.SubTopicId, l0.Title AS Title0, l0.TopicId AS TopicId0, l0.UserId AS UserId0, l0.Visibility AS Visibility0
                FROM SubTopics AS s
                LEFT JOIN Lessons AS l0 ON s.Id == l0.SubTopicId
            ) AS t0 ON t.Id == t0.TopicId
        ) AS t1 ON c.Id == t1.CourseId
        WHERE Not(c.Archived) && ((c.UserId == @__userId_0) || (c.Visibility == 1))
        ORDER BY c.Id ASC, a.Id ASC, t1.Id ASC, t1.Id0 ASC, t1.Id1 ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Course>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:48:05 DBG] Creating DbConnection.
[2025-09-01 10:48:05 DBG] Created DbConnection. (0ms).
[2025-09-01 10:48:05 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:05 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:05 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:05 DBG] Executing DbCommand [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Archived", "c"."Description", "c"."Title", "c"."UserId", "c"."Visibility", "a"."Id", "t1"."Id", "t1"."Archived", "t1"."CourseId", "t1"."Description", "t1"."SortOrder", "t1"."Title", "t1"."UserId", "t1"."Visibility", "t1"."Id0", "t1"."Archived0", "t1"."Assessment", "t1"."ClassTime", "t1"."Level", "t1"."Materials", "t1"."Methods", "t1"."Objective", "t1"."SortOrder0", "t1"."SpecialNeeds", "t1"."SubTopicId", "t1"."Title0", "t1"."TopicId", "t1"."UserId0", "t1"."Visibility0", "t1"."Id1", "t1"."Archived1", "t1"."Description0", "t1"."IsDefault", "t1"."SortOrder1", "t1"."Title1", "t1"."TopicId0", "t1"."UserId1", "t1"."Visibility1", "t1"."Id00", "t1"."Archived00", "t1"."Assessment0", "t1"."ClassTime0", "t1"."Level0", "t1"."Materials0", "t1"."Methods0", "t1"."Objective0", "t1"."SortOrder00", "t1"."SpecialNeeds0", "t1"."SubTopicId0", "t1"."Title00", "t1"."TopicId00", "t1"."UserId00", "t1"."Visibility00", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "Courses" AS "c"
INNER JOIN "AspNetUsers" AS "a" ON "c"."UserId" = "a"."Id"
LEFT JOIN (
    SELECT "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "l"."Id" AS "Id0", "l"."Archived" AS "Archived0", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder" AS "SortOrder0", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title" AS "Title0", "l"."TopicId", "l"."UserId" AS "UserId0", "l"."Visibility" AS "Visibility0", "t0"."Id" AS "Id1", "t0"."Archived" AS "Archived1", "t0"."Description" AS "Description0", "t0"."IsDefault", "t0"."SortOrder" AS "SortOrder1", "t0"."Title" AS "Title1", "t0"."TopicId" AS "TopicId0", "t0"."UserId" AS "UserId1", "t0"."Visibility" AS "Visibility1", "t0"."Id0" AS "Id00", "t0"."Archived0" AS "Archived00", "t0"."Assessment" AS "Assessment0", "t0"."ClassTime" AS "ClassTime0", "t0"."Level" AS "Level0", "t0"."Materials" AS "Materials0", "t0"."Methods" AS "Methods0", "t0"."Objective" AS "Objective0", "t0"."SortOrder0" AS "SortOrder00", "t0"."SpecialNeeds" AS "SpecialNeeds0", "t0"."SubTopicId" AS "SubTopicId0", "t0"."Title0" AS "Title00", "t0"."TopicId0" AS "TopicId00", "t0"."UserId0" AS "UserId00", "t0"."Visibility0" AS "Visibility00"
    FROM "Topics" AS "t"
    LEFT JOIN "Lessons" AS "l" ON "t"."Id" = "l"."TopicId"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "l0"."Id" AS "Id0", "l0"."Archived" AS "Archived0", "l0"."Assessment", "l0"."ClassTime", "l0"."Level", "l0"."Materials", "l0"."Methods", "l0"."Objective", "l0"."SortOrder" AS "SortOrder0", "l0"."SpecialNeeds", "l0"."SubTopicId", "l0"."Title" AS "Title0", "l0"."TopicId" AS "TopicId0", "l0"."UserId" AS "UserId0", "l0"."Visibility" AS "Visibility0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l0" ON "s"."Id" = "l0"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
WHERE NOT ("c"."Archived") AND ("c"."UserId" = @__userId_0 OR "c"."Visibility" = 1)
ORDER BY "c"."Id", "a"."Id", "t1"."Id", "t1"."Id0", "t1"."Id1"
[2025-09-01 10:48:05 INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Archived", "c"."Description", "c"."Title", "c"."UserId", "c"."Visibility", "a"."Id", "t1"."Id", "t1"."Archived", "t1"."CourseId", "t1"."Description", "t1"."SortOrder", "t1"."Title", "t1"."UserId", "t1"."Visibility", "t1"."Id0", "t1"."Archived0", "t1"."Assessment", "t1"."ClassTime", "t1"."Level", "t1"."Materials", "t1"."Methods", "t1"."Objective", "t1"."SortOrder0", "t1"."SpecialNeeds", "t1"."SubTopicId", "t1"."Title0", "t1"."TopicId", "t1"."UserId0", "t1"."Visibility0", "t1"."Id1", "t1"."Archived1", "t1"."Description0", "t1"."IsDefault", "t1"."SortOrder1", "t1"."Title1", "t1"."TopicId0", "t1"."UserId1", "t1"."Visibility1", "t1"."Id00", "t1"."Archived00", "t1"."Assessment0", "t1"."ClassTime0", "t1"."Level0", "t1"."Materials0", "t1"."Methods0", "t1"."Objective0", "t1"."SortOrder00", "t1"."SpecialNeeds0", "t1"."SubTopicId0", "t1"."Title00", "t1"."TopicId00", "t1"."UserId00", "t1"."Visibility00", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
FROM "Courses" AS "c"
INNER JOIN "AspNetUsers" AS "a" ON "c"."UserId" = "a"."Id"
LEFT JOIN (
    SELECT "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "l"."Id" AS "Id0", "l"."Archived" AS "Archived0", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder" AS "SortOrder0", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title" AS "Title0", "l"."TopicId", "l"."UserId" AS "UserId0", "l"."Visibility" AS "Visibility0", "t0"."Id" AS "Id1", "t0"."Archived" AS "Archived1", "t0"."Description" AS "Description0", "t0"."IsDefault", "t0"."SortOrder" AS "SortOrder1", "t0"."Title" AS "Title1", "t0"."TopicId" AS "TopicId0", "t0"."UserId" AS "UserId1", "t0"."Visibility" AS "Visibility1", "t0"."Id0" AS "Id00", "t0"."Archived0" AS "Archived00", "t0"."Assessment" AS "Assessment0", "t0"."ClassTime" AS "ClassTime0", "t0"."Level" AS "Level0", "t0"."Materials" AS "Materials0", "t0"."Methods" AS "Methods0", "t0"."Objective" AS "Objective0", "t0"."SortOrder0" AS "SortOrder00", "t0"."SpecialNeeds" AS "SpecialNeeds0", "t0"."SubTopicId" AS "SubTopicId0", "t0"."Title0" AS "Title00", "t0"."TopicId0" AS "TopicId00", "t0"."UserId0" AS "UserId00", "t0"."Visibility0" AS "Visibility00"
    FROM "Topics" AS "t"
    LEFT JOIN "Lessons" AS "l" ON "t"."Id" = "l"."TopicId"
    LEFT JOIN (
        SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "l0"."Id" AS "Id0", "l0"."Archived" AS "Archived0", "l0"."Assessment", "l0"."ClassTime", "l0"."Level", "l0"."Materials", "l0"."Methods", "l0"."Objective", "l0"."SortOrder" AS "SortOrder0", "l0"."SpecialNeeds", "l0"."SubTopicId", "l0"."Title" AS "Title0", "l0"."TopicId" AS "TopicId0", "l0"."UserId" AS "UserId0", "l0"."Visibility" AS "Visibility0"
        FROM "SubTopics" AS "s"
        LEFT JOIN "Lessons" AS "l0" ON "s"."Id" = "l0"."SubTopicId"
    ) AS "t0" ON "t"."Id" = "t0"."TopicId"
) AS "t1" ON "c"."Id" = "t1"."CourseId"
WHERE NOT ("c"."Archived") AND ("c"."UserId" = @__userId_0 OR "c"."Visibility" = 1)
ORDER BY "c"."Id", "a"."Id", "t1"."Id", "t1"."Id0", "t1"."Id1"
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Course' entity with key '{Id: 7}'.
[2025-09-01 10:48:05 DBG] The navigation 'Course.User' for entity with key '{Id: 7}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'User' entity with key '{Id: 1}'.
[2025-09-01 10:48:05 DBG] The navigation 'Topic.User' for entity with key '{Id: 13}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: 13}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 61}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 61}'.
[2025-09-01 10:48:05 DBG] The navigation 'SubTopic.User' for entity with key '{Id: 13}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: 13}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 73}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 73}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 74}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 74}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 62}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 62}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 63}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 63}'.
[2025-09-01 10:48:05 DBG] The navigation 'Topic.User' for entity with key '{Id: 14}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: 14}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 64}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 64}'.
[2025-09-01 10:48:05 DBG] The navigation 'SubTopic.User' for entity with key '{Id: 14}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: 14}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 75}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 75}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 76}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 76}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 65}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 65}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 66}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 66}'.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Course' entity with key '{Id: 8}'.
[2025-09-01 10:48:05 DBG] The navigation 'Topic.User' for entity with key '{Id: 15}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: 15}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 67}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 67}'.
[2025-09-01 10:48:05 DBG] The navigation 'SubTopic.User' for entity with key '{Id: 15}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: 15}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 77}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 77}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 78}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 78}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 68}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 68}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 69}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 69}'.
[2025-09-01 10:48:05 DBG] The navigation 'Topic.User' for entity with key '{Id: 16}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: 16}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 70}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 70}'.
[2025-09-01 10:48:05 DBG] The navigation 'SubTopic.User' for entity with key '{Id: 16}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: 16}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 79}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 79}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 80}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 80}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 71}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 71}'.
[2025-09-01 10:48:05 DBG] The navigation 'Lesson.User' for entity with key '{Id: 72}' was detected as changed.
[2025-09-01 10:48:05 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 72}'.
[2025-09-01 10:48:05 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 9ms reading results.
[2025-09-01 10:48:05 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:05 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:05 INF] GetAllAsync: Found 2 courses for user 1
[2025-09-01 10:48:05 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-09-01 10:48:05 DBG] No information found on request to perform content negotiation.
[2025-09-01 10:48:05 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-09-01 10:48:05 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-09-01 10:48:05 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-09-01 10:48:05 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.CourseResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-09-01 10:48:05 INF] Executed action LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API) in 131.7356ms
[2025-09-01 10:48:05 INF] Executed endpoint 'LessonTree.API.Controllers.CourseController.GetCourses (LessonTree.API)'
[2025-09-01 10:48:05 INF] HTTP GET /api/Course responded 200 in 144.4334 ms
[2025-09-01 10:48:05 DBG] Connection id "0HNF9DRODF7S9" completed keep alive response.
[2025-09-01 10:48:05 DBG] 'LessonTreeContext' disposed.
[2025-09-01 10:48:05 DBG] Disposing connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:05 DBG] Disposed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:05 INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Course - 200 null application/json; charset=utf-8 208.4175ms
[2025-09-01 10:48:09 INF] Request starting HTTP/1.1 OPTIONS http://localhost:5046/api/Schedule - null null
[2025-09-01 10:48:09 DBG] 1 candidate(s) found for the request path '/api/Schedule'
[2025-09-01 10:48:09 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-09-01 10:48:09 INF] Middleware: Handling OPTIONS request to /api/Schedule
[2025-09-01 10:48:09 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:09 INF] CORS policy execution successful.
[2025-09-01 10:48:09 DBG] The request is a preflight request.
[2025-09-01 10:48:09 DBG] Connection id "0HNF9DRODF7S9" completed keep alive response.
[2025-09-01 10:48:09 INF] Request finished HTTP/1.1 OPTIONS http://localhost:5046/api/Schedule - 204 null null 1.4542ms
[2025-09-01 10:48:09 INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Schedule - null null
[2025-09-01 10:48:09 DBG] 1 candidate(s) found for the request path '/api/Schedule'
[2025-09-01 10:48:09 DBG] Endpoint 'LessonTree.API.Controllers.ScheduleController.GetUserSchedule (LessonTree.API)' with route pattern 'api/Schedule' is valid for the request path '/api/Schedule'
[2025-09-01 10:48:09 DBG] Request matched endpoint 'LessonTree.API.Controllers.ScheduleController.GetUserSchedule (LessonTree.API)'
[2025-09-01 10:48:09 INF] Middleware: Handling GET request to /api/Schedule
[2025-09-01 10:48:09 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:09 INF] CORS policy execution successful.
[2025-09-01 10:48:09 DBG] The request is insecure. Skipping HSTS header.
[2025-09-01 10:48:09 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-09-01 10:48:09 DBG] Successfully validated the token.
[2025-09-01 10:48:09 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-09-01 10:48:09 DBG] Authorization was successful.
[2025-09-01 10:48:09 DBG] Static files was skipped as the request already matched an endpoint.
[2025-09-01 10:48:09 INF] Executing endpoint 'LessonTree.API.Controllers.ScheduleController.GetUserSchedule (LessonTree.API)'
[2025-09-01 10:48:09 INF] Route matched with {action = "GetUserSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[LessonTree.Models.DTO.ScheduleResource]] GetUserSchedule() on controller LessonTree.API.Controllers.ScheduleController (LessonTree.API).
[2025-09-01 10:48:09 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-09-01 10:48:09 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-09-01 10:48:09 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-09-01 10:48:09 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-09-01 10:48:09 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-09-01 10:48:09 DBG] Executing controller factory for controller LessonTree.API.Controllers.ScheduleController (LessonTree.API)
[2025-09-01 10:48:09 DBG] Executed controller factory for controller LessonTree.API.Controllers.ScheduleController (LessonTree.API)
[2025-09-01 10:48:09 INF] Incoming request: GET /api/Schedule, Query: , Body: 
[2025-09-01 10:48:09 INF] GetUserScheduleAsync: Fetching schedule for user 1
[2025-09-01 10:48:09 INF] GetByUserIdAsync: Fetching schedule for user 1
[2025-09-01 10:48:09 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled 
[2025-09-01 10:48:09 DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Include(s => s.ScheduleConfiguration)
    .ThenInclude(sc => sc.PeriodAssignments)
    .Include(s => s.ScheduleEvents
        .OrderBy(e => e.Date)
        .ThenBy(e => e.Period))
    .ThenInclude(e => e.Lesson)
    .Include(s => s.SpecialDays
        .OrderBy(sd => sd.Date))
    .FirstOrDefault(s => s.UserId == __userId_0)'
[2025-09-01 10:48:09 DBG] Including navigation: 'Schedule.ScheduleConfiguration'.
[2025-09-01 10:48:09 DBG] Including navigation: 'ScheduleConfiguration.PeriodAssignments'.
[2025-09-01 10:48:09 DBG] Including navigation: 'Schedule.ScheduleEvents'.
[2025-09-01 10:48:09 DBG] Including navigation: 'Schedule.SpecialDays'.
[2025-09-01 10:48:09 DBG] Including navigation: 'ScheduleEvent.Lesson'.
[2025-09-01 10:48:09 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-09-01 10:48:09 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Schedule>(
    asyncEnumerable: new SingleQueryingEnumerable<Schedule>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Schedule.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.CourseId (no field, int?) Shadow FK Index, 1], [Property: Schedule.CreatedDate (DateTime) Required, 2], [Property: Schedule.IsLocked (bool) Required, 3], [Property: Schedule.ScheduleConfigurationId (int) Required FK Index, 4], [Property: Schedule.Title (string) Required MaxLength(100), 5], [Property: Schedule.UserId (int) Required FK Index, 6] }
                1 -> Dictionary<IProperty, int> { [Property: ScheduleConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: ScheduleConfiguration.CreatedDate (DateTime) Required, 8], [Property: ScheduleConfiguration.EndDate (DateTime) Required, 9], [Property: ScheduleConfiguration.IsActive (bool) Required Index, 10], [Property: ScheduleConfiguration.IsTemplate (bool) Required, 11], [Property: ScheduleConfiguration.LastUpdated (DateTime) Required, 12], [Property: ScheduleConfiguration.PeriodsPerDay (int) Required, 13], [Property: ScheduleConfiguration.SchoolYear (string) Required Index MaxLength(20), 14], [Property: ScheduleConfiguration.StartDate (DateTime) Required, 15], [Property: ScheduleConfiguration.TeachingDays (string) Required MaxLength(200), 16], [Property: ScheduleConfiguration.Title (string) Required MaxLength(100), 17], [Property: ScheduleConfiguration.UserId (int) Required FK Index, 18] }
                2 -> 0
                3 -> 7
                4 -> Dictionary<IProperty, int> { [Property: PeriodAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: PeriodAssignment.BackgroundColor (string) Required MaxLength(7), 20], [Property: PeriodAssignment.CourseId (int?), 21], [Property: PeriodAssignment.FontColor (string) Required MaxLength(7), 22], [Property: PeriodAssignment.Notes (string) MaxLength(500), 23], [Property: PeriodAssignment.Period (int) Required Index, 24], [Property: PeriodAssignment.Room (string) MaxLength(50), 25], [Property: PeriodAssignment.ScheduleConfigurationId (int) Required FK Index, 26], [Property: PeriodAssignment.SpecialPeriodType (string) MaxLength(50), 27], [Property: PeriodAssignment.TeachingDays (string) Required MaxLength(200), 28] }
                5 -> 19
                6 -> Dictionary<IProperty, int> { [Property: ScheduleEvent.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 29], [Property: ScheduleEvent.Comment (string) MaxLength(1000), 30], [Property: ScheduleEvent.CourseId (int?), 31], [Property: ScheduleEvent.Date (DateTime) Required Index, 32], [Property: ScheduleEvent.EventCategory (string) MaxLength(50), 33], [Property: ScheduleEvent.EventType (string) Required MaxLength(50), 34], [Property: ScheduleEvent.LessonId (int?) FK Index, 35], [Property: ScheduleEvent.Period (int) Required Index, 36], [Property: ScheduleEvent.ScheduleId (int) Required FK Index, 37], [Property: ScheduleEvent.ScheduleSort (int) Required, 38] }
                7 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 39], [Property: Lesson.Archived (bool) Required, 40], [Property: Lesson.Assessment (string) MaxLength(250), 41], [Property: Lesson.ClassTime (string) MaxLength(100), 42], [Property: Lesson.Level (string) MaxLength(100), 43], [Property: Lesson.Materials (string) MaxLength(200), 44], [Property: Lesson.Methods (string) MaxLength(500), 45], [Property: Lesson.Objective (string) Required MaxLength(500), 46], [Property: Lesson.SortOrder (int) Required Index, 47], [Property: Lesson.SpecialNeeds (string) MaxLength(500), 48], [Property: Lesson.SubTopicId (int?) FK Index, 49], [Property: Lesson.Title (string) Required MaxLength(200), 50], [Property: Lesson.TopicId (int?) FK Index, 51], [Property: Lesson.UserId (int) Required FK Index, 52], [Property: Lesson.Visibility (VisibilityType) Required, 53] }
                8 -> 29
                9 -> 39
                10 -> Dictionary<IProperty, int> { [Property: SpecialDay.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: SpecialDay.Date (DateTime) Required Index, 55], [Property: SpecialDay.EventType (string) Required MaxLength(100), 56], [Property: SpecialDay.Periods (string) Required MaxLength(50), 57], [Property: SpecialDay.ScheduleId (int) Required FK Index, 58], [Property: SpecialDay.Title (string) Required MaxLength(200), 59] }
                11 -> 54
            SELECT t.Id, t.CourseId, t.CreatedDate, t.IsLocked, t.ScheduleConfigurationId, t.Title, t.UserId, t.Id0, t.CreatedDate0, t.EndDate, t.IsActive, t.IsTemplate, t.LastUpdated, t.PeriodsPerDay, t.SchoolYear, t.StartDate, t.TeachingDays, t.Title0, t.UserId0, p.Id, p.BackgroundColor, p.CourseId, p.FontColor, p.Notes, p.Period, p.Room, p.ScheduleConfigurationId, p.SpecialPeriodType, p.TeachingDays, t0.Id, t0.Comment, t0.CourseId, t0.Date, t0.EventCategory, t0.EventType, t0.LessonId, t0.Period, t0.ScheduleId, t0.ScheduleSort, t0.Id0, t0.Archived, t0.Assessment, t0.ClassTime, t0.Level, t0.Materials, t0.Methods, t0.Objective, t0.SortOrder, t0.SpecialNeeds, t0.SubTopicId, t0.Title, t0.TopicId, t0.UserId, t0.Visibility, s2.Id, s2.Date, s2.EventType, s2.Periods, s2.ScheduleId, s2.Title
            FROM 
            (
                SELECT TOP(1) s.Id, s.CourseId, s.CreatedDate, s.IsLocked, s.ScheduleConfigurationId, s.Title, s.UserId, s0.Id AS Id0, s0.CreatedDate AS CreatedDate0, s0.EndDate, s0.IsActive, s0.IsTemplate, s0.LastUpdated, s0.PeriodsPerDay, s0.SchoolYear, s0.StartDate, s0.TeachingDays, s0.Title AS Title0, s0.UserId AS UserId0
                FROM Schedules AS s
                INNER JOIN ScheduleConfigurations AS s0 ON s.ScheduleConfigurationId == s0.Id
                WHERE s.UserId == @__userId_0
            ) AS t
            LEFT JOIN PeriodAssignments AS p ON t.Id0 == p.ScheduleConfigurationId
            LEFT JOIN 
            (
                SELECT s1.Id, s1.Comment, s1.CourseId, s1.Date, s1.EventCategory, s1.EventType, s1.LessonId, s1.Period, s1.ScheduleId, s1.ScheduleSort, l.Id AS Id0, l.Archived, l.Assessment, l.ClassTime, l.Level, l.Materials, l.Methods, l.Objective, l.SortOrder, l.SpecialNeeds, l.SubTopicId, l.Title, l.TopicId, l.UserId, l.Visibility
                FROM ScheduleEvents AS s1
                LEFT JOIN Lessons AS l ON s1.LessonId == l.Id
            ) AS t0 ON t.Id == t0.ScheduleId
            LEFT JOIN SpecialDays AS s2 ON t.Id == s2.ScheduleId
            ORDER BY t.Id ASC, t.Id0 ASC, p.Id ASC, t0.Date ASC, t0.Period ASC, t0.Id ASC, t0.Id0 ASC, s2.Date ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:48:09 DBG] Creating DbConnection.
[2025-09-01 10:48:09 DBG] Created DbConnection. (0ms).
[2025-09-01 10:48:09 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:09 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:09 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:09 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:09 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:09 DBG] Executing DbCommand [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    WHERE "s"."UserId" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:09 INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='1'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    WHERE "s"."UserId" = @__userId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Schedule' entity with key '{Id: 4}'.
[2025-09-01 10:48:09 DBG] The navigation 'Schedule.ScheduleConfiguration' for entity with key '{Id: 4}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleConfiguration' entity with key '{Id: 4}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 7}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 67}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 67}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 61}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 68}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 68}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 67}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 69}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 69}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 62}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 70}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 70}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 68}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 71}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 71}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 63}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 72}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 72}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 69}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 73}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 73}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 73}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 74}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 74}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 77}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 75}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 75}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 74}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 76}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 76}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 78}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 77}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 77}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 64}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 78}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 78}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 70}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 79}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 79}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 65}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 80}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 80}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 71}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 81}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 81}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 66}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 82}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 82}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 72}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 83}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 83}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 75}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 84}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 84}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 79}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 85}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 85}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 76}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 86}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 86}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 80}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 87}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 88}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 8}'.
[2025-09-01 10:48:09 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:09 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 13ms reading results.
[2025-09-01 10:48:09 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:09 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:09 INF] GetByUserIdAsync: Found schedule 4 with 22 events and 0 special days for user 1
[2025-09-01 10:48:09 INF] GetUserScheduleAsync: Found schedule 4 for user 1
[2025-09-01 10:48:09 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-09-01 10:48:09 DBG] No information found on request to perform content negotiation.
[2025-09-01 10:48:09 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-09-01 10:48:09 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-09-01 10:48:09 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-09-01 10:48:09 INF] Executing OkObjectResult, writing value of type 'LessonTree.Models.DTO.ScheduleResource'.
[2025-09-01 10:48:09 INF] Executed action LessonTree.API.Controllers.ScheduleController.GetUserSchedule (LessonTree.API) in 149.9668ms
[2025-09-01 10:48:09 INF] Executed endpoint 'LessonTree.API.Controllers.ScheduleController.GetUserSchedule (LessonTree.API)'
[2025-09-01 10:48:09 INF] HTTP GET /api/Schedule responded 200 in 153.9884 ms
[2025-09-01 10:48:09 DBG] Connection id "0HNF9DRODF7S9" completed keep alive response.
[2025-09-01 10:48:09 DBG] 'LessonTreeContext' disposed.
[2025-09-01 10:48:09 DBG] Disposing connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:09 DBG] Disposed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:09 INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Schedule - 200 null application/json; charset=utf-8 159.3467ms
[2025-09-01 10:48:09 INF] Request starting HTTP/1.1 OPTIONS http://localhost:5046/api/Schedule/4/events/dateRange?startDate=2025-09-08&endDate=2025-09-13 - null null
[2025-09-01 10:48:09 DBG] 1 candidate(s) found for the request path '/api/Schedule/4/events/dateRange'
[2025-09-01 10:48:09 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-09-01 10:48:09 INF] Middleware: Handling OPTIONS request to /api/Schedule/4/events/dateRange
[2025-09-01 10:48:09 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:09 INF] CORS policy execution successful.
[2025-09-01 10:48:09 DBG] The request is a preflight request.
[2025-09-01 10:48:09 DBG] Connection id "0HNF9DRODF7S9" completed keep alive response.
[2025-09-01 10:48:09 INF] Request finished HTTP/1.1 OPTIONS http://localhost:5046/api/Schedule/4/events/dateRange?startDate=2025-09-08&endDate=2025-09-13 - 204 null null 1.337ms
[2025-09-01 10:48:09 INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Schedule/4/events/dateRange?startDate=2025-09-08&endDate=2025-09-13 - null null
[2025-09-01 10:48:09 DBG] 1 candidate(s) found for the request path '/api/Schedule/4/events/dateRange'
[2025-09-01 10:48:09 DBG] Endpoint 'LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API)' with route pattern 'api/Schedule/{scheduleId}/events/dateRange' is valid for the request path '/api/Schedule/4/events/dateRange'
[2025-09-01 10:48:09 DBG] Request matched endpoint 'LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API)'
[2025-09-01 10:48:09 INF] Middleware: Handling GET request to /api/Schedule/4/events/dateRange
[2025-09-01 10:48:09 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:09 INF] CORS policy execution successful.
[2025-09-01 10:48:09 DBG] The request is insecure. Skipping HSTS header.
[2025-09-01 10:48:09 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-09-01 10:48:09 DBG] Successfully validated the token.
[2025-09-01 10:48:09 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-09-01 10:48:09 DBG] Authorization was successful.
[2025-09-01 10:48:09 DBG] Static files was skipped as the request already matched an endpoint.
[2025-09-01 10:48:09 INF] Executing endpoint 'LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API)'
[2025-09-01 10:48:09 INF] Route matched with {action = "GetEventsByDateRange", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[LessonTree.Models.DTO.ScheduleEventResource]]] GetEventsByDateRange(Int32, System.DateTime, System.DateTime) on controller LessonTree.API.Controllers.ScheduleController (LessonTree.API).
[2025-09-01 10:48:09 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-09-01 10:48:09 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-09-01 10:48:09 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-09-01 10:48:09 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-09-01 10:48:09 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-09-01 10:48:09 DBG] Executing controller factory for controller LessonTree.API.Controllers.ScheduleController (LessonTree.API)
[2025-09-01 10:48:09 DBG] Executed controller factory for controller LessonTree.API.Controllers.ScheduleController (LessonTree.API)
[2025-09-01 10:48:09 DBG] Attempting to bind parameter 'scheduleId' of type 'System.Int32' ...
[2025-09-01 10:48:09 DBG] Attempting to bind parameter 'scheduleId' of type 'System.Int32' using the name 'scheduleId' in request data ...
[2025-09-01 10:48:09 DBG] Done attempting to bind parameter 'scheduleId' of type 'System.Int32'.
[2025-09-01 10:48:09 DBG] Done attempting to bind parameter 'scheduleId' of type 'System.Int32'.
[2025-09-01 10:48:09 DBG] Attempting to validate the bound parameter 'scheduleId' of type 'System.Int32' ...
[2025-09-01 10:48:09 DBG] Done attempting to validate the bound parameter 'scheduleId' of type 'System.Int32'.
[2025-09-01 10:48:09 DBG] Attempting to bind parameter 'startDate' of type 'System.DateTime' ...
[2025-09-01 10:48:09 DBG] Attempting to bind parameter 'startDate' of type 'System.DateTime' using the name 'startDate' in request data ...
[2025-09-01 10:48:09 DBG] Done attempting to bind parameter 'startDate' of type 'System.DateTime'.
[2025-09-01 10:48:09 DBG] Done attempting to bind parameter 'startDate' of type 'System.DateTime'.
[2025-09-01 10:48:09 DBG] Attempting to validate the bound parameter 'startDate' of type 'System.DateTime' ...
[2025-09-01 10:48:09 DBG] Done attempting to validate the bound parameter 'startDate' of type 'System.DateTime'.
[2025-09-01 10:48:09 DBG] Attempting to bind parameter 'endDate' of type 'System.DateTime' ...
[2025-09-01 10:48:09 DBG] Attempting to bind parameter 'endDate' of type 'System.DateTime' using the name 'endDate' in request data ...
[2025-09-01 10:48:09 DBG] Done attempting to bind parameter 'endDate' of type 'System.DateTime'.
[2025-09-01 10:48:09 DBG] Done attempting to bind parameter 'endDate' of type 'System.DateTime'.
[2025-09-01 10:48:09 DBG] Attempting to validate the bound parameter 'endDate' of type 'System.DateTime' ...
[2025-09-01 10:48:09 DBG] Done attempting to validate the bound parameter 'endDate' of type 'System.DateTime'.
[2025-09-01 10:48:09 INF] Incoming request: GET /api/Schedule/4/events/dateRange, Query: ?startDate=2025-09-08&endDate=2025-09-13, Body: 
[2025-09-01 10:48:09 INF] GetByIdAsync: Fetching schedule 4 for user 1
[2025-09-01 10:48:09 INF] GetByIdAsync: Fetching schedule 4
[2025-09-01 10:48:09 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled 
[2025-09-01 10:48:09 DBG] Creating DbConnection.
[2025-09-01 10:48:09 DBG] Created DbConnection. (0ms).
[2025-09-01 10:48:09 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:09 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:09 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:09 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:09 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:09 DBG] Executing DbCommand [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:09 INF] Executed DbCommand (2ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Schedule' entity with key '{Id: 4}'.
[2025-09-01 10:48:09 DBG] The navigation 'Schedule.ScheduleConfiguration' for entity with key '{Id: 4}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleConfiguration' entity with key '{Id: 4}'.
[2025-09-01 10:48:09 DBG] The navigation 'Schedule.User' for entity with key '{Id: 4}' was detected as changed.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleConfiguration.User' for entity with key '{Id: 4}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'User' entity with key '{Id: 1}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 7}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 67}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 67}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 61}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 68}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 68}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 67}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 69}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 69}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 62}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 70}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 70}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 68}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 71}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 71}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 63}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 72}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 72}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 69}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 73}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 73}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 73}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 74}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 74}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 77}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 75}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 75}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 74}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 76}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 76}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 78}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 77}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 77}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 64}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 78}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 78}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 70}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 79}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 79}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 65}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 80}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 80}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 71}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 81}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 81}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 66}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 82}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 82}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 72}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 83}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 83}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 75}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 84}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 84}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 79}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 85}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 85}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 76}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 86}'.
[2025-09-01 10:48:09 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 86}' was detected as changed.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 80}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 87}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 88}'.
[2025-09-01 10:48:09 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 8}'.
[2025-09-01 10:48:09 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:09 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 9ms reading results.
[2025-09-01 10:48:09 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:09 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:09 INF] GetByIdAsync: Found schedule 4 for user 1 with 22 events and 0 special days
[2025-09-01 10:48:09 INF] GetByIdAsync: Found schedule 4 for user 1
[2025-09-01 10:48:09 INF] GetEventsByDateRange: Returning 10 events for schedule 4 between 2025-09-08 and 2025-09-13
[2025-09-01 10:48:09 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-09-01 10:48:09 DBG] No information found on request to perform content negotiation.
[2025-09-01 10:48:09 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-09-01 10:48:09 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-09-01 10:48:09 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-09-01 10:48:09 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.ScheduleEventResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-09-01 10:48:09 INF] Executed action LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API) in 23.7206ms
[2025-09-01 10:48:09 INF] Executed endpoint 'LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API)'
[2025-09-01 10:48:09 INF] HTTP GET /api/Schedule/4/events/dateRange responded 200 in 29.2125 ms
[2025-09-01 10:48:09 DBG] Connection id "0HNF9DRODF7S9" completed keep alive response.
[2025-09-01 10:48:09 DBG] 'LessonTreeContext' disposed.
[2025-09-01 10:48:09 DBG] Disposing connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:09 DBG] Disposed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:09 INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Schedule/4/events/dateRange?startDate=2025-09-08&endDate=2025-09-13 - 200 null application/json; charset=utf-8 33.0625ms
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7SA" received FIN.
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7S9" received FIN.
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7SB" received FIN.
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7SB" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7S9" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7SA" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7SB" disconnecting.
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7S9" disconnecting.
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7SA" disconnecting.
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7SB" stopped.
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7S9" stopped.
[2025-09-01 10:48:10 DBG] Connection id "0HNF9DRODF7SA" stopped.
[2025-09-01 10:48:25 DBG] Connection id "0HNF9DRODF7SC" accepted.
[2025-09-01 10:48:25 DBG] Connection id "0HNF9DRODF7SC" started.
[2025-09-01 10:48:25 INF] Request starting HTTP/1.1 OPTIONS http://localhost:5046/api/subtopic/move - null null
[2025-09-01 10:48:25 DBG] 1 candidate(s) found for the request path '/api/subtopic/move'
[2025-09-01 10:48:25 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-09-01 10:48:25 INF] Middleware: Handling OPTIONS request to /api/subtopic/move
[2025-09-01 10:48:25 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:25 INF] CORS policy execution successful.
[2025-09-01 10:48:25 DBG] The request is a preflight request.
[2025-09-01 10:48:25 DBG] Connection id "0HNF9DRODF7SC" completed keep alive response.
[2025-09-01 10:48:25 INF] Request finished HTTP/1.1 OPTIONS http://localhost:5046/api/subtopic/move - 204 null null 0.7173ms
[2025-09-01 10:48:25 INF] Request starting HTTP/1.1 POST http://localhost:5046/api/subtopic/move - application/json 97
[2025-09-01 10:48:25 DBG] 1 candidate(s) found for the request path '/api/subtopic/move'
[2025-09-01 10:48:25 DBG] Endpoint 'LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API)' with route pattern 'api/SubTopic/move' is valid for the request path '/api/subtopic/move'
[2025-09-01 10:48:25 DBG] Request matched endpoint 'LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API)'
[2025-09-01 10:48:25 INF] Middleware: Handling POST request to /api/subtopic/move
[2025-09-01 10:48:25 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:25 INF] CORS policy execution successful.
[2025-09-01 10:48:25 DBG] The request is insecure. Skipping HSTS header.
[2025-09-01 10:48:25 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-09-01 10:48:25 DBG] Successfully validated the token.
[2025-09-01 10:48:25 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-09-01 10:48:25 DBG] Authorization was successful.
[2025-09-01 10:48:25 DBG] Static files was skipped as the request already matched an endpoint.
[2025-09-01 10:48:25 INF] Executing endpoint 'LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API)'
[2025-09-01 10:48:25 INF] Route matched with {action = "MoveSubTopic", controller = "SubTopic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MoveSubTopic(LessonTree.Models.DTO.SubTopicMoveResource) on controller LessonTree.API.Controllers.SubTopicController (LessonTree.API).
[2025-09-01 10:48:25 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-09-01 10:48:25 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-09-01 10:48:25 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-09-01 10:48:25 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-09-01 10:48:25 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-09-01 10:48:25 DBG] Executing controller factory for controller LessonTree.API.Controllers.SubTopicController (LessonTree.API)
[2025-09-01 10:48:25 DBG] Executed controller factory for controller LessonTree.API.Controllers.SubTopicController (LessonTree.API)
[2025-09-01 10:48:25 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource' ...
[2025-09-01 10:48:25 DBG] Attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource' using the name '' in request data ...
[2025-09-01 10:48:25 DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
[2025-09-01 10:48:25 DBG] Connection id "0HNF9DRODF7SC", Request id "0HNF9DRODF7SC:00000002": started reading request body.
[2025-09-01 10:48:25 DBG] Connection id "0HNF9DRODF7SC", Request id "0HNF9DRODF7SC:00000002": done reading request body.
[2025-09-01 10:48:25 DBG] JSON input formatter succeeded, deserializing to type 'LessonTree.Models.DTO.SubTopicMoveResource'
[2025-09-01 10:48:25 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource'.
[2025-09-01 10:48:25 DBG] Done attempting to bind parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource'.
[2025-09-01 10:48:25 DBG] Attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource' ...
[2025-09-01 10:48:25 DBG] Done attempting to validate the bound parameter 'moveResource' of type 'LessonTree.Models.DTO.SubTopicMoveResource'.
[2025-09-01 10:48:25 INF] Incoming request: POST /api/subtopic/move, Query: , Body: 
[2025-09-01 10:48:25 DBG] Moving SubTopic ID: 13 to Topic ID: 13 for User ID: 1
[2025-09-01 10:48:25 INF] MoveSubTopicAsync: Moving subtopic 13 for user 1
[2025-09-01 10:48:25 INF] 🔍 SUBTOPIC MOVE PARAMETERS: SubTopicId=13, NewTopicId=13, RelativeToId=62, Position=before, RelativeToType=Lesson, AfterSiblingId=
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching subtopic 13
[2025-09-01 10:48:25 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled 
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .FirstOrDefault(st => st.Id == __id_0)'
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SubTopic>(
    asyncEnumerable: new SingleQueryingEnumerable<SubTopic>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Archived (bool) Required, 1], [Property: SubTopic.Description (string), 2], [Property: SubTopic.IsDefault (bool) Required, 3], [Property: SubTopic.SortOrder (int) Required Index, 4], [Property: SubTopic.Title (string) Required, 5], [Property: SubTopic.TopicId (int) Required FK Index, 6], [Property: SubTopic.UserId (int) Required FK Index, 7], [Property: SubTopic.Visibility (VisibilityType) Required, 8] }
            SELECT TOP(1) s.Id, s.Archived, s.Description, s.IsDefault, s.SortOrder, s.Title, s.TopicId, s.UserId, s.Visibility
            FROM SubTopics AS s
            WHERE s.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:48:25 DBG] Creating DbConnection.
[2025-09-01 10:48:25 DBG] Created DbConnection. (0ms).
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__id_0
LIMIT 1
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'SubTopic' entity with key '{Id: 13}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found subtopic 13 for user 1
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching topic 13
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<Topic>()
    .FirstOrDefault(t => t.Id == __id_0)'
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Topic>(
    asyncEnumerable: new SingleQueryingEnumerable<Topic>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.Archived (bool) Required, 1], [Property: Topic.CourseId (int) Required FK Index, 2], [Property: Topic.Description (string), 3], [Property: Topic.SortOrder (int) Required Index, 4], [Property: Topic.Title (string) Required, 5], [Property: Topic.UserId (int) Required FK Index, 6], [Property: Topic.Visibility (VisibilityType) Required, 7] }
            SELECT TOP(1) t.Id, t.Archived, t.CourseId, t.Description, t.SortOrder, t.Title, t.UserId, t.Visibility
            FROM Topics AS t
            WHERE t.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility"
FROM "Topics" AS "t"
WHERE "t"."Id" = @__id_0
LIMIT 1
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility"
FROM "Topics" AS "t"
WHERE "t"."Id" = @__id_0
LIMIT 1
[2025-09-01 10:48:25 DBG] The navigation 'SubTopic.Topic' for entity with key '{Id: 13}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Topic' entity with key '{Id: 13}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found topic 13 for user 1
[2025-09-01 10:48:25 INF] 🎯 Using POSITIONING logic: RelativeToId=62, Position=before, RelativeToType=Lesson
[2025-09-01 10:48:25 INF] 🔍 MoveSubTopicWithPositioningAsync: Processing positioning parameters RelativeToId=62, Position=before, RelativeToType=Lesson
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching lesson 62
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<Lesson>()
    .Include(l => l.LessonAttachments)
    .ThenInclude(ld => ld.Attachment)
    .Include(l => l.SubTopic)
    .Include(l => l.Topic)
    .Include(l => l.User)
    .Include(l => l.LessonStandards)
    .ThenInclude(ls => ls.Standard)
    .FirstOrDefault(l => l.Id == __id_0)'
[2025-09-01 10:48:25 DBG] Including navigation: 'Lesson.LessonAttachments'.
[2025-09-01 10:48:25 DBG] Including navigation: 'Lesson.SubTopic'.
[2025-09-01 10:48:25 DBG] Including navigation: 'Lesson.Topic'.
[2025-09-01 10:48:25 DBG] Including navigation: 'Lesson.User'.
[2025-09-01 10:48:25 DBG] Including navigation: 'Lesson.LessonStandards'.
[2025-09-01 10:48:25 DBG] Including navigation: 'LessonAttachment.Attachment'.
[2025-09-01 10:48:25 DBG] Including navigation: 'LessonStandard.Standard'.
[2025-09-01 10:48:25 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Lesson>(
    asyncEnumerable: new SingleQueryingEnumerable<Lesson>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Lesson.Archived (bool) Required, 1], [Property: Lesson.Assessment (string) MaxLength(250), 2], [Property: Lesson.ClassTime (string) MaxLength(100), 3], [Property: Lesson.Level (string) MaxLength(100), 4], [Property: Lesson.Materials (string) MaxLength(200), 5], [Property: Lesson.Methods (string) MaxLength(500), 6], [Property: Lesson.Objective (string) Required MaxLength(500), 7], [Property: Lesson.SortOrder (int) Required Index, 8], [Property: Lesson.SpecialNeeds (string) MaxLength(500), 9], [Property: Lesson.SubTopicId (int?) FK Index, 10], [Property: Lesson.Title (string) Required MaxLength(200), 11], [Property: Lesson.TopicId (int?) FK Index, 12], [Property: Lesson.UserId (int) Required FK Index, 13], [Property: Lesson.Visibility (VisibilityType) Required, 14] }
                1 -> 0
                2 -> 15
                3 -> 16
                4 -> 17
                5 -> Dictionary<IProperty, int> { [Property: LessonAttachment.LessonId (int) Required PK FK AfterSave:Throw, 18], [Property: LessonAttachment.AttachmentId (int) Required PK FK Index AfterSave:Throw, 19] }
                6 -> Dictionary<IProperty, int> { [Property: Attachment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 20], [Property: Attachment.Blob (byte[]) Required, 21], [Property: Attachment.ContentType (string), 22], [Property: Attachment.Description (string), 23], [Property: Attachment.FileName (string) Required, 24], [Property: Attachment.FileSize (int) Required, 25], [Property: Attachment.GoogleDocId (string), 26], [Property: Attachment.GoogleDocUrl (string), 27], [Property: Attachment.Name (string), 28], [Property: Attachment.Shared (bool) Required, 29], [Property: Attachment.Type (AttachmentType) Required, 30] }
                7 -> 18
                8 -> 19
                9 -> 20
                10 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 15], [Property: SubTopic.Archived (bool) Required, 31], [Property: SubTopic.Description (string), 32], [Property: SubTopic.IsDefault (bool) Required, 33], [Property: SubTopic.SortOrder (int) Required Index, 34], [Property: SubTopic.Title (string) Required, 35], [Property: SubTopic.TopicId (int) Required FK Index, 36], [Property: SubTopic.UserId (int) Required FK Index, 37], [Property: SubTopic.Visibility (VisibilityType) Required, 38] }
                11 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: Topic.Archived (bool) Required, 39], [Property: Topic.CourseId (int) Required FK Index, 40], [Property: Topic.Description (string), 41], [Property: Topic.SortOrder (int) Required Index, 42], [Property: Topic.Title (string) Required, 43], [Property: Topic.UserId (int) Required FK Index, 44], [Property: Topic.Visibility (VisibilityType) Required, 45] }
                12 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 17], [Property: User.AccessFailedCount (int) Required, 46], [Property: User.ConcurrencyStamp (string) Concurrency, 47], [Property: User.DistrictId (int?) FK Index, 48], [Property: User.Email (string) MaxLength(256), 49], [Property: User.EmailConfirmed (bool) Required, 50], [Property: User.FirstName (string) Required, 51], [Property: User.LastName (string) Required, 52], [Property: User.LockoutEnabled (bool) Required, 53], [Property: User.LockoutEnd (DateTimeOffset?), 54], [Property: User.NormalizedEmail (string) Index MaxLength(256), 55], [Property: User.NormalizedUserName (string) Index MaxLength(256), 56], [Property: User.PasswordHash (string), 57], [Property: User.PhoneNumber (string), 58], [Property: User.PhoneNumberConfirmed (bool) Required, 59], [Property: User.SchoolId (int?) FK Index, 60], [Property: User.SecurityStamp (string), 61], [Property: User.TwoFactorEnabled (bool) Required, 62], [Property: User.UserName (string) MaxLength(256), 63] }
                13 -> Dictionary<IProperty, int> { [Property: LessonStandard.LessonId (int) Required PK FK AfterSave:Throw, 64], [Property: LessonStandard.StandardId (int) Required PK FK Index AfterSave:Throw, 65] }
                14 -> Dictionary<IProperty, int> { [Property: Standard.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 66], [Property: Standard.CourseId (int) Required FK Index, 67], [Property: Standard.Description (string) MaxLength(500), 68], [Property: Standard.DistrictId (int?) FK Index, 69], [Property: Standard.StandardType (string) MaxLength(20), 70], [Property: Standard.Title (string) Required, 71], [Property: Standard.TopicId (int?) FK Index, 72] }
                15 -> 64
                16 -> 65
                17 -> 66
            SELECT t0.Id, t0.Archived, t0.Assessment, t0.ClassTime, t0.Level, t0.Materials, t0.Methods, t0.Objective, t0.SortOrder, t0.SpecialNeeds, t0.SubTopicId, t0.Title, t0.TopicId, t0.UserId, t0.Visibility, t0.Id0, t0.Id1, t0.Id2, t1.LessonId, t1.AttachmentId, t1.Id, t1.Blob, t1.ContentType, t1.Description, t1.FileName, t1.FileSize, t1.GoogleDocId, t1.GoogleDocUrl, t1.Name, t1.Shared, t1.Type, t0.Archived0, t0.Description, t0.IsDefault, t0.SortOrder0, t0.Title0, t0.TopicId0, t0.UserId0, t0.Visibility0, t0.Archived1, t0.CourseId, t0.Description0, t0.SortOrder1, t0.Title1, t0.UserId1, t0.Visibility1, t0.AccessFailedCount, t0.ConcurrencyStamp, t0.DistrictId, t0.Email, t0.EmailConfirmed, t0.FirstName, t0.LastName, t0.LockoutEnabled, t0.LockoutEnd, t0.NormalizedEmail, t0.NormalizedUserName, t0.PasswordHash, t0.PhoneNumber, t0.PhoneNumberConfirmed, t0.SchoolId, t0.SecurityStamp, t0.TwoFactorEnabled, t0.UserName, t2.LessonId, t2.StandardId, t2.Id, t2.CourseId, t2.Description, t2.DistrictId, t2.StandardType, t2.Title, t2.TopicId
            FROM 
            (
                SELECT TOP(1) l.Id, l.Archived, l.Assessment, l.ClassTime, l.Level, l.Materials, l.Methods, l.Objective, l.SortOrder, l.SpecialNeeds, l.SubTopicId, l.Title, l.TopicId, l.UserId, l.Visibility, s.Id AS Id0, s.Archived AS Archived0, s.Description, s.IsDefault, s.SortOrder AS SortOrder0, s.Title AS Title0, s.TopicId AS TopicId0, s.UserId AS UserId0, s.Visibility AS Visibility0, t.Id AS Id1, t.Archived AS Archived1, t.CourseId, t.Description AS Description0, t.SortOrder AS SortOrder1, t.Title AS Title1, t.UserId AS UserId1, t.Visibility AS Visibility1, a.Id AS Id2, a.AccessFailedCount, a.ConcurrencyStamp, a.DistrictId, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SchoolId, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
                FROM Lessons AS l
                LEFT JOIN SubTopics AS s ON l.SubTopicId == s.Id
                LEFT JOIN Topics AS t ON l.TopicId == t.Id
                INNER JOIN AspNetUsers AS a ON l.UserId == a.Id
                WHERE l.Id == @__id_0
            ) AS t0
            LEFT JOIN 
            (
                SELECT l0.LessonId, l0.AttachmentId, a0.Id, a0.Blob, a0.ContentType, a0.Description, a0.FileName, a0.FileSize, a0.GoogleDocId, a0.GoogleDocUrl, a0.Name, a0.Shared, a0.Type
                FROM LessonAttachments AS l0
                INNER JOIN Attachments AS a0 ON l0.AttachmentId == a0.Id
            ) AS t1 ON t0.Id == t1.LessonId
            LEFT JOIN 
            (
                SELECT l1.LessonId, l1.StandardId, s0.Id, s0.CourseId, s0.Description, s0.DistrictId, s0.StandardType, s0.Title, s0.TopicId
                FROM LessonStandards AS l1
                INNER JOIN Standards AS s0 ON l1.StandardId == s0.Id
            ) AS t2 ON t0.Id == t2.LessonId
            ORDER BY t0.Id ASC, t0.Id0 ASC, t0.Id1 ASC, t0.Id2 ASC, t1.LessonId ASC, t1.AttachmentId ASC, t1.Id ASC, t2.LessonId ASC, t2.StandardId ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Lesson>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='62'], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "t0"."Id0", "t0"."Id1", "t0"."Id2", "t1"."LessonId", "t1"."AttachmentId", "t1"."Id", "t1"."Blob", "t1"."ContentType", "t1"."Description", "t1"."FileName", "t1"."FileSize", "t1"."GoogleDocId", "t1"."GoogleDocUrl", "t1"."Name", "t1"."Shared", "t1"."Type", "t0"."Archived0", "t0"."Description", "t0"."IsDefault", "t0"."SortOrder0", "t0"."Title0", "t0"."TopicId0", "t0"."UserId0", "t0"."Visibility0", "t0"."Archived1", "t0"."CourseId", "t0"."Description0", "t0"."SortOrder1", "t0"."Title1", "t0"."UserId1", "t0"."Visibility1", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."DistrictId", "t0"."Email", "t0"."EmailConfirmed", "t0"."FirstName", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."SchoolId", "t0"."SecurityStamp", "t0"."TwoFactorEnabled", "t0"."UserName", "t2"."LessonId", "t2"."StandardId", "t2"."Id", "t2"."CourseId", "t2"."Description", "t2"."DistrictId", "t2"."StandardType", "t2"."Title", "t2"."TopicId"
FROM (
    SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "s"."Id" AS "Id0", "s"."Archived" AS "Archived0", "s"."Description", "s"."IsDefault", "s"."SortOrder" AS "SortOrder0", "s"."Title" AS "Title0", "s"."TopicId" AS "TopicId0", "s"."UserId" AS "UserId0", "s"."Visibility" AS "Visibility0", "t"."Id" AS "Id1", "t"."Archived" AS "Archived1", "t"."CourseId", "t"."Description" AS "Description0", "t"."SortOrder" AS "SortOrder1", "t"."Title" AS "Title1", "t"."UserId" AS "UserId1", "t"."Visibility" AS "Visibility1", "a"."Id" AS "Id2", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Lessons" AS "l"
    LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
    LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "l"."UserId" = "a"."Id"
    WHERE "l"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "l0"."LessonId", "l0"."AttachmentId", "a0"."Id", "a0"."Blob", "a0"."ContentType", "a0"."Description", "a0"."FileName", "a0"."FileSize", "a0"."GoogleDocId", "a0"."GoogleDocUrl", "a0"."Name", "a0"."Shared", "a0"."Type"
    FROM "LessonAttachments" AS "l0"
    INNER JOIN "Attachments" AS "a0" ON "l0"."AttachmentId" = "a0"."Id"
) AS "t1" ON "t0"."Id" = "t1"."LessonId"
LEFT JOIN (
    SELECT "l1"."LessonId", "l1"."StandardId", "s0"."Id", "s0"."CourseId", "s0"."Description", "s0"."DistrictId", "s0"."StandardType", "s0"."Title", "s0"."TopicId"
    FROM "LessonStandards" AS "l1"
    INNER JOIN "Standards" AS "s0" ON "l1"."StandardId" = "s0"."Id"
) AS "t2" ON "t0"."Id" = "t2"."LessonId"
ORDER BY "t0"."Id", "t0"."Id0", "t0"."Id1", "t0"."Id2", "t1"."LessonId", "t1"."AttachmentId", "t1"."Id", "t2"."LessonId", "t2"."StandardId"
[2025-09-01 10:48:25 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='62'], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "t0"."Id0", "t0"."Id1", "t0"."Id2", "t1"."LessonId", "t1"."AttachmentId", "t1"."Id", "t1"."Blob", "t1"."ContentType", "t1"."Description", "t1"."FileName", "t1"."FileSize", "t1"."GoogleDocId", "t1"."GoogleDocUrl", "t1"."Name", "t1"."Shared", "t1"."Type", "t0"."Archived0", "t0"."Description", "t0"."IsDefault", "t0"."SortOrder0", "t0"."Title0", "t0"."TopicId0", "t0"."UserId0", "t0"."Visibility0", "t0"."Archived1", "t0"."CourseId", "t0"."Description0", "t0"."SortOrder1", "t0"."Title1", "t0"."UserId1", "t0"."Visibility1", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."DistrictId", "t0"."Email", "t0"."EmailConfirmed", "t0"."FirstName", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."SchoolId", "t0"."SecurityStamp", "t0"."TwoFactorEnabled", "t0"."UserName", "t2"."LessonId", "t2"."StandardId", "t2"."Id", "t2"."CourseId", "t2"."Description", "t2"."DistrictId", "t2"."StandardType", "t2"."Title", "t2"."TopicId"
FROM (
    SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "s"."Id" AS "Id0", "s"."Archived" AS "Archived0", "s"."Description", "s"."IsDefault", "s"."SortOrder" AS "SortOrder0", "s"."Title" AS "Title0", "s"."TopicId" AS "TopicId0", "s"."UserId" AS "UserId0", "s"."Visibility" AS "Visibility0", "t"."Id" AS "Id1", "t"."Archived" AS "Archived1", "t"."CourseId", "t"."Description" AS "Description0", "t"."SortOrder" AS "SortOrder1", "t"."Title" AS "Title1", "t"."UserId" AS "UserId1", "t"."Visibility" AS "Visibility1", "a"."Id" AS "Id2", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Lessons" AS "l"
    LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
    LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "l"."UserId" = "a"."Id"
    WHERE "l"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "l0"."LessonId", "l0"."AttachmentId", "a0"."Id", "a0"."Blob", "a0"."ContentType", "a0"."Description", "a0"."FileName", "a0"."FileSize", "a0"."GoogleDocId", "a0"."GoogleDocUrl", "a0"."Name", "a0"."Shared", "a0"."Type"
    FROM "LessonAttachments" AS "l0"
    INNER JOIN "Attachments" AS "a0" ON "l0"."AttachmentId" = "a0"."Id"
) AS "t1" ON "t0"."Id" = "t1"."LessonId"
LEFT JOIN (
    SELECT "l1"."LessonId", "l1"."StandardId", "s0"."Id", "s0"."CourseId", "s0"."Description", "s0"."DistrictId", "s0"."StandardType", "s0"."Title", "s0"."TopicId"
    FROM "LessonStandards" AS "l1"
    INNER JOIN "Standards" AS "s0" ON "l1"."StandardId" = "s0"."Id"
) AS "t2" ON "t0"."Id" = "t2"."LessonId"
ORDER BY "t0"."Id", "t0"."Id0", "t0"."Id1", "t0"."Id2", "t1"."LessonId", "t1"."AttachmentId", "t1"."Id", "t2"."LessonId", "t2"."StandardId"
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 62}'.
[2025-09-01 10:48:25 DBG] The navigation 'Lesson.User' for entity with key '{Id: 62}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'SubTopic.User' for entity with key '{Id: 13}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'Topic.User' for entity with key '{Id: 13}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'User' entity with key '{Id: 1}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found lesson 62 for user 1
[2025-09-01 10:48:25 INF] 🎯 Validated relative Lesson 62 for positioning
[2025-09-01 10:48:25 INF] 🚀 Calling repository with positioning: SubTopicId=13, NewTopicId=13, RelativeToId=62, Position=before, RelativeToType=Lesson
[2025-09-01 10:48:25 INF] 🔍 MoveSubTopicWithPositioningAsync: Moving subtopic 13 before Lesson 62 in topic 13
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Beginning transaction with isolation level 'Unspecified'.
[2025-09-01 10:48:25 DBG] Began transaction with isolation level 'Serializable'.
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .FirstOrDefault(s => s.Id == __subTopicId_0)'
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SubTopic>(
    asyncEnumerable: new SingleQueryingEnumerable<SubTopic>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Archived (bool) Required, 1], [Property: SubTopic.Description (string), 2], [Property: SubTopic.IsDefault (bool) Required, 3], [Property: SubTopic.SortOrder (int) Required Index, 4], [Property: SubTopic.Title (string) Required, 5], [Property: SubTopic.TopicId (int) Required FK Index, 6], [Property: SubTopic.UserId (int) Required FK Index, 7], [Property: SubTopic.Visibility (VisibilityType) Required, 8] }
            SELECT TOP(1) s.Id, s.Archived, s.Description, s.IsDefault, s.SortOrder, s.Title, s.TopicId, s.UserId, s.Visibility
            FROM SubTopics AS s
            WHERE s.Id == @__subTopicId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__subTopicId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__subTopicId_0
LIMIT 1
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__subTopicId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility"
FROM "SubTopics" AS "s"
WHERE "s"."Id" = @__subTopicId_0
LIMIT 1
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .Where(st => st.TopicId == __topicId_0 && !(st.Archived))
    .OrderBy(st => st.SortOrder)'
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<SubTopic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Archived (bool) Required, 1], [Property: SubTopic.Description (string), 2], [Property: SubTopic.IsDefault (bool) Required, 3], [Property: SubTopic.SortOrder (int) Required Index, 4], [Property: SubTopic.Title (string) Required, 5], [Property: SubTopic.TopicId (int) Required FK Index, 6], [Property: SubTopic.UserId (int) Required FK Index, 7], [Property: SubTopic.Visibility (VisibilityType) Required, 8] }
        SELECT s.Id, s.Archived, s.Description, s.IsDefault, s.SortOrder, s.Title, s.TopicId, s.UserId, s.Visibility
        FROM SubTopics AS s
        WHERE (s.TopicId == @__topicId_0) && Not(s.Archived)
        ORDER BY s.SortOrder ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__topicId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility"
FROM "SubTopics" AS "s"
WHERE "s"."TopicId" = @__topicId_0 AND NOT ("s"."Archived")
ORDER BY "s"."SortOrder"
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__topicId_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility"
FROM "SubTopics" AS "s"
WHERE "s"."TopicId" = @__topicId_0 AND NOT ("s"."Archived")
ORDER BY "s"."SortOrder"
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<Lesson>()
    .Where(l => l.TopicId == __topicId_0 && l.SubTopicId == null && !(l.Archived))
    .OrderBy(l => l.SortOrder)'
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Lesson>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Lesson.Archived (bool) Required, 1], [Property: Lesson.Assessment (string) MaxLength(250), 2], [Property: Lesson.ClassTime (string) MaxLength(100), 3], [Property: Lesson.Level (string) MaxLength(100), 4], [Property: Lesson.Materials (string) MaxLength(200), 5], [Property: Lesson.Methods (string) MaxLength(500), 6], [Property: Lesson.Objective (string) Required MaxLength(500), 7], [Property: Lesson.SortOrder (int) Required Index, 8], [Property: Lesson.SpecialNeeds (string) MaxLength(500), 9], [Property: Lesson.SubTopicId (int?) FK Index, 10], [Property: Lesson.Title (string) Required MaxLength(200), 11], [Property: Lesson.TopicId (int?) FK Index, 12], [Property: Lesson.UserId (int) Required FK Index, 13], [Property: Lesson.Visibility (VisibilityType) Required, 14] }
        SELECT l.Id, l.Archived, l.Assessment, l.ClassTime, l.Level, l.Materials, l.Methods, l.Objective, l.SortOrder, l.SpecialNeeds, l.SubTopicId, l.Title, l.TopicId, l.UserId, l.Visibility
        FROM Lessons AS l
        WHERE ((l.TopicId == @__topicId_0) && (l.SubTopicId == NULL)) && Not(l.Archived)
        ORDER BY l.SortOrder ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Lesson>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__topicId_0='13' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
FROM "Lessons" AS "l"
WHERE "l"."TopicId" = @__topicId_0 AND "l"."SubTopicId" IS NULL AND NOT ("l"."Archived")
ORDER BY "l"."SortOrder"
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__topicId_0='13' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
FROM "Lessons" AS "l"
WHERE "l"."TopicId" = @__topicId_0 AND "l"."SubTopicId" IS NULL AND NOT ("l"."Archived")
ORDER BY "l"."SortOrder"
[2025-09-01 10:48:25 DBG] The navigation 'Lesson.User' for entity with key '{Id: 61}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 61}'.
[2025-09-01 10:48:25 DBG] The navigation 'Lesson.User' for entity with key '{Id: 63}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 63}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 INF] 🔍 Before positioning: targeting SortOrder 1 (relative item has 1)
[2025-09-01 10:48:25 INF] 🎯 Calculated target sort order 1 for subtopic 13 (before Lesson 62)
[2025-09-01 10:48:25 DBG] The 'Lesson' entity with key '{Id: 62}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] RenumberTopicItemsAsync: Renumbered Lesson 62 from 1 to 2
[2025-09-01 10:48:25 DBG] The 'Lesson' entity with key '{Id: 63}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] RenumberTopicItemsAsync: Renumbered Lesson 63 from 2 to 3
[2025-09-01 10:48:25 DBG] The 'SubTopic' entity with key '{Id: 13}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:48:25 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:48:25 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:48:25 DBG] Creating transaction savepoint.
[2025-09-01 10:48:25 DBG] Created transaction savepoint.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p14='62', @p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T1L2' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 2' (Nullable = false) (Size = 8), @p11='13' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Archived" = @p0, "Assessment" = @p1, "ClassTime" = @p2, "Level" = @p3, "Materials" = @p4, "Methods" = @p5, "Objective" = @p6, "SortOrder" = @p7, "SpecialNeeds" = @p8, "SubTopicId" = @p9, "Title" = @p10, "TopicId" = @p11, "UserId" = @p12, "Visibility" = @p13
WHERE "Id" = @p14
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p14='62', @p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T1L2' (Nullable = false) (Size = 6), @p7='2', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 2' (Nullable = false) (Size = 8), @p11='13' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Archived" = @p0, "Assessment" = @p1, "ClassTime" = @p2, "Level" = @p3, "Materials" = @p4, "Methods" = @p5, "Objective" = @p6, "SortOrder" = @p7, "SpecialNeeds" = @p8, "SubTopicId" = @p9, "Title" = @p10, "TopicId" = @p11, "UserId" = @p12, "Visibility" = @p13
WHERE "Id" = @p14
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p14='63', @p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T1L3' (Nullable = false) (Size = 6), @p7='3', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 3' (Nullable = false) (Size = 8), @p11='13' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Archived" = @p0, "Assessment" = @p1, "ClassTime" = @p2, "Level" = @p3, "Materials" = @p4, "Methods" = @p5, "Objective" = @p6, "SortOrder" = @p7, "SpecialNeeds" = @p8, "SubTopicId" = @p9, "Title" = @p10, "TopicId" = @p11, "UserId" = @p12, "Visibility" = @p13
WHERE "Id" = @p14
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p14='63', @p0='False', @p1='Quiz, Discussion, Homework' (Size = 26), @p2='45 minutes' (Size = 10), @p3='Beginner' (Size = 8), @p4='Textbook, Worksheets, Digital tools' (Size = 35), @p5='Instruction, Practice, Assessment' (Size = 33), @p6='C1T1L3' (Nullable = false) (Size = 6), @p7='3', @p8='Visual aids available' (Size = 21), @p9=NULL (DbType = Int32), @p10='Lesson 3' (Nullable = false) (Size = 8), @p11='13' (Nullable = true), @p12='1', @p13='0'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Lessons" SET "Archived" = @p0, "Assessment" = @p1, "ClassTime" = @p2, "Level" = @p3, "Materials" = @p4, "Methods" = @p5, "Objective" = @p6, "SortOrder" = @p7, "SpecialNeeds" = @p8, "SubTopicId" = @p9, "Title" = @p10, "TopicId" = @p11, "UserId" = @p12, "Visibility" = @p13
WHERE "Id" = @p14
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p8='13', @p0='False', @p1='SubTopic A for topic 1' (Size = 22), @p2='False', @p3='1', @p4='Course 1 - Topic 1 - SubTopic A' (Nullable = false) (Size = 31), @p5='13', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
UPDATE "SubTopics" SET "Archived" = @p0, "Description" = @p1, "IsDefault" = @p2, "SortOrder" = @p3, "Title" = @p4, "TopicId" = @p5, "UserId" = @p6, "Visibility" = @p7
WHERE "Id" = @p8
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p8='13', @p0='False', @p1='SubTopic A for topic 1' (Size = 22), @p2='False', @p3='1', @p4='Course 1 - Topic 1 - SubTopic A' (Nullable = false) (Size = 31), @p5='13', @p6='1', @p7='0'], CommandType='"Text"', CommandTimeout='30']
UPDATE "SubTopics" SET "Archived" = @p0, "Description" = @p1, "IsDefault" = @p2, "SortOrder" = @p3, "Title" = @p4, "TopicId" = @p5, "UserId" = @p6, "Visibility" = @p7
WHERE "Id" = @p8
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Releasing transaction savepoint.
[2025-09-01 10:48:25 DBG] Released transaction savepoint.
[2025-09-01 10:48:25 DBG] The 'Lesson' entity with key '{Id: 62}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'Lesson' entity with key '{Id: 63}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'SubTopic' entity with key '{Id: 13}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] SaveChanges completed for 'LessonTreeContext' with 3 entities written to the database.
[2025-09-01 10:48:25 DBG] Committing transaction.
[2025-09-01 10:48:25 DBG] Committed transaction.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] ✅ Successfully moved subtopic 13 to position 1 (before Lesson 62)
[2025-09-01 10:48:25 DBG] Disposing transaction.
[2025-09-01 10:48:25 INF] ✅ Repository positioning completed for SubTopic 13, new SortOrder: 1
[2025-09-01 10:48:25 INF] MoveSubTopicAsync: Successfully moved subtopic 13
[2025-09-01 10:48:25 INF] UpdateScheduleAfterSubTopicMoveAsync: Starting schedule update for SubTopic 13
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching subtopic 13
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<SubTopic>()
    .Include(s => s.Lessons)
    .Include(s => s.Topic)
    .FirstOrDefault(st => st.Id == __id_0)'
[2025-09-01 10:48:25 DBG] Including navigation: 'SubTopic.Lessons'.
[2025-09-01 10:48:25 DBG] Including navigation: 'SubTopic.Topic'.
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<SubTopic>(
    asyncEnumerable: new SingleQueryingEnumerable<SubTopic>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: SubTopic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: SubTopic.Archived (bool) Required, 1], [Property: SubTopic.Description (string), 2], [Property: SubTopic.IsDefault (bool) Required, 3], [Property: SubTopic.SortOrder (int) Required Index, 4], [Property: SubTopic.Title (string) Required, 5], [Property: SubTopic.TopicId (int) Required FK Index, 6], [Property: SubTopic.UserId (int) Required FK Index, 7], [Property: SubTopic.Visibility (VisibilityType) Required, 8] }
                1 -> 0
                2 -> 9
                3 -> Dictionary<IProperty, int> { [Property: Lesson.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: Lesson.Archived (bool) Required, 11], [Property: Lesson.Assessment (string) MaxLength(250), 12], [Property: Lesson.ClassTime (string) MaxLength(100), 13], [Property: Lesson.Level (string) MaxLength(100), 14], [Property: Lesson.Materials (string) MaxLength(200), 15], [Property: Lesson.Methods (string) MaxLength(500), 16], [Property: Lesson.Objective (string) Required MaxLength(500), 17], [Property: Lesson.SortOrder (int) Required Index, 18], [Property: Lesson.SpecialNeeds (string) MaxLength(500), 19], [Property: Lesson.SubTopicId (int?) FK Index, 20], [Property: Lesson.Title (string) Required MaxLength(200), 21], [Property: Lesson.TopicId (int?) FK Index, 22], [Property: Lesson.UserId (int) Required FK Index, 23], [Property: Lesson.Visibility (VisibilityType) Required, 24] }
                4 -> 10
                5 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Topic.Archived (bool) Required, 25], [Property: Topic.CourseId (int) Required FK Index, 26], [Property: Topic.Description (string), 27], [Property: Topic.SortOrder (int) Required Index, 28], [Property: Topic.Title (string) Required, 29], [Property: Topic.UserId (int) Required FK Index, 30], [Property: Topic.Visibility (VisibilityType) Required, 31] }
            SELECT t0.Id, t0.Archived, t0.Description, t0.IsDefault, t0.SortOrder, t0.Title, t0.TopicId, t0.UserId, t0.Visibility, t0.Id0, l.Id, l.Archived, l.Assessment, l.ClassTime, l.Level, l.Materials, l.Methods, l.Objective, l.SortOrder, l.SpecialNeeds, l.SubTopicId, l.Title, l.TopicId, l.UserId, l.Visibility, t0.Archived0, t0.CourseId, t0.Description0, t0.SortOrder0, t0.Title0, t0.UserId0, t0.Visibility0
            FROM 
            (
                SELECT TOP(1) s.Id, s.Archived, s.Description, s.IsDefault, s.SortOrder, s.Title, s.TopicId, s.UserId, s.Visibility, t.Id AS Id0, t.Archived AS Archived0, t.CourseId, t.Description AS Description0, t.SortOrder AS SortOrder0, t.Title AS Title0, t.UserId AS UserId0, t.Visibility AS Visibility0
                FROM SubTopics AS s
                INNER JOIN Topics AS t ON s.TopicId == t.Id
                WHERE s.Id == @__id_0
            ) AS t0
            LEFT JOIN Lessons AS l ON t0.Id == l.SubTopicId
            ORDER BY t0.Id ASC, t0.Id0 ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, SubTopic>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."Archived", "t0"."Description", "t0"."IsDefault", "t0"."SortOrder", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "t0"."Id0", "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t0"."Archived0", "t0"."CourseId", "t0"."Description0", "t0"."SortOrder0", "t0"."Title0", "t0"."UserId0", "t0"."Visibility0"
FROM (
    SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t"."Id" AS "Id0", "t"."Archived" AS "Archived0", "t"."CourseId", "t"."Description" AS "Description0", "t"."SortOrder" AS "SortOrder0", "t"."Title" AS "Title0", "t"."UserId" AS "UserId0", "t"."Visibility" AS "Visibility0"
    FROM "SubTopics" AS "s"
    INNER JOIN "Topics" AS "t" ON "s"."TopicId" = "t"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Lessons" AS "l" ON "t0"."Id" = "l"."SubTopicId"
ORDER BY "t0"."Id", "t0"."Id0"
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='13'], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."Archived", "t0"."Description", "t0"."IsDefault", "t0"."SortOrder", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "t0"."Id0", "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t0"."Archived0", "t0"."CourseId", "t0"."Description0", "t0"."SortOrder0", "t0"."Title0", "t0"."UserId0", "t0"."Visibility0"
FROM (
    SELECT "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t"."Id" AS "Id0", "t"."Archived" AS "Archived0", "t"."CourseId", "t"."Description" AS "Description0", "t"."SortOrder" AS "SortOrder0", "t"."Title" AS "Title0", "t"."UserId" AS "UserId0", "t"."Visibility" AS "Visibility0"
    FROM "SubTopics" AS "s"
    INNER JOIN "Topics" AS "t" ON "s"."TopicId" = "t"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN "Lessons" AS "l" ON "t0"."Id" = "l"."SubTopicId"
ORDER BY "t0"."Id", "t0"."Id0"
[2025-09-01 10:48:25 DBG] The navigation 'Lesson.User' for entity with key '{Id: 73}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 73}'.
[2025-09-01 10:48:25 DBG] The navigation 'Lesson.User' for entity with key '{Id: 74}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 74}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found subtopic 13 for user 1
[2025-09-01 10:48:25 INF] Found 2 lessons in SubTopic 13, updating schedules
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<ScheduleConfiguration>()
    .Where(sc => sc.UserId == __userId_0 && sc.PeriodAssignments
        .Any(pa => pa.CourseId == __courseId_1))
    .Select(sc => sc.Id)'
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<int>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT s.Id
        FROM ScheduleConfigurations AS s
        WHERE (s.UserId == @__userId_0) && EXISTS (
            SELECT 1
            FROM PeriodAssignments AS p
            WHERE ((s.Id != NULL) && (s.Id == p.ScheduleConfigurationId)) && (p.CourseId == @__courseId_1))), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__userId_0='1', @__courseId_1='7' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id"
FROM "ScheduleConfigurations" AS "s"
WHERE "s"."UserId" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "PeriodAssignments" AS "p"
    WHERE "s"."Id" = "p"."ScheduleConfigurationId" AND "p"."CourseId" = @__courseId_1)
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1', @__courseId_1='7' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id"
FROM "ScheduleConfigurations" AS "s"
WHERE "s"."UserId" = @__userId_0 AND EXISTS (
    SELECT 1
    FROM "PeriodAssignments" AS "p"
    WHERE "s"."Id" = "p"."ScheduleConfigurationId" AND "p"."CourseId" = @__courseId_1)
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Where(s => s.UserId == __userId_0 && __configurationsWithCourse_1.Contains(s.ScheduleConfigurationId))
    .Include(s => s.ScheduleConfiguration)'
[2025-09-01 10:48:25 DBG] Including navigation: 'Schedule.ScheduleConfiguration'.
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Schedule>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Schedule.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.CourseId (no field, int?) Shadow FK Index, 1], [Property: Schedule.CreatedDate (DateTime) Required, 2], [Property: Schedule.IsLocked (bool) Required, 3], [Property: Schedule.ScheduleConfigurationId (int) Required FK Index, 4], [Property: Schedule.Title (string) Required MaxLength(100), 5], [Property: Schedule.UserId (int) Required FK Index, 6] }
            1 -> Dictionary<IProperty, int> { [Property: ScheduleConfiguration.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: ScheduleConfiguration.CreatedDate (DateTime) Required, 8], [Property: ScheduleConfiguration.EndDate (DateTime) Required, 9], [Property: ScheduleConfiguration.IsActive (bool) Required Index, 10], [Property: ScheduleConfiguration.IsTemplate (bool) Required, 11], [Property: ScheduleConfiguration.LastUpdated (DateTime) Required, 12], [Property: ScheduleConfiguration.PeriodsPerDay (int) Required, 13], [Property: ScheduleConfiguration.SchoolYear (string) Required Index MaxLength(20), 14], [Property: ScheduleConfiguration.StartDate (DateTime) Required, 15], [Property: ScheduleConfiguration.TeachingDays (string) Required MaxLength(200), 16], [Property: ScheduleConfiguration.Title (string) Required MaxLength(100), 17], [Property: ScheduleConfiguration.UserId (int) Required FK Index, 18] }
        SELECT s.Id, s.CourseId, s.CreatedDate, s.IsLocked, s.ScheduleConfigurationId, s.Title, s.UserId, s0.Id, s0.CreatedDate, s0.EndDate, s0.IsActive, s0.IsTemplate, s0.LastUpdated, s0.PeriodsPerDay, s0.SchoolYear, s0.StartDate, s0.TeachingDays, s0.Title, s0.UserId
        FROM Schedules AS s
        INNER JOIN ScheduleConfigurations AS s0 ON s.ScheduleConfigurationId == s0.Id
        WHERE (s.UserId == @__userId_0) && s.ScheduleConfigurationId IN (
            SELECT c.value
            FROM json_each(@__configurationsWithCourse_1) AS c)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
    LessonTree.DAL.LessonTreeContext, 
    False, 
    True, 
    True
)'
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__userId_0='1', @__configurationsWithCourse_1='[4]' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id", "s0"."CreatedDate", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title", "s0"."UserId"
FROM "Schedules" AS "s"
INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
WHERE "s"."UserId" = @__userId_0 AND "s"."ScheduleConfigurationId" IN (
    SELECT "c"."value"
    FROM json_each(@__configurationsWithCourse_1) AS "c"
)
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1', @__configurationsWithCourse_1='[4]' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id", "s0"."CreatedDate", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title", "s0"."UserId"
FROM "Schedules" AS "s"
INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
WHERE "s"."UserId" = @__userId_0 AND "s"."ScheduleConfigurationId" IN (
    SELECT "c"."value"
    FROM json_each(@__configurationsWithCourse_1) AS "c"
)
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Schedule' entity with key '{Id: 4}'.
[2025-09-01 10:48:25 DBG] The navigation 'Schedule.ScheduleConfiguration' for entity with key '{Id: 4}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleConfiguration' entity with key '{Id: 4}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] Updating schedule 4 after SubTopic 13 move (affecting 2 lessons)
[2025-09-01 10:48:25 INF] UpdateScheduleAfterLessonMovedAsync: Updating schedule 4 after lesson 73 moved by user 1
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching schedule 4
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:25 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 7}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 67}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 67}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 68}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 68}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 67}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 69}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 69}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 70}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 70}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 68}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 71}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 71}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 72}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 72}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 69}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 73}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 73}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 74}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 74}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 77}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 75}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 75}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 76}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 76}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 78}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 77}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 77}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 64}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 78}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 78}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 70}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 79}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 79}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 65}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 80}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 80}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 71}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 81}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 81}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 66}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 82}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 82}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 72}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 83}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 83}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 75}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 84}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 84}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 79}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 85}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 85}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 76}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 86}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 86}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 80}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 87}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 88}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 8}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 2ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found schedule 4 for user 1 with 22 events and 0 special days
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching lesson 73
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='73'], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "t0"."Id0", "t0"."Id1", "t0"."Id2", "t1"."LessonId", "t1"."AttachmentId", "t1"."Id", "t1"."Blob", "t1"."ContentType", "t1"."Description", "t1"."FileName", "t1"."FileSize", "t1"."GoogleDocId", "t1"."GoogleDocUrl", "t1"."Name", "t1"."Shared", "t1"."Type", "t0"."Archived0", "t0"."Description", "t0"."IsDefault", "t0"."SortOrder0", "t0"."Title0", "t0"."TopicId0", "t0"."UserId0", "t0"."Visibility0", "t0"."Archived1", "t0"."CourseId", "t0"."Description0", "t0"."SortOrder1", "t0"."Title1", "t0"."UserId1", "t0"."Visibility1", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."DistrictId", "t0"."Email", "t0"."EmailConfirmed", "t0"."FirstName", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."SchoolId", "t0"."SecurityStamp", "t0"."TwoFactorEnabled", "t0"."UserName", "t2"."LessonId", "t2"."StandardId", "t2"."Id", "t2"."CourseId", "t2"."Description", "t2"."DistrictId", "t2"."StandardType", "t2"."Title", "t2"."TopicId"
FROM (
    SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "s"."Id" AS "Id0", "s"."Archived" AS "Archived0", "s"."Description", "s"."IsDefault", "s"."SortOrder" AS "SortOrder0", "s"."Title" AS "Title0", "s"."TopicId" AS "TopicId0", "s"."UserId" AS "UserId0", "s"."Visibility" AS "Visibility0", "t"."Id" AS "Id1", "t"."Archived" AS "Archived1", "t"."CourseId", "t"."Description" AS "Description0", "t"."SortOrder" AS "SortOrder1", "t"."Title" AS "Title1", "t"."UserId" AS "UserId1", "t"."Visibility" AS "Visibility1", "a"."Id" AS "Id2", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Lessons" AS "l"
    LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
    LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "l"."UserId" = "a"."Id"
    WHERE "l"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "l0"."LessonId", "l0"."AttachmentId", "a0"."Id", "a0"."Blob", "a0"."ContentType", "a0"."Description", "a0"."FileName", "a0"."FileSize", "a0"."GoogleDocId", "a0"."GoogleDocUrl", "a0"."Name", "a0"."Shared", "a0"."Type"
    FROM "LessonAttachments" AS "l0"
    INNER JOIN "Attachments" AS "a0" ON "l0"."AttachmentId" = "a0"."Id"
) AS "t1" ON "t0"."Id" = "t1"."LessonId"
LEFT JOIN (
    SELECT "l1"."LessonId", "l1"."StandardId", "s0"."Id", "s0"."CourseId", "s0"."Description", "s0"."DistrictId", "s0"."StandardType", "s0"."Title", "s0"."TopicId"
    FROM "LessonStandards" AS "l1"
    INNER JOIN "Standards" AS "s0" ON "l1"."StandardId" = "s0"."Id"
) AS "t2" ON "t0"."Id" = "t2"."LessonId"
ORDER BY "t0"."Id", "t0"."Id0", "t0"."Id1", "t0"."Id2", "t1"."LessonId", "t1"."AttachmentId", "t1"."Id", "t2"."LessonId", "t2"."StandardId"
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='73'], CommandType='"Text"', CommandTimeout='30']
SELECT "t0"."Id", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "t0"."Id0", "t0"."Id1", "t0"."Id2", "t1"."LessonId", "t1"."AttachmentId", "t1"."Id", "t1"."Blob", "t1"."ContentType", "t1"."Description", "t1"."FileName", "t1"."FileSize", "t1"."GoogleDocId", "t1"."GoogleDocUrl", "t1"."Name", "t1"."Shared", "t1"."Type", "t0"."Archived0", "t0"."Description", "t0"."IsDefault", "t0"."SortOrder0", "t0"."Title0", "t0"."TopicId0", "t0"."UserId0", "t0"."Visibility0", "t0"."Archived1", "t0"."CourseId", "t0"."Description0", "t0"."SortOrder1", "t0"."Title1", "t0"."UserId1", "t0"."Visibility1", "t0"."AccessFailedCount", "t0"."ConcurrencyStamp", "t0"."DistrictId", "t0"."Email", "t0"."EmailConfirmed", "t0"."FirstName", "t0"."LastName", "t0"."LockoutEnabled", "t0"."LockoutEnd", "t0"."NormalizedEmail", "t0"."NormalizedUserName", "t0"."PasswordHash", "t0"."PhoneNumber", "t0"."PhoneNumberConfirmed", "t0"."SchoolId", "t0"."SecurityStamp", "t0"."TwoFactorEnabled", "t0"."UserName", "t2"."LessonId", "t2"."StandardId", "t2"."Id", "t2"."CourseId", "t2"."Description", "t2"."DistrictId", "t2"."StandardType", "t2"."Title", "t2"."TopicId"
FROM (
    SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "s"."Id" AS "Id0", "s"."Archived" AS "Archived0", "s"."Description", "s"."IsDefault", "s"."SortOrder" AS "SortOrder0", "s"."Title" AS "Title0", "s"."TopicId" AS "TopicId0", "s"."UserId" AS "UserId0", "s"."Visibility" AS "Visibility0", "t"."Id" AS "Id1", "t"."Archived" AS "Archived1", "t"."CourseId", "t"."Description" AS "Description0", "t"."SortOrder" AS "SortOrder1", "t"."Title" AS "Title1", "t"."UserId" AS "UserId1", "t"."Visibility" AS "Visibility1", "a"."Id" AS "Id2", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Lessons" AS "l"
    LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
    LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "l"."UserId" = "a"."Id"
    WHERE "l"."Id" = @__id_0
    LIMIT 1
) AS "t0"
LEFT JOIN (
    SELECT "l0"."LessonId", "l0"."AttachmentId", "a0"."Id", "a0"."Blob", "a0"."ContentType", "a0"."Description", "a0"."FileName", "a0"."FileSize", "a0"."GoogleDocId", "a0"."GoogleDocUrl", "a0"."Name", "a0"."Shared", "a0"."Type"
    FROM "LessonAttachments" AS "l0"
    INNER JOIN "Attachments" AS "a0" ON "l0"."AttachmentId" = "a0"."Id"
) AS "t1" ON "t0"."Id" = "t1"."LessonId"
LEFT JOIN (
    SELECT "l1"."LessonId", "l1"."StandardId", "s0"."Id", "s0"."CourseId", "s0"."Description", "s0"."DistrictId", "s0"."StandardType", "s0"."Title", "s0"."TopicId"
    FROM "LessonStandards" AS "l1"
    INNER JOIN "Standards" AS "s0" ON "l1"."StandardId" = "s0"."Id"
) AS "t2" ON "t0"."Id" = "t2"."LessonId"
ORDER BY "t0"."Id", "t0"."Id0", "t0"."Id1", "t0"."Id2", "t1"."LessonId", "t1"."AttachmentId", "t1"."Id", "t2"."LessonId", "t2"."StandardId"
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found lesson 73 for user 1
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching configuration 4
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedDate", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title", "t"."UserId", "t"."Id0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "ScheduleConfigurations" AS "s"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id" = "p"."ScheduleConfigurationId"
ORDER BY "t"."Id", "t"."Id0", "p"."Period"
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedDate", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title", "t"."UserId", "t"."Id0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "ScheduleConfigurations" AS "s"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id" = "p"."ScheduleConfigurationId"
ORDER BY "t"."Id", "t"."Id0", "p"."Period"
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found configuration 4 for user 1
[2025-09-01 10:48:25 INF] RegenerateEventsForPeriodCourse: Regenerating period 1, course 7 in schedule 4
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching schedule 4
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:25 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found schedule 4 for user 1 with 22 events and 0 special days
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching configuration 4
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedDate", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title", "t"."UserId", "t"."Id0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "ScheduleConfigurations" AS "s"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id" = "p"."ScheduleConfigurationId"
ORDER BY "t"."Id", "t"."Id0", "p"."Period"
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CreatedDate", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title", "t"."UserId", "t"."Id0", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CreatedDate", "s"."EndDate", "s"."IsActive", "s"."IsTemplate", "s"."LastUpdated", "s"."PeriodsPerDay", "s"."SchoolYear", "s"."StartDate", "s"."TeachingDays", "s"."Title", "s"."UserId", "a"."Id" AS "Id0", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "ScheduleConfigurations" AS "s"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id" = "p"."ScheduleConfigurationId"
ORDER BY "t"."Id", "t"."Id0", "p"."Period"
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found configuration 4 for user 1
[2025-09-01 10:48:25 INF] 🔍 [GetLessonsForCourse] Starting - CourseId: 7, UserId: 1
[2025-09-01 10:48:25 DBG] Retrieving lessons by User ID: 1
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__userId_0='1', @__courseId_1='7'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='1', @__courseId_1='7'], CommandType='"Text"', CommandTimeout='30']
SELECT "l"."Id", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility", "t"."Id", "t"."Archived", "t"."CourseId", "t"."Description", "t"."SortOrder", "t"."Title", "t"."UserId", "t"."Visibility", "s"."Id", "s"."Archived", "s"."Description", "s"."IsDefault", "s"."SortOrder", "s"."Title", "s"."TopicId", "s"."UserId", "s"."Visibility", "t0"."Id", "t0"."Archived", "t0"."CourseId", "t0"."Description", "t0"."SortOrder", "t0"."Title", "t0"."UserId", "t0"."Visibility"
FROM "Lessons" AS "l"
LEFT JOIN "Topics" AS "t" ON "l"."TopicId" = "t"."Id"
LEFT JOIN "SubTopics" AS "s" ON "l"."SubTopicId" = "s"."Id"
LEFT JOIN "Topics" AS "t0" ON "s"."TopicId" = "t0"."Id"
WHERE "l"."UserId" = @__userId_0 AND NOT ("l"."Archived") AND (("l"."TopicId" IS NOT NULL AND "t"."CourseId" = @__courseId_1) OR ("l"."SubTopicId" IS NOT NULL AND "t0"."CourseId" = @__courseId_1))
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] 🔍 [GetLessonsForCourse] Found 10 lessons for Course 7
[2025-09-01 10:48:25 INF] 🔍 [GetLessonsForCourse] Final lesson sequence:
[2025-09-01 10:48:25 INF]   [0] Lesson 61 'Lesson 1' - Topic:1, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:48:25 INF]   [1] Lesson 73 'Lesson 4' - Topic:1, Entity:1, Lesson:0 [SubTopic-1]
[2025-09-01 10:48:25 INF]   [2] Lesson 74 'Lesson 5' - Topic:1, Entity:1, Lesson:1 [SubTopic-1]
[2025-09-01 10:48:25 INF]   [3] Lesson 62 'Lesson 2' - Topic:1, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:48:25 INF]   [4] Lesson 63 'Lesson 3' - Topic:1, Entity:3, Lesson:3 [Direct]
[2025-09-01 10:48:25 INF]   [5] Lesson 64 'Lesson 6' - Topic:2, Entity:0, Lesson:0 [Direct]
[2025-09-01 10:48:25 INF]   [6] Lesson 65 'Lesson 7' - Topic:2, Entity:1, Lesson:1 [Direct]
[2025-09-01 10:48:25 INF]   [7] Lesson 66 'Lesson 8' - Topic:2, Entity:2, Lesson:2 [Direct]
[2025-09-01 10:48:25 INF]   [8] Lesson 75 'Lesson 9' - Topic:2, Entity:3, Lesson:0 [SubTopic-3]
[2025-09-01 10:48:25 INF]   [9] Lesson 76 'Lesson 10' - Topic:2, Entity:3, Lesson:1 [SubTopic-3]
[2025-09-01 10:48:25 INF] 🔍 [GenerateEventsForPeriodCourse] Period 1, Course 7 - 10 lessons available
[2025-09-01 10:48:25 INF] 🔍 [GenerateEventsForPeriodCourse] First lessons: [{"Id":61,"Title":"Lesson 1","TopicId":13,"SubTopicId":null},{"Id":73,"Title":"Lesson 4","TopicId":null,"SubTopicId":13},{"Id":74,"Title":"Lesson 5","TopicId":null,"SubTopicId":13}]
[2025-09-01 10:48:25 INF] 🔍 [GenerateEventsForPeriodCourse] Teaching days: monday, tuesday, wednesday, thursday, friday
[2025-09-01 10:48:25 INF] 🔍 [GenerateEventsForPeriodCourse] Date range: 2025-09-08 to 2025-09-22
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 1: 2025-09-08 (monday), LessonIndex: 0, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 0 (lessonIndex) for Date: 2025-09-08, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2000, Date: 2025-09-08, Period: 1, CourseId: 7, LessonIndex: 0, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 61, Title: 'Lesson 1', Objective: 'C1T1L1'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 61, LessonTitle: 'Lesson 1', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=61, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 1
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 2: 2025-09-09 (tuesday), LessonIndex: 1, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 1 (lessonIndex) for Date: 2025-09-09, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2001, Date: 2025-09-09, Period: 1, CourseId: 7, LessonIndex: 1, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 73, Title: 'Lesson 4', Objective: 'C1T1S1L1'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 73, LessonTitle: 'Lesson 4', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=73, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 2
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 3: 2025-09-10 (wednesday), LessonIndex: 2, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 2 (lessonIndex) for Date: 2025-09-10, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2002, Date: 2025-09-10, Period: 1, CourseId: 7, LessonIndex: 2, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 74, Title: 'Lesson 5', Objective: 'C1T1S1L2'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 74, LessonTitle: 'Lesson 5', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=74, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 3
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 4: 2025-09-11 (thursday), LessonIndex: 3, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 3 (lessonIndex) for Date: 2025-09-11, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2003, Date: 2025-09-11, Period: 1, CourseId: 7, LessonIndex: 3, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 62, Title: 'Lesson 2', Objective: 'C1T1L2'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 62, LessonTitle: 'Lesson 2', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=62, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 4
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 5: 2025-09-12 (friday), LessonIndex: 4, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 4 (lessonIndex) for Date: 2025-09-12, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2004, Date: 2025-09-12, Period: 1, CourseId: 7, LessonIndex: 4, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 63, Title: 'Lesson 3', Objective: 'C1T1L3'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 63, LessonTitle: 'Lesson 3', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=63, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 5
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 6: 2025-09-15 (monday), LessonIndex: 5, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 5 (lessonIndex) for Date: 2025-09-15, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2005, Date: 2025-09-15, Period: 1, CourseId: 7, LessonIndex: 5, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 64, Title: 'Lesson 6', Objective: 'C1T2L1'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 64, LessonTitle: 'Lesson 6', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=64, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 6
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 7: 2025-09-16 (tuesday), LessonIndex: 6, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 6 (lessonIndex) for Date: 2025-09-16, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2006, Date: 2025-09-16, Period: 1, CourseId: 7, LessonIndex: 6, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 65, Title: 'Lesson 7', Objective: 'C1T2L2'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 65, LessonTitle: 'Lesson 7', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=65, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 7
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 8: 2025-09-17 (wednesday), LessonIndex: 7, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 7 (lessonIndex) for Date: 2025-09-17, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2007, Date: 2025-09-17, Period: 1, CourseId: 7, LessonIndex: 7, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 66, Title: 'Lesson 8', Objective: 'C1T2L3'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 66, LessonTitle: 'Lesson 8', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=66, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 8
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 9: 2025-09-18 (thursday), LessonIndex: 8, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 8 (lessonIndex) for Date: 2025-09-18, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2008, Date: 2025-09-18, Period: 1, CourseId: 7, LessonIndex: 8, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 75, Title: 'Lesson 9', Objective: 'C1T2S1L1'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 75, LessonTitle: 'Lesson 9', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=75, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 9
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 10: 2025-09-19 (friday), LessonIndex: 9, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 9 (lessonIndex) for Date: 2025-09-19, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2009, Date: 2025-09-19, Period: 1, CourseId: 7, LessonIndex: 9, LessonsCount: 10
[2025-09-01 10:48:25 DBG] ✅ [CreatePeriodCourseEvent] LESSON ASSIGNED - LessonId: 76, Title: 'Lesson 10', Objective: 'C1T2S1L2'
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Lesson, LessonId: 76, LessonTitle: 'Lesson 10', Comment: 
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Lesson, LessonId=76, Comment=
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Lesson assigned, incrementing index to 10
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Teaching day 11: 2025-09-22 (monday), LessonIndex: 10, LessonsCount: 10
[2025-09-01 10:48:25 INF] 🔢 [ScheduleSort] CRITICAL: Setting ScheduleSort = 10 (lessonIndex) for Date: 2025-09-22, Period: 1, CourseId: 7
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] Input - EventId: -2010, Date: 2025-09-22, Period: 1, CourseId: 7, LessonIndex: 10, LessonsCount: 10
[2025-09-01 10:48:25 WRN] ⚠️ [CreatePeriodCourseEvent] ERROR EVENT - LessonIndex 10 >= LessonsCount 10
[2025-09-01 10:48:25 DBG] 🔍 [CreatePeriodCourseEvent] OUTPUT - EventType: Error, LessonId: , LessonTitle: '', Comment: No lesson assigned - schedule needs more content
[2025-09-01 10:48:25 DBG] 🔍 [GenerateEventsForPeriodCourse] Created event: EventType=Error, LessonId=, Comment=No lesson assigned - schedule needs more content
[2025-09-01 10:48:25 WRN] ⚠️ [GenerateEventsForPeriodCourse] ERROR EVENT created for 2025-09-22, Period 1
[2025-09-01 10:48:25 INF] 🔍 [GenerateEventsForPeriodCourse] Final result: 11 events created, 10 lessons, 1 errors
[2025-09-01 10:48:25 INF] UpdateScheduleEventsAsync: Updating 22 events for schedule 4
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Beginning transaction with isolation level 'Unspecified'.
[2025-09-01 10:48:25 DBG] Began transaction with isolation level 'Serializable'.
[2025-09-01 10:48:25 DBG] Compiling query expression: 
'DbSet<Schedule>()
    .Include(s => s.ScheduleEvents)
    .FirstOrDefault(s => s.Id == __scheduleId_0)'
[2025-09-01 10:48:25 DBG] Including navigation: 'Schedule.ScheduleEvents'.
[2025-09-01 10:48:25 DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Schedule>(
    asyncEnumerable: new SingleQueryingEnumerable<Schedule>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Schedule.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Schedule.CourseId (no field, int?) Shadow FK Index, 1], [Property: Schedule.CreatedDate (DateTime) Required, 2], [Property: Schedule.IsLocked (bool) Required, 3], [Property: Schedule.ScheduleConfigurationId (int) Required FK Index, 4], [Property: Schedule.Title (string) Required MaxLength(100), 5], [Property: Schedule.UserId (int) Required FK Index, 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: ScheduleEvent.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: ScheduleEvent.Comment (string) MaxLength(1000), 8], [Property: ScheduleEvent.CourseId (int?), 9], [Property: ScheduleEvent.Date (DateTime) Required Index, 10], [Property: ScheduleEvent.EventCategory (string) MaxLength(50), 11], [Property: ScheduleEvent.EventType (string) Required MaxLength(50), 12], [Property: ScheduleEvent.LessonId (int?) FK Index, 13], [Property: ScheduleEvent.Period (int) Required Index, 14], [Property: ScheduleEvent.ScheduleId (int) Required FK Index, 15], [Property: ScheduleEvent.ScheduleSort (int) Required, 16] }
                3 -> 7
            SELECT t.Id, t.CourseId, t.CreatedDate, t.IsLocked, t.ScheduleConfigurationId, t.Title, t.UserId, s0.Id, s0.Comment, s0.CourseId, s0.Date, s0.EventCategory, s0.EventType, s0.LessonId, s0.Period, s0.ScheduleId, s0.ScheduleSort
            FROM 
            (
                SELECT TOP(1) s.Id, s.CourseId, s.CreatedDate, s.IsLocked, s.ScheduleConfigurationId, s.Title, s.UserId
                FROM Schedules AS s
                WHERE s.Id == @__scheduleId_0
            ) AS t
            LEFT JOIN ScheduleEvents AS s0 ON t.Id == s0.ScheduleId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Schedule>, 
        LessonTree.DAL.LessonTreeContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__scheduleId_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "s0"."Id", "s0"."Comment", "s0"."CourseId", "s0"."Date", "s0"."EventCategory", "s0"."EventType", "s0"."LessonId", "s0"."Period", "s0"."ScheduleId", "s0"."ScheduleSort"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId"
    FROM "Schedules" AS "s"
    WHERE "s"."Id" = @__scheduleId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ScheduleEvents" AS "s0" ON "t"."Id" = "s0"."ScheduleId"
ORDER BY "t"."Id"
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@__scheduleId_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "s0"."Id", "s0"."Comment", "s0"."CourseId", "s0"."Date", "s0"."EventCategory", "s0"."EventType", "s0"."LessonId", "s0"."Period", "s0"."ScheduleId", "s0"."ScheduleSort"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId"
    FROM "Schedules" AS "s"
    WHERE "s"."Id" = @__scheduleId_0
    LIMIT 1
) AS "t"
LEFT JOIN "ScheduleEvents" AS "s0" ON "t"."Id" = "s0"."ScheduleId"
ORDER BY "t"."Id"
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 INF] UpdateScheduleEventsAsync: Found 22 existing events to replace
[2025-09-01 10:48:25 DBG] SaveChanges starting for 'LessonTreeContext'.
[2025-09-01 10:48:25 DBG] DetectChanges starting for 'LessonTreeContext'.
[2025-09-01 10:48:25 DBG] 22 entities were added and 22 entities were removed from navigation 'Schedule.ScheduleEvents' on entity with key '{Id: 4}'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 67}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 67}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 67}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 67}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 68}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 68}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 68}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 68}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 69}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 69}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 69}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 69}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 70}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 70}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 70}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 70}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 71}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 71}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 71}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 71}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 72}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 72}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 72}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 72}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 73}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 73}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 73}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 73}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 74}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 74}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 74}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 74}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 75}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 75}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 75}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 75}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 76}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 76}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 76}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 76}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 77}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 77}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 77}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 77}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 78}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 78}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 78}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 78}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 79}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 79}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 79}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 79}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 80}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 80}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 80}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 80}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 81}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 81}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 81}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 81}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 82}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 82}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 82}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 82}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 83}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 83}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 83}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 83}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 84}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 84}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 84}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 84}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 85}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 85}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 85}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 85}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 86}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 86}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 86}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 86}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 87}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 87}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 87}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 87}' was detected as changed.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 88}' tracked by 'LessonTreeContext' changed state from '"Unchanged"' to '"Modified"'.
[2025-09-01 10:48:25 DBG] An entity of type 'ScheduleEvent' with key '{Id: 88}' changed to '"Deleted"' state due to severed required relationship to its parent entity of type 'Schedule'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 88}' tracked by 'LessonTreeContext' changed state from '"Modified"' to '"Deleted"'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: 88}' was detected as changed.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482625' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482625}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482625}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482625}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482624' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482624}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482624}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482624}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482623' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482623}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482623}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482623}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482622' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482622}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482622}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482622}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482621' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482621}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482621}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482621}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482620' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482620}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482620}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482620}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482619' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482619}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482619}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482619}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482618' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482618}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482618}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482618}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482617' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482617}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482617}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482617}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482616' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482616}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482616}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482616}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482615' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482615}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482615}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482614' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482614}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482614}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482614}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482613' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482613}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482613}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482613}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482612' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482612}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482612}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482612}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482611' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482611}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482611}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482611}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482610' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482610}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482610}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482610}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482609' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482609}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482609}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482609}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482608' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482608}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482608}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482608}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482607' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482607}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482607}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482607}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482606' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482606}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482606}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482606}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482605' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: -2147482605}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482605}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482605}'.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' generated temporary value '-2147482604' for the property 'ScheduleEvent.Id'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Schedule' for entity with key '{Id: -2147482604}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: -2147482604}'.
[2025-09-01 10:48:25 DBG] DetectChanges completed for 'LessonTreeContext'.
[2025-09-01 10:48:25 DBG] Creating transaction savepoint.
[2025-09-01 10:48:25 DBG] Created transaction savepoint.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='67'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='67'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='68'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='68'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='69'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='69'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='70'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='70'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='71'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='71'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='72'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='72'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='73'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='73'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='74'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='74'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='75'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='75'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='76'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='76'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='77'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='77'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='78'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='78'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='79'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='79'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='80'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='80'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='81'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='81'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='82'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='82'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='83'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='83'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='84'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='84'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='85'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='85'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='86'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='86'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='87'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='87'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='88'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='88'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ScheduleEvents"
WHERE "Id" = @p0
RETURNING 1;
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-08T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='67' (Nullable = true), @p6='2', @p7='4', @p8='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-08T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='67' (Nullable = true), @p6='2', @p7='4', @p8='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482625' to '89' for entity with key '{Id: 89}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-09T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='68' (Nullable = true), @p6='2', @p7='4', @p8='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-09T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='68' (Nullable = true), @p6='2', @p7='4', @p8='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482624' to '90' for entity with key '{Id: 90}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-10T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='69' (Nullable = true), @p6='2', @p7='4', @p8='2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-10T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='69' (Nullable = true), @p6='2', @p7='4', @p8='2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482623' to '91' for entity with key '{Id: 91}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-11T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='77' (Nullable = true), @p6='2', @p7='4', @p8='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-11T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='77' (Nullable = true), @p6='2', @p7='4', @p8='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482622' to '92' for entity with key '{Id: 92}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-12T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='78' (Nullable = true), @p6='2', @p7='4', @p8='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-12T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='78' (Nullable = true), @p6='2', @p7='4', @p8='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482621' to '93' for entity with key '{Id: 93}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-15T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='70' (Nullable = true), @p6='2', @p7='4', @p8='5'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-15T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='70' (Nullable = true), @p6='2', @p7='4', @p8='5'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482620' to '94' for entity with key '{Id: 94}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-16T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='71' (Nullable = true), @p6='2', @p7='4', @p8='6'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-16T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='71' (Nullable = true), @p6='2', @p7='4', @p8='6'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482619' to '95' for entity with key '{Id: 95}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-17T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='72' (Nullable = true), @p6='2', @p7='4', @p8='7'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-17T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='72' (Nullable = true), @p6='2', @p7='4', @p8='7'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482618' to '96' for entity with key '{Id: 96}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-18T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='79' (Nullable = true), @p6='2', @p7='4', @p8='8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-18T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='79' (Nullable = true), @p6='2', @p7='4', @p8='8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482617' to '97' for entity with key '{Id: 97}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-19T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='80' (Nullable = true), @p6='2', @p7='4', @p8='9'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='8' (Nullable = true), @p2='2025-09-19T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='80' (Nullable = true), @p6='2', @p7='4', @p8='9'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482616' to '98' for entity with key '{Id: 98}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='No lesson assigned - schedule needs more content' (Size = 48), @p1='8' (Nullable = true), @p2='2025-09-22T00:00:00.0000000' (DbType = DateTime), @p3=NULL, @p4='Error' (Nullable = false) (Size = 5), @p5=NULL (DbType = Int32), @p6='2', @p7='4', @p8='10'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='No lesson assigned - schedule needs more content' (Size = 48), @p1='8' (Nullable = true), @p2='2025-09-22T00:00:00.0000000' (DbType = DateTime), @p3=NULL, @p4='Error' (Nullable = false) (Size = 5), @p5=NULL (DbType = Int32), @p6='2', @p7='4', @p8='10'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482615' to '99' for entity with key '{Id: 99}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-08T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='61' (Nullable = true), @p6='1', @p7='4', @p8='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-08T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='61' (Nullable = true), @p6='1', @p7='4', @p8='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482614' to '100' for entity with key '{Id: 100}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-09T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='73' (Nullable = true), @p6='1', @p7='4', @p8='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-09T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='73' (Nullable = true), @p6='1', @p7='4', @p8='1'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482613' to '101' for entity with key '{Id: 101}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-10T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='74' (Nullable = true), @p6='1', @p7='4', @p8='2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-10T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='74' (Nullable = true), @p6='1', @p7='4', @p8='2'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482612' to '102' for entity with key '{Id: 102}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-11T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='62' (Nullable = true), @p6='1', @p7='4', @p8='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-11T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='62' (Nullable = true), @p6='1', @p7='4', @p8='3'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482611' to '103' for entity with key '{Id: 103}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-12T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='63' (Nullable = true), @p6='1', @p7='4', @p8='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-12T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='63' (Nullable = true), @p6='1', @p7='4', @p8='4'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482610' to '104' for entity with key '{Id: 104}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-15T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='64' (Nullable = true), @p6='1', @p7='4', @p8='5'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-15T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='64' (Nullable = true), @p6='1', @p7='4', @p8='5'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482609' to '105' for entity with key '{Id: 105}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-16T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='65' (Nullable = true), @p6='1', @p7='4', @p8='6'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-16T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='65' (Nullable = true), @p6='1', @p7='4', @p8='6'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482608' to '106' for entity with key '{Id: 106}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-17T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='66' (Nullable = true), @p6='1', @p7='4', @p8='7'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-17T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='66' (Nullable = true), @p6='1', @p7='4', @p8='7'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482607' to '107' for entity with key '{Id: 107}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-18T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='75' (Nullable = true), @p6='1', @p7='4', @p8='8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-18T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='75' (Nullable = true), @p6='1', @p7='4', @p8='8'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482606' to '108' for entity with key '{Id: 108}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-19T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='76' (Nullable = true), @p6='1', @p7='4', @p8='9'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0=NULL, @p1='7' (Nullable = true), @p2='2025-09-19T00:00:00.0000000' (DbType = DateTime), @p3='Lesson' (Size = 6), @p4='Lesson' (Nullable = false) (Size = 6), @p5='76' (Nullable = true), @p6='1', @p7='4', @p8='9'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482605' to '109' for entity with key '{Id: 109}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@p0='No lesson assigned - schedule needs more content' (Size = 48), @p1='7' (Nullable = true), @p2='2025-09-22T00:00:00.0000000' (DbType = DateTime), @p3=NULL, @p4='Error' (Nullable = false) (Size = 5), @p5=NULL (DbType = Int32), @p6='1', @p7='4', @p8='10'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 INF] Executed DbCommand (0ms) [Parameters=[@p0='No lesson assigned - schedule needs more content' (Size = 48), @p1='7' (Nullable = true), @p2='2025-09-22T00:00:00.0000000' (DbType = DateTime), @p3=NULL, @p4='Error' (Nullable = false) (Size = 5), @p5=NULL (DbType = Int32), @p6='1', @p7='4', @p8='10'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ScheduleEvents" ("Comment", "CourseId", "Date", "EventCategory", "EventType", "LessonId", "Period", "ScheduleId", "ScheduleSort")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
[2025-09-01 10:48:25 DBG] The foreign key property 'ScheduleEvent.Id' was detected as changed from '-2147482604' to '110' for entity with key '{Id: 110}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 0ms reading results.
[2025-09-01 10:48:25 DBG] Releasing transaction savepoint.
[2025-09-01 10:48:25 DBG] Released transaction savepoint.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 89}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 90}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 91}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 92}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 93}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 94}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 95}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 96}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 97}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 98}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 99}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 100}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 101}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 102}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 103}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 104}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 105}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 106}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 107}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 108}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 109}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 110}' tracked by 'LessonTreeContext' changed state from '"Added"' to '"Unchanged"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 67}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 68}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 69}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 70}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 71}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 72}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 73}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 74}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 75}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 76}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 77}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 78}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 79}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 80}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 81}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 82}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 83}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 84}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 85}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 86}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 87}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] The 'ScheduleEvent' entity with key '{Id: 88}' tracked by 'LessonTreeContext' changed state from '"Deleted"' to '"Detached"'.
[2025-09-01 10:48:25 DBG] SaveChanges completed for 'LessonTreeContext' with 44 entities written to the database.
[2025-09-01 10:48:25 DBG] Committing transaction.
[2025-09-01 10:48:25 DBG] Committed transaction.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] UpdateScheduleEventsAsync: Updated schedule 4 with 22 events
[2025-09-01 10:48:25 DBG] Disposing transaction.
[2025-09-01 10:48:25 INF] Regenerated 11 events for period 1, course 7
[2025-09-01 10:48:25 INF] Updated 11 events across 1 periods for moved lesson 73
[2025-09-01 10:48:25 INF] Successfully updated schedule 4 for SubTopic move
[2025-09-01 10:48:25 INF] UpdateScheduleAfterSubTopicMoveAsync: Completed schedule updates for SubTopic 13
[2025-09-01 10:48:25 INF] Moved SubTopic ID: 13 to Topic ID: 13 by User ID: 1
[2025-09-01 10:48:25 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-09-01 10:48:25 DBG] No information found on request to perform content negotiation.
[2025-09-01 10:48:25 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-09-01 10:48:25 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-09-01 10:48:25 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-09-01 10:48:25 INF] Executing OkObjectResult, writing value of type 'LessonTree.Models.DTO.SubTopicPositioningResult'.
[2025-09-01 10:48:25 INF] Executed action LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API) in 221.1193ms
[2025-09-01 10:48:25 INF] Executed endpoint 'LessonTree.API.Controllers.SubTopicController.MoveSubTopic (LessonTree.API)'
[2025-09-01 10:48:25 INF] HTTP POST /api/subtopic/move responded 200 in 223.9432 ms
[2025-09-01 10:48:25 DBG] Connection id "0HNF9DRODF7SC" completed keep alive response.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' disposed.
[2025-09-01 10:48:25 DBG] Disposing connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Disposed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] Request finished HTTP/1.1 POST http://localhost:5046/api/subtopic/move - 200 null application/json; charset=utf-8 225.8705ms
[2025-09-01 10:48:25 INF] Request starting HTTP/1.1 OPTIONS http://localhost:5046/api/Schedule/4/events/dateRange?startDate=2025-09-08&endDate=2025-09-14 - null null
[2025-09-01 10:48:25 DBG] 1 candidate(s) found for the request path '/api/Schedule/4/events/dateRange'
[2025-09-01 10:48:25 DBG] Request matched endpoint '405 HTTP Method Not Supported'
[2025-09-01 10:48:25 INF] Middleware: Handling OPTIONS request to /api/Schedule/4/events/dateRange
[2025-09-01 10:48:25 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:25 INF] CORS policy execution successful.
[2025-09-01 10:48:25 DBG] The request is a preflight request.
[2025-09-01 10:48:25 DBG] Connection id "0HNF9DRODF7SC" completed keep alive response.
[2025-09-01 10:48:25 INF] Request finished HTTP/1.1 OPTIONS http://localhost:5046/api/Schedule/4/events/dateRange?startDate=2025-09-08&endDate=2025-09-14 - 204 null null 0.4789ms
[2025-09-01 10:48:25 INF] Request starting HTTP/1.1 GET http://localhost:5046/api/Schedule/4/events/dateRange?startDate=2025-09-08&endDate=2025-09-14 - null null
[2025-09-01 10:48:25 DBG] 1 candidate(s) found for the request path '/api/Schedule/4/events/dateRange'
[2025-09-01 10:48:25 DBG] Endpoint 'LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API)' with route pattern 'api/Schedule/{scheduleId}/events/dateRange' is valid for the request path '/api/Schedule/4/events/dateRange'
[2025-09-01 10:48:25 DBG] Request matched endpoint 'LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API)'
[2025-09-01 10:48:25 INF] Middleware: Handling GET request to /api/Schedule/4/events/dateRange
[2025-09-01 10:48:25 DBG] The request has an origin header: 'http://localhost:4200'.
[2025-09-01 10:48:25 INF] CORS policy execution successful.
[2025-09-01 10:48:25 DBG] The request is insecure. Skipping HSTS header.
[2025-09-01 10:48:25 DBG] AuthenticationScheme: Identity.Application was not authenticated.
[2025-09-01 10:48:25 DBG] Successfully validated the token.
[2025-09-01 10:48:25 DBG] AuthenticationScheme: Bearer was successfully authenticated.
[2025-09-01 10:48:25 DBG] Authorization was successful.
[2025-09-01 10:48:25 DBG] Static files was skipped as the request already matched an endpoint.
[2025-09-01 10:48:25 INF] Executing endpoint 'LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API)'
[2025-09-01 10:48:25 INF] Route matched with {action = "GetEventsByDateRange", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[LessonTree.Models.DTO.ScheduleEventResource]]] GetEventsByDateRange(Int32, System.DateTime, System.DateTime) on controller LessonTree.API.Controllers.ScheduleController (LessonTree.API).
[2025-09-01 10:48:25 DBG] Execution plan of authorization filters (in the following order): ["None"]
[2025-09-01 10:48:25 DBG] Execution plan of resource filters (in the following order): ["None"]
[2025-09-01 10:48:25 DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","LessonTree.API.Filters.RequestLoggingFilter"]
[2025-09-01 10:48:25 DBG] Execution plan of exception filters (in the following order): ["None"]
[2025-09-01 10:48:25 DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
[2025-09-01 10:48:25 DBG] Executing controller factory for controller LessonTree.API.Controllers.ScheduleController (LessonTree.API)
[2025-09-01 10:48:25 DBG] Executed controller factory for controller LessonTree.API.Controllers.ScheduleController (LessonTree.API)
[2025-09-01 10:48:25 DBG] Attempting to bind parameter 'scheduleId' of type 'System.Int32' ...
[2025-09-01 10:48:25 DBG] Attempting to bind parameter 'scheduleId' of type 'System.Int32' using the name 'scheduleId' in request data ...
[2025-09-01 10:48:25 DBG] Done attempting to bind parameter 'scheduleId' of type 'System.Int32'.
[2025-09-01 10:48:25 DBG] Done attempting to bind parameter 'scheduleId' of type 'System.Int32'.
[2025-09-01 10:48:25 DBG] Attempting to validate the bound parameter 'scheduleId' of type 'System.Int32' ...
[2025-09-01 10:48:25 DBG] Done attempting to validate the bound parameter 'scheduleId' of type 'System.Int32'.
[2025-09-01 10:48:25 DBG] Attempting to bind parameter 'startDate' of type 'System.DateTime' ...
[2025-09-01 10:48:25 DBG] Attempting to bind parameter 'startDate' of type 'System.DateTime' using the name 'startDate' in request data ...
[2025-09-01 10:48:25 DBG] Done attempting to bind parameter 'startDate' of type 'System.DateTime'.
[2025-09-01 10:48:25 DBG] Done attempting to bind parameter 'startDate' of type 'System.DateTime'.
[2025-09-01 10:48:25 DBG] Attempting to validate the bound parameter 'startDate' of type 'System.DateTime' ...
[2025-09-01 10:48:25 DBG] Done attempting to validate the bound parameter 'startDate' of type 'System.DateTime'.
[2025-09-01 10:48:25 DBG] Attempting to bind parameter 'endDate' of type 'System.DateTime' ...
[2025-09-01 10:48:25 DBG] Attempting to bind parameter 'endDate' of type 'System.DateTime' using the name 'endDate' in request data ...
[2025-09-01 10:48:25 DBG] Done attempting to bind parameter 'endDate' of type 'System.DateTime'.
[2025-09-01 10:48:25 DBG] Done attempting to bind parameter 'endDate' of type 'System.DateTime'.
[2025-09-01 10:48:25 DBG] Attempting to validate the bound parameter 'endDate' of type 'System.DateTime' ...
[2025-09-01 10:48:25 DBG] Done attempting to validate the bound parameter 'endDate' of type 'System.DateTime'.
[2025-09-01 10:48:25 INF] Incoming request: GET /api/Schedule/4/events/dateRange, Query: ?startDate=2025-09-08&endDate=2025-09-14, Body: 
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching schedule 4 for user 1
[2025-09-01 10:48:25 INF] GetByIdAsync: Fetching schedule 4
[2025-09-01 10:48:25 DBG] Entity Framework Core 8.0.2 initialized 'LessonTreeContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled 
[2025-09-01 10:48:25 DBG] Creating DbConnection.
[2025-09-01 10:48:25 DBG] Created DbConnection. (0ms).
[2025-09-01 10:48:25 DBG] Opening connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Opened connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Creating DbCommand for 'ExecuteReader'.
[2025-09-01 10:48:25 DBG] Created DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
[2025-09-01 10:48:25 DBG] Executing DbCommand [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:25 INF] Executed DbCommand (1ms) [Parameters=[@__id_0='4'], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."CourseId", "t"."CreatedDate", "t"."IsLocked", "t"."ScheduleConfigurationId", "t"."Title", "t"."UserId", "t"."Id0", "t"."CreatedDate0", "t"."EndDate", "t"."IsActive", "t"."IsTemplate", "t"."LastUpdated", "t"."PeriodsPerDay", "t"."SchoolYear", "t"."StartDate", "t"."TeachingDays", "t"."Title0", "t"."UserId0", "t"."Id1", "p"."Id", "p"."BackgroundColor", "p"."CourseId", "p"."FontColor", "p"."Notes", "p"."Period", "p"."Room", "p"."ScheduleConfigurationId", "p"."SpecialPeriodType", "p"."TeachingDays", "t0"."Id", "t0"."Comment", "t0"."CourseId", "t0"."Date", "t0"."EventCategory", "t0"."EventType", "t0"."LessonId", "t0"."Period", "t0"."ScheduleId", "t0"."ScheduleSort", "t0"."Id0", "t0"."Archived", "t0"."Assessment", "t0"."ClassTime", "t0"."Level", "t0"."Materials", "t0"."Methods", "t0"."Objective", "t0"."SortOrder", "t0"."SpecialNeeds", "t0"."SubTopicId", "t0"."Title", "t0"."TopicId", "t0"."UserId", "t0"."Visibility", "s2"."Id", "s2"."Date", "s2"."EventType", "s2"."Periods", "s2"."ScheduleId", "s2"."Title", "t"."AccessFailedCount", "t"."ConcurrencyStamp", "t"."DistrictId", "t"."Email", "t"."EmailConfirmed", "t"."FirstName", "t"."LastName", "t"."LockoutEnabled", "t"."LockoutEnd", "t"."NormalizedEmail", "t"."NormalizedUserName", "t"."PasswordHash", "t"."PhoneNumber", "t"."PhoneNumberConfirmed", "t"."SchoolId", "t"."SecurityStamp", "t"."TwoFactorEnabled", "t"."UserName"
FROM (
    SELECT "s"."Id", "s"."CourseId", "s"."CreatedDate", "s"."IsLocked", "s"."ScheduleConfigurationId", "s"."Title", "s"."UserId", "s0"."Id" AS "Id0", "s0"."CreatedDate" AS "CreatedDate0", "s0"."EndDate", "s0"."IsActive", "s0"."IsTemplate", "s0"."LastUpdated", "s0"."PeriodsPerDay", "s0"."SchoolYear", "s0"."StartDate", "s0"."TeachingDays", "s0"."Title" AS "Title0", "s0"."UserId" AS "UserId0", "a"."Id" AS "Id1", "a"."AccessFailedCount", "a"."ConcurrencyStamp", "a"."DistrictId", "a"."Email", "a"."EmailConfirmed", "a"."FirstName", "a"."LastName", "a"."LockoutEnabled", "a"."LockoutEnd", "a"."NormalizedEmail", "a"."NormalizedUserName", "a"."PasswordHash", "a"."PhoneNumber", "a"."PhoneNumberConfirmed", "a"."SchoolId", "a"."SecurityStamp", "a"."TwoFactorEnabled", "a"."UserName"
    FROM "Schedules" AS "s"
    INNER JOIN "ScheduleConfigurations" AS "s0" ON "s"."ScheduleConfigurationId" = "s0"."Id"
    INNER JOIN "AspNetUsers" AS "a" ON "s"."UserId" = "a"."Id"
    WHERE "s"."Id" = @__id_0
    LIMIT 1
) AS "t"
LEFT JOIN "PeriodAssignments" AS "p" ON "t"."Id0" = "p"."ScheduleConfigurationId"
LEFT JOIN (
    SELECT "s1"."Id", "s1"."Comment", "s1"."CourseId", "s1"."Date", "s1"."EventCategory", "s1"."EventType", "s1"."LessonId", "s1"."Period", "s1"."ScheduleId", "s1"."ScheduleSort", "l"."Id" AS "Id0", "l"."Archived", "l"."Assessment", "l"."ClassTime", "l"."Level", "l"."Materials", "l"."Methods", "l"."Objective", "l"."SortOrder", "l"."SpecialNeeds", "l"."SubTopicId", "l"."Title", "l"."TopicId", "l"."UserId", "l"."Visibility"
    FROM "ScheduleEvents" AS "s1"
    LEFT JOIN "Lessons" AS "l" ON "s1"."LessonId" = "l"."Id"
) AS "t0" ON "t"."Id" = "t0"."ScheduleId"
LEFT JOIN "SpecialDays" AS "s2" ON "t"."Id" = "s2"."ScheduleId"
ORDER BY "t"."Id", "t"."Id0", "t"."Id1", "p"."Id", "t0"."Date", "t0"."Period", "t0"."Id", "t0"."Id0", "s2"."Date"
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Schedule' entity with key '{Id: 4}'.
[2025-09-01 10:48:25 DBG] The navigation 'Schedule.ScheduleConfiguration' for entity with key '{Id: 4}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleConfiguration' entity with key '{Id: 4}'.
[2025-09-01 10:48:25 DBG] The navigation 'Schedule.User' for entity with key '{Id: 4}' was detected as changed.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleConfiguration.User' for entity with key '{Id: 4}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'User' entity with key '{Id: 1}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 7}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 100}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 100}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 61}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 89}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 89}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 67}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 101}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 101}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 73}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 90}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 90}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 68}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 102}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 102}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 74}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 91}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 91}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 69}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 103}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 103}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 62}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 92}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 92}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 77}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 104}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 104}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 63}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 93}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 93}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 78}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 105}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 105}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 64}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 94}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 94}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 70}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 106}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 106}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 65}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 95}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 95}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 71}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 107}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 107}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 66}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 96}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 96}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 72}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 108}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 108}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 75}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 97}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 97}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 79}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 109}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 109}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 76}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 98}'.
[2025-09-01 10:48:25 DBG] The navigation 'ScheduleEvent.Lesson' for entity with key '{Id: 98}' was detected as changed.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'Lesson' entity with key '{Id: 80}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 110}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'ScheduleEvent' entity with key '{Id: 99}'.
[2025-09-01 10:48:25 DBG] Context 'LessonTreeContext' started tracking 'PeriodAssignment' entity with key '{Id: 8}'.
[2025-09-01 10:48:25 DBG] Closing data reader to 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] A data reader for 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db' is being disposed after spending 2ms reading results.
[2025-09-01 10:48:25 DBG] Closing connection to database 'main' on server 'C:\Users\steve\LessonTree\LessonTree_API\LessonTree.Api\LessonTree.db'.
[2025-09-01 10:48:25 DBG] Closed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] GetByIdAsync: Found schedule 4 for user 1 with 22 events and 0 special days
[2025-09-01 10:48:25 INF] GetByIdAsync: Found schedule 4 for user 1
[2025-09-01 10:48:25 INF] GetEventsByDateRange: Returning 10 events for schedule 4 between 2025-09-08 and 2025-09-14
[2025-09-01 10:48:25 DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
[2025-09-01 10:48:25 DBG] No information found on request to perform content negotiation.
[2025-09-01 10:48:25 DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
[2025-09-01 10:48:25 DBG] Attempting to select the first formatter in the output formatters list which can write the result.
[2025-09-01 10:48:25 DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
[2025-09-01 10:48:25 INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[LessonTree.Models.DTO.ScheduleEventResource, LessonTree.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-09-01 10:48:25 INF] Executed action LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API) in 10.1587ms
[2025-09-01 10:48:25 INF] Executed endpoint 'LessonTree.API.Controllers.ScheduleController.GetEventsByDateRange (LessonTree.API)'
[2025-09-01 10:48:25 INF] HTTP GET /api/Schedule/4/events/dateRange responded 200 in 10.6211 ms
[2025-09-01 10:48:25 DBG] Connection id "0HNF9DRODF7SC" completed keep alive response.
[2025-09-01 10:48:25 DBG] 'LessonTreeContext' disposed.
[2025-09-01 10:48:25 DBG] Disposing connection to database 'main' on server 'LessonTree.db'.
[2025-09-01 10:48:25 DBG] Disposed connection to database 'main' on server 'LessonTree.db' (0ms).
[2025-09-01 10:48:25 INF] Request finished HTTP/1.1 GET http://localhost:5046/api/Schedule/4/events/dateRange?startDate=2025-09-08&endDate=2025-09-14 - 200 null application/json; charset=utf-8 12.711ms
[2025-09-01 10:48:30 DBG] Connection id "0HNF9DRODF7SC" received FIN.
[2025-09-01 10:48:30 DBG] Connection id "0HNF9DRODF7SC" sending FIN because: "The Socket transport's send loop completed gracefully."
[2025-09-01 10:48:30 DBG] Connection id "0HNF9DRODF7SC" disconnecting.
[2025-09-01 10:48:30 DBG] Connection id "0HNF9DRODF7SC" stopped.
